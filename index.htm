<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:"Aptos Display";}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI Symbol";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	line-height:115%;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:18.0pt;
	margin-right:0cm;
	margin-bottom:4.0pt;
	margin-left:0cm;
	line-height:115%;
	page-break-after:avoid;
	font-size:20.0pt;
	font-family:"Aptos Display",sans-serif;
	color:#0F4761;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:8.0pt;
	margin-right:0cm;
	margin-bottom:4.0pt;
	margin-left:0cm;
	line-height:115%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Aptos Display",sans-serif;
	color:#0F4761;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:8.0pt;
	margin-right:0cm;
	margin-bottom:4.0pt;
	margin-left:0cm;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Aptos",sans-serif;
	color:#0F4761;
	font-weight:normal;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:4.0pt;
	margin-right:0cm;
	margin-bottom:2.0pt;
	margin-left:0cm;
	line-height:115%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	color:#0F4761;
	font-weight:normal;
	font-style:italic;}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:4.0pt;
	margin-right:0cm;
	margin-bottom:2.0pt;
	margin-left:0cm;
	line-height:115%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	color:#0F4761;
	font-weight:normal;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	line-height:115%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	color:#595959;
	font-weight:normal;
	font-style:italic;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Heading 7 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	line-height:115%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	color:#595959;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"Heading 8 Char";
	margin:0cm;
	line-height:115%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	color:#272727;
	font-style:italic;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"Heading 9 Char";
	margin:0cm;
	line-height:115%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	color:#272727;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:4.0pt;
	margin-left:0cm;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0cm;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0cm;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:4.0pt;
	margin-left:0cm;
	font-size:28.0pt;
	font-family:"Aptos Display",sans-serif;
	letter-spacing:-.5pt;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-link:"Subtitle Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	line-height:115%;
	font-size:14.0pt;
	font-family:"Aptos",sans-serif;
	color:#595959;
	letter-spacing:.75pt;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:36.0pt;
	line-height:115%;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	line-height:115%;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	line-height:115%;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:36.0pt;
	line-height:115%;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;}
p.MsoQuote, li.MsoQuote, div.MsoQuote
	{mso-style-link:"Quote Char";
	margin-top:8.0pt;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	text-align:center;
	line-height:115%;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	color:#404040;
	font-style:italic;}
p.MsoIntenseQuote, li.MsoIntenseQuote, div.MsoIntenseQuote
	{mso-style-link:"Intense Quote Char";
	margin-top:18.0pt;
	margin-right:43.2pt;
	margin-bottom:18.0pt;
	margin-left:43.2pt;
	text-align:center;
	line-height:115%;
	border:none;
	padding:0cm;
	font-size:12.0pt;
	font-family:"Aptos",sans-serif;
	color:#0F4761;
	font-style:italic;}
span.MsoIntenseEmphasis
	{color:#0F4761;
	font-style:italic;}
span.MsoIntenseReference
	{font-variant:small-caps;
	color:#0F4761;
	letter-spacing:.25pt;
	font-weight:bold;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Aptos Display",sans-serif;
	color:#0F4761;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Aptos Display",sans-serif;
	color:#0F4761;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Times New Roman",serif;
	color:#0F4761;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Times New Roman",serif;
	color:#0F4761;
	font-style:italic;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-family:"Times New Roman",serif;
	color:#0F4761;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	font-family:"Times New Roman",serif;
	color:#595959;
	font-style:italic;}
span.Heading7Char
	{mso-style-name:"Heading 7 Char";
	mso-style-link:"Heading 7";
	font-family:"Times New Roman",serif;
	color:#595959;}
span.Heading8Char
	{mso-style-name:"Heading 8 Char";
	mso-style-link:"Heading 8";
	font-family:"Times New Roman",serif;
	color:#272727;
	font-style:italic;}
span.Heading9Char
	{mso-style-name:"Heading 9 Char";
	mso-style-link:"Heading 9";
	font-family:"Times New Roman",serif;
	color:#272727;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Aptos Display",sans-serif;
	letter-spacing:-.5pt;}
span.SubtitleChar
	{mso-style-name:"Subtitle Char";
	mso-style-link:Subtitle;
	font-family:"Times New Roman",serif;
	color:#595959;
	letter-spacing:.75pt;}
span.QuoteChar
	{mso-style-name:"Quote Char";
	mso-style-link:Quote;
	color:#404040;
	font-style:italic;}
span.IntenseQuoteChar
	{mso-style-name:"Intense Quote Char";
	mso-style-link:"Intense Quote";
	color:#0F4761;
	font-style:italic;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
.MsoChpDefault
	{font-size:12.0pt;
	font-family:"Aptos",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:115%;}
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:70.85pt 3.0cm 70.85pt 3.0cm;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=ES-MX style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal><span lang=EN-US>import { useState, useEffect, useRef,
useCallback } from &quot;react&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>// &#9472;&#9472;&#9472; CONSTANTS
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>const MISSIONS = [</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;shower&quot;, title:
&quot;Ducha de 5 minutos&quot;, desc: &quot;Toma tu baño en 5 minutos o
menos&quot;, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128703;</span><span
lang=EN-US>&quot;, reward: 30, type: &quot;timer&quot;, duration: 300 },</span></p>

<p class=MsoNormal><span lang=EN-US>  </span>{ id: &quot;faucet&quot;, title:
&quot;Cierra bien la llave&quot;, desc: &quot;Cierra la llave completamente al
lavarte las manos&quot;, icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#128688;</span>&quot;,
reward: 15, type: &quot;confirm&quot; },</p>

<p class=MsoNormal>  { id: &quot;carwash&quot;, title: &quot;Lava tu carro con
cubeta&quot;, desc: &quot;Usa cubetas en vez de manguera para lavar el
carro&quot;, icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#129699;</span>&quot;,
reward: 40, type: &quot;confirm&quot; },</p>

<p class=MsoNormal>  { id: &quot;bucket&quot;, title: &quot;Cubeta bajo la
regadera&quot;, desc: &quot;Pon una cubeta mientras se calienta el agua&quot;,
icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#129699;</span>&quot;,
reward: 20, type: &quot;confirm&quot; },</p>

<p class=MsoNormal>  { id: &quot;plants&quot;, title: &quot;Riega con agua
reutilizada&quot;, desc: &quot;Usa agua reciclada para regar tus plantas&quot;,
icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#127793;</span>&quot;,
reward: 25, type: &quot;confirm&quot; },</p>

<p class=MsoNormal>  { id: &quot;dishes&quot;, title: &quot;Lava platos con
tina&quot;, desc: &quot;Usa una tina de agua en lugar de agua corriente&quot;,
icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#127869;&#65039;</span>&quot;,
reward: 20, type: &quot;confirm&quot; },</p>

<p class=MsoNormal>  { id: &quot;rain&quot;, title: &quot;Recolecta agua de
lluvia&quot;, desc: &quot;Coloca recipientes para recolectar agua de
lluvia&quot;, icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#127783;&#65039;</span>&quot;,
reward: 50, type: &quot;confirm&quot; },</p>

<p class=MsoNormal>  { id: &quot;leak&quot;, title: &quot;Revisa fugas&quot;,
desc: &quot;Inspecciona y repara cualquier fuga de agua en casa&quot;, icon:
&quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#128295;</span>&quot;,
reward: 35, type: &quot;confirm&quot; },</p>

<p class=MsoNormal>];</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>const SHOP_ITEMS = [</p>

<p class=MsoNormal>  { id: &quot;evo1&quot;, category: &quot;evolution&quot;,
name: &quot;Evolución: Lagartija bebé&quot;, desc: &quot;¡Tu huevo
eclosiona!&quot;, price: 100, requires: 0, icon: &quot;<span style='font-family:
"Segoe UI Emoji",sans-serif'>&#129422;</span>&quot;, evoLevel: 1 },</p>

<p class=MsoNormal>  { id: &quot;evo2&quot;, category: &quot;evolution&quot;,
name: &quot;Evolución: Lagartija joven&quot;, desc: &quot;Tu lagartija
crece&quot;, price: 300, requires: 1, icon: &quot;<span style='font-family:
"Segoe UI Emoji",sans-serif'>&#129422;</span>&quot;, evoLevel: 2 },</p>

<p class=MsoNormal>  { id: &quot;evo3&quot;, category: &quot;evolution&quot;,
name: &quot;Evolución: Lagartija adulta&quot;, desc: &quot;¡Madurez
plena!&quot;, price: 700, requires: 2, icon: &quot;<span style='font-family:
"Segoe UI Emoji",sans-serif'>&#128009;</span>&quot;, evoLevel: 3 },</p>

<p class=MsoNormal>  { id: &quot;evo4&quot;, category: &quot;evolution&quot;,
name: &quot;Evolución: Dragón del agua&quot;, desc: &quot;¡La forma
final!&quot;, price: 1500, requires: 3, icon: &quot;<span style='font-family:
"Segoe UI Emoji",sans-serif'>&#128009;</span>&quot;, evoLevel: 4 },</p>

<p class=MsoNormal>  // ROPA</p>

<p class=MsoNormal>  { id: &quot;hat&quot;, category: &quot;clothes&quot;,
name: &quot;Sombrero gota&quot;, desc: &quot;Un sombrerito adorable&quot;,
price: 80, icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#127913;</span>&quot;
},</p>

<p class=MsoNormal>  { id: &quot;scarf&quot;, category: &quot;clothes&quot;,
name: &quot;Bufanda azul&quot;, desc: &quot;Para el frío del invierno&quot;,
price: 60, icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#129507;</span>&quot;
},</p>

<p class=MsoNormal>  <span lang=EN-US>{ id: &quot;glasses&quot;, category:
&quot;clothes&quot;, name: &quot;Lentes cool&quot;, desc: &quot;Muy
stylish&quot;, price: 90, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128374;&#65039;</span><span
lang=EN-US>&quot; },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;crown&quot;, category:
&quot;clothes&quot;, name: &quot;Corona real&quot;, desc: &quot;Para la
lagartija más noble&quot;, price: 150, icon: &quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128081;</span><span
lang=EN-US>&quot; },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;bow&quot;, category:
&quot;clothes&quot;, name: &quot;Moño bonito&quot;, desc: &quot;Tierno y
elegante&quot;, price: 55, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127872;</span><span
lang=EN-US>&quot; },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;cape&quot;, category:
&quot;clothes&quot;, name: &quot;Capa de héroe&quot;, desc: &quot;¡Superhéroe
del agua!&quot;, price: 120, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129464;</span><span
lang=EN-US>&quot; },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;tshirt&quot;, category:
&quot;clothes&quot;, name: &quot;Camiseta gotas&quot;, desc: &quot;Estampado de
gotitas&quot;, price: 75, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128085;</span><span
lang=EN-US>&quot; },</span></p>

<p class=MsoNormal><span lang=EN-US>  </span>{ id: &quot;backpack&quot;,
category: &quot;clothes&quot;, name: &quot;Mochila canteen&quot;, desc:
&quot;Lleva agua a donde vayas&quot;, price: 100, icon: &quot;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127890;</span>&quot; },</p>

<p class=MsoNormal>  { id: &quot;boots&quot;, category: &quot;clothes&quot;,
name: &quot;Botitas de lluvia&quot;, desc: &quot;Para el día lluvioso&quot;,
price: 85, icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#129406;</span>&quot;
},</p>

<p class=MsoNormal>  <span lang=EN-US>// COMIDA</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;apple&quot;, category:
&quot;food&quot;, name: &quot;Manzana fresca&quot;, desc: &quot;+10
felicidad&quot;, price: 20, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127822;</span><span
lang=EN-US>&quot;, happiness: 10 },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;bug&quot;, category:
&quot;food&quot;, name: &quot;Insecto delicioso&quot;, desc: &quot;+20
felicidad&quot;, price: 35, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129431;</span><span
lang=EN-US>&quot;, happiness: 20 },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;flower&quot;, category:
&quot;food&quot;, name: &quot;Flor de néctar&quot;, desc: &quot;+15
felicidad&quot;, price: 25, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127800;</span><span
lang=EN-US>&quot;, happiness: 15 },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;watermelon&quot;, category:
&quot;food&quot;, name: &quot;Sandía jugosa&quot;, desc: &quot;+18
felicidad&quot;, price: 30, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127817;</span><span
lang=EN-US>&quot;, happiness: 18 },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;mushroom&quot;, category:
&quot;food&quot;, name: &quot;Hongo mágico&quot;, desc: &quot;+25
felicidad&quot;, price: 45, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127812;</span><span
lang=EN-US>&quot;, happiness: 25 },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;strawberry&quot;, category:
&quot;food&quot;, name: &quot;Fresa silvestre&quot;, desc: &quot;+12
felicidad&quot;, price: 22, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127827;</span><span
lang=EN-US>&quot;, happiness: 12 },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;cactus_fruit&quot;, category:
&quot;food&quot;, name: &quot;Tuna de cactus&quot;, desc: &quot;+22
felicidad&quot;, price: 40, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127797;</span><span
lang=EN-US>&quot;, happiness: 22 },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;dragonfly&quot;, category:
&quot;food&quot;, name: &quot;Libélula crujiente&quot;, desc: &quot;+30
felicidad&quot;, price: 55, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129714;</span><span
lang=EN-US>&quot;, happiness: 30 },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;honey&quot;, category:
&quot;food&quot;, name: &quot;Miel silvestre&quot;, desc: &quot;+16
felicidad&quot;, price: 28, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127855;</span><span
lang=EN-US>&quot;, happiness: 16 },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;grapes&quot;, category:
&quot;food&quot;, name: &quot;Uvas hidratantes&quot;, desc: &quot;+14
felicidad&quot;, price: 24, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127815;</span><span
lang=EN-US>&quot;, happiness: 14 },</span></p>

<p class=MsoNormal><span lang=EN-US>  // NIDO</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;nest1&quot;, category:
&quot;nest&quot;, name: &quot;Hoja grande&quot;, desc: &quot;Una cama
suave&quot;, price: 50, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127811;</span><span
lang=EN-US>&quot; },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;nest2&quot;, category:
&quot;nest&quot;, name: &quot;Piedra decorativa&quot;, desc: &quot;Para tomar
el sol&quot;, price: 70, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129704;</span><span
lang=EN-US>&quot; },</span></p>

<p class=MsoNormal><span lang=EN-US>  </span>{ id: &quot;nest3&quot;, category:
&quot;nest&quot;, name: &quot;Fuente de agua&quot;, desc: &quot;Agua fresca
siempre&quot;, price: 120, icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#9970;</span>&quot;
},</p>

<p class=MsoNormal>  <span lang=EN-US>{ id: &quot;nest4&quot;, category:
&quot;nest&quot;, name: &quot;Musgo suave&quot;, desc: &quot;Alfombra
natural&quot;, price: 65, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127807;</span><span
lang=EN-US>&quot; },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;nest5&quot;, category:
&quot;nest&quot;, name: &quot;Tronco hueco&quot;, desc: &quot;Escondite
perfecto&quot;, price: 90, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129717;</span><span
lang=EN-US>&quot; },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;nest6&quot;, category:
&quot;nest&quot;, name: &quot;Charco brillante&quot;, desc: &quot;Un pequeño
estanque&quot;, price: 140, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128166;</span><span
lang=EN-US>&quot; },</span></p>

<p class=MsoNormal><span lang=EN-US>  { id: &quot;nest7&quot;, category:
&quot;nest&quot;, name: &quot;Flor decorativa&quot;, desc: &quot;¡Qué lindo
nido!&quot;, price: 55, icon: &quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127802;</span><span
lang=EN-US>&quot; },</span></p>

<p class=MsoNormal><span lang=EN-US>  </span>{ id: &quot;nest8&quot;, category:
&quot;nest&quot;, name: &quot;Cristal de agua&quot;, desc: &quot;Brilla con la
luz&quot;, price: 160, icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#128142;</span>&quot;
},</p>

<p class=MsoNormal>  { id: &quot;nest9&quot;, category: &quot;nest&quot;, name:
&quot;Linterna mágica&quot;, desc: &quot;Ilumina la noche&quot;, price: 110,
icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#128294;</span>&quot;
},</p>

<p class=MsoNormal>  { id: &quot;nest10&quot;, category: &quot;nest&quot;,
name: &quot;Nido de paja&quot;, desc: &quot;Calientito y acogedor&quot;, price:
80, icon: &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#129722;</span>&quot;
},</p>

<p class=MsoNormal>];</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>const EVO_SPRITES = {</p>

<p class=MsoNormal>  0: { name: &quot;Huevo de lagartija&quot;, color:
&quot;#a8e6cf&quot; },</p>

<p class=MsoNormal>  1: { name: &quot;Lagartija bebé&quot;, color:
&quot;#7bc67e&quot; },</p>

<p class=MsoNormal>  2: { name: &quot;Lagartija joven&quot;, color:
&quot;#4caf50&quot; },</p>

<p class=MsoNormal>  3: { name: &quot;Lagartija adulta&quot;, color:
&quot;#2196f3&quot; },</p>

<p class=MsoNormal>  4: { name: &quot;Dragón del agua&quot;, color:
&quot;#7c4dff&quot; },</p>

<p class=MsoNormal>};</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>// &#9472;&#9472; UNIQUE SVG SPRITES PER EVOLUTION
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</p>

<p class=MsoNormal><span lang=EN-US>function PetSprite({ level, owned, anim })
{</span></p>

<p class=MsoNormal><span lang=EN-US>  const style = { animation: anim ?
&quot;wiggle 0.5s ease&quot; : &quot;float 3s ease-in-out infinite&quot;,
display:&quot;inline-block&quot;, cursor:&quot;pointer&quot;, filter: level===4
? &quot;drop-shadow(0 0 12px rgba(120,80,255,0.7))&quot; : level===3 ?
&quot;drop-shadow(0 0 8px rgba(0,180,255,0.5))&quot; : &quot;none&quot; };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // &#9472;&#9472; EGG
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>  if (level === 0) return (</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div style={style}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;svg width=&quot;120&quot;
height=&quot;140&quot; viewBox=&quot;0 0 120 140&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;radialGradient
id=&quot;eggShell&quot; cx=&quot;38%&quot; cy=&quot;30%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#fffde7&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;40%&quot;
stopColor=&quot;#ffe082&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#e65100&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/radialGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;radialGradient
id=&quot;eggInner&quot; cx=&quot;50%&quot; cy=&quot;50%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#a5d6a7&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#2e7d32&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/radialGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;60&quot;
cy=&quot;133&quot; rx=&quot;30&quot; ry=&quot;7&quot;
fill=&quot;rgba(0,0,0,0.15)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Main egg — warm desert tone */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;60&quot;
cy=&quot;68&quot; rx=&quot;42&quot; ry=&quot;54&quot;
fill=&quot;url(#eggShell)&quot; stroke=&quot;#bf360c&quot;
strokeWidth=&quot;2&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Texture bands */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;60&quot;
cy=&quot;68&quot; rx=&quot;42&quot; ry=&quot;54&quot; fill=&quot;none&quot;
stroke=&quot;#ff8f00&quot; strokeWidth=&quot;6&quot; strokeDasharray=&quot;8
6&quot; opacity=&quot;0.25&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Highlight */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;44&quot;
cy=&quot;40&quot; rx=&quot;13&quot; ry=&quot;18&quot;
fill=&quot;rgba(255,255,255,0.28)&quot;
transform=&quot;rotate(-18,44,40)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Big crack revealing green
inside */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M62,14 L56,30
L64,38 L58,52 L66,60 L60,72&quot; stroke=&quot;#bf360c&quot;
strokeWidth=&quot;2.5&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M64,38 L70,44
L66,52&quot; stroke=&quot;#bf360c&quot; strokeWidth=&quot;2&quot;
fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Green glow peaking through
crack */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M61,15 L55,31
L63,39 L57,53 L65,61 L59,73&quot; stroke=&quot;#66bb6a&quot;
strokeWidth=&quot;3&quot; fill=&quot;none&quot; opacity=&quot;0.7&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Speckles */}</span></p>

<p class=MsoNormal><span lang=EN-US>       
{[[28,55,5],[78,42,4],[70,88,5],[40,90,3.5],[82,70,3],[50,30,3]].map(([x,y,r],i)=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;circle key={i} cx={x} cy={y}
r={r} fill=&quot;#e65100&quot; opacity=&quot;0.35&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Little face peeking from crack
*/}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;57&quot;
cy=&quot;60&quot; r=&quot;6&quot; fill=&quot;#fff&quot;
stroke=&quot;#2e7d32&quot; strokeWidth=&quot;1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;70&quot;
cy=&quot;58&quot; r=&quot;6&quot; fill=&quot;#fff&quot;
stroke=&quot;#2e7d32&quot; strokeWidth=&quot;1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;58&quot;
cy=&quot;61&quot; r=&quot;3&quot; fill=&quot;#1b5e20&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;71&quot;
cy=&quot;59&quot; r=&quot;3&quot; fill=&quot;#1b5e20&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;59&quot;
cy=&quot;60&quot; r=&quot;1.2&quot; fill=&quot;#fff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;72&quot;
cy=&quot;58&quot; r=&quot;1.2&quot; fill=&quot;#fff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M59,68 Q64,73
69,68&quot; stroke=&quot;#2e7d32&quot; strokeWidth=&quot;2&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Star pattern on shell */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M88,30 L90,22
L92,30 L100,28 L94,34 L96,42 L90,37 L84,42 L86,34 L80,28 Z&quot;
fill=&quot;#ff8f00&quot; opacity=&quot;0.3&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>  );</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // &#9472;&#9472; BABY
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>  if (level === 1) return (</span></p>

<p class=MsoNormal><span lang=EN-US>    // Tiny, round, mint-green, huge head,
nub everything, wide innocent eyes</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div style={style}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;svg width=&quot;108&quot;
height=&quot;120&quot; viewBox=&quot;0 0 108 120&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;radialGradient
id=&quot;bG&quot; cx=&quot;35%&quot; cy=&quot;28%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#e8ffd8&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;55%&quot;
stopColor=&quot;#88d858&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#3a8a18&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/radialGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;radialGradient
id=&quot;bBelly&quot; cx=&quot;50%&quot; cy=&quot;30%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#f0fff0&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#b8f0a0&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/radialGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;54&quot;
cy=&quot;116&quot; rx=&quot;26&quot; ry=&quot;5&quot;
fill=&quot;rgba(0,0,0,0.14)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Round nub tail curled up */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M74,80 Q90,72
88,60 Q86,52 78,56 Q72,60 76,68&quot; fill=&quot;#5aaa28&quot;
stroke=&quot;#2a7a08&quot; strokeWidth=&quot;1.2&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;78&quot;
cy=&quot;56&quot; r=&quot;5&quot; fill=&quot;#3a8a18&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Chubby body */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;54&quot;
cy=&quot;82&quot; rx=&quot;26&quot; ry=&quot;22&quot; fill=&quot;url(#bG)&quot;
stroke=&quot;#2a7a08&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Soft belly */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;54&quot;
cy=&quot;85&quot; rx=&quot;17&quot; ry=&quot;14&quot;
fill=&quot;url(#bBelly)&quot; opacity=&quot;0.85&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Belly button dot */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;54&quot;
cy=&quot;88&quot; r=&quot;2.5&quot; fill=&quot;#a8e880&quot;
opacity=&quot;0.8&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Stubby back legs */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M66,98 Q70,108
66,114&quot; stroke=&quot;#4a9a18&quot; strokeWidth=&quot;9&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M66,114 Q62,118
59,115&quot; stroke=&quot;#4a9a18&quot; strokeWidth=&quot;5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M66,114 Q68,118
65,118&quot; stroke=&quot;#4a9a18&quot; strokeWidth=&quot;4.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M42,98 Q38,108
42,114&quot; stroke=&quot;#4a9a18&quot; strokeWidth=&quot;9&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M42,114 Q46,118
49,115&quot; stroke=&quot;#4a9a18&quot; strokeWidth=&quot;5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M42,114 Q40,118
43,118&quot; stroke=&quot;#4a9a18&quot; strokeWidth=&quot;4.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Stubby arms */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M32,80 Q22,86
18,93&quot; stroke=&quot;#4a9a18&quot; strokeWidth=&quot;8&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M18,93 Q14,97
12,94&quot; stroke=&quot;#4a9a18&quot; strokeWidth=&quot;4.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M76,80 Q86,86
90,93&quot; stroke=&quot;#4a9a18&quot; strokeWidth=&quot;8&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M90,93 Q94,97
96,94&quot; stroke=&quot;#4a9a18&quot; strokeWidth=&quot;4.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Short neck */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;54&quot;
cy=&quot;63&quot; rx=&quot;13&quot; ry=&quot;8&quot;
fill=&quot;#6aba30&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* HUGE round head — the defining
feature */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;54&quot;
cy=&quot;44&quot; rx=&quot;30&quot; ry=&quot;28&quot; fill=&quot;url(#bG)&quot;
stroke=&quot;#2a7a08&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Forehead shimmer */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;46&quot;
cy=&quot;28&quot; rx=&quot;12&quot; ry=&quot;8&quot;
fill=&quot;rgba(255,255,255,0.22)&quot;
transform=&quot;rotate(-15,46,28)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Big round sparkle eyes */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;40&quot;
cy=&quot;40&quot; r=&quot;11&quot; fill=&quot;#fff&quot;
stroke=&quot;#2a7a08&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;68&quot;
cy=&quot;40&quot; r=&quot;11&quot; fill=&quot;#fff&quot;
stroke=&quot;#2a7a08&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Iris — lime with shine */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;40&quot;
cy=&quot;41&quot; r=&quot;7.5&quot; fill=&quot;#78e048&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;68&quot;
cy=&quot;41&quot; r=&quot;7.5&quot; fill=&quot;#78e048&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;40&quot;
cy=&quot;41&quot; r=&quot;4&quot; fill=&quot;#102800&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;68&quot;
cy=&quot;41&quot; r=&quot;4&quot; fill=&quot;#102800&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;42&quot;
cy=&quot;39&quot; r=&quot;2&quot; fill=&quot;#fff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;70&quot;
cy=&quot;39&quot; r=&quot;2&quot; fill=&quot;#fff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;38&quot;
cy=&quot;44&quot; r=&quot;1&quot; fill=&quot;rgba(255,255,255,0.6)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;66&quot;
cy=&quot;44&quot; r=&quot;1&quot; fill=&quot;rgba(255,255,255,0.6)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Tiny cute eyelids */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M29,34 Q40,28
51,34&quot; stroke=&quot;#2a7a08&quot; strokeWidth=&quot;2&quot;
fill=&quot;rgba(106,186,48,0.4)&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M57,34 Q68,28
79,34&quot; stroke=&quot;#2a7a08&quot; strokeWidth=&quot;2&quot;
fill=&quot;rgba(106,186,48,0.4)&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Round button snout */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;54&quot;
cy=&quot;57&quot; rx=&quot;10&quot; ry=&quot;7&quot; fill=&quot;#4a9a18&quot;
stroke=&quot;#2a7a08&quot; strokeWidth=&quot;1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;54&quot;
cy=&quot;59&quot; rx=&quot;6.5&quot; ry=&quot;3.5&quot;
fill=&quot;#2a7a08&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;50&quot;
cy=&quot;58&quot; r=&quot;2&quot; fill=&quot;#102800&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;58&quot;
cy=&quot;58&quot; r=&quot;2&quot; fill=&quot;#102800&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Big gummy smile */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M44,63 Q54,70
64,63&quot; stroke=&quot;#1a5008&quot; strokeWidth=&quot;2.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;rgba(200,255,160,0.4)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Rosy cheeks */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;28&quot;
cy=&quot;48&quot; rx=&quot;7&quot; ry=&quot;5&quot;
fill=&quot;rgba(255,140,120,0.55)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;80&quot;
cy=&quot;48&quot; rx=&quot;7&quot; ry=&quot;5&quot;
fill=&quot;rgba(255,140,120,0.55)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Head freckles */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;36&quot;
cy=&quot;54&quot; r=&quot;1.5&quot; fill=&quot;#2a7a08&quot;
opacity=&quot;0.4&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;72&quot;
cy=&quot;54&quot; r=&quot;1.5&quot; fill=&quot;#2a7a08&quot;
opacity=&quot;0.4&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>  );</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // &#9472;&#9472; YOUNG
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>  if (level === 2) return (</span></p>

<p class=MsoNormal><span lang=EN-US>    // Sleek chameleon-like, orange-tan
with teal accents, prehensile tail curling, side-facing eye</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div style={style}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;svg width=&quot;130&quot;
height=&quot;130&quot; viewBox=&quot;0 0 130 130&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;linearGradient
id=&quot;yG&quot; x1=&quot;0%&quot; y1=&quot;0%&quot; x2=&quot;100%&quot;
y2=&quot;100%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#ffcc80&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;45%&quot;
stopColor=&quot;#ff8f00&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#e65100&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/linearGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;linearGradient
id=&quot;yAccent&quot; x1=&quot;0%&quot; y1=&quot;0%&quot; x2=&quot;0%&quot;
y2=&quot;100%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#00e5ff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#006064&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/linearGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;radialGradient
id=&quot;yEye&quot; cx=&quot;35%&quot; cy=&quot;35%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#fff176&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;60%&quot;
stopColor=&quot;#ffa000&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#e65100&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/radialGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;55&quot;
cy=&quot;126&quot; rx=&quot;28&quot; ry=&quot;5&quot;
fill=&quot;rgba(0,0,0,0.15)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Prehensile tail coiling */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M80,88 Q110,92
116,76 Q120,62 106,56 Q94,52 90,64 Q86,76 94,80 Q100,84 98,76 Q96,70
90,72&quot; fill=&quot;none&quot; stroke=&quot;#e65100&quot;
strokeWidth=&quot;9&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M80,88 Q110,92
116,76 Q120,62 106,56 Q94,52 90,64 Q86,76 94,80 Q100,84 98,76 Q96,70
90,72&quot; fill=&quot;none&quot; stroke=&quot;#ff8f00&quot;
strokeWidth=&quot;5&quot; strokeLinecap=&quot;round&quot;
opacity=&quot;0.7&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Teal dorsal stripe along back
*/}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M34,70 Q55,60
76,68&quot; stroke=&quot;url(#yAccent)&quot; strokeWidth=&quot;6&quot;
fill=&quot;none&quot; strokeLinecap=&quot;round&quot;
opacity=&quot;0.8&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Body — laterally compressed
chameleon-style */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;55&quot;
cy=&quot;80&quot; rx=&quot;28&quot; ry=&quot;19&quot; fill=&quot;url(#yG)&quot;
stroke=&quot;#bf360c&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Teal belly panel */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;53&quot;
cy=&quot;83&quot; rx=&quot;18&quot; ry=&quot;12&quot; fill=&quot;#00acc1&quot;
opacity=&quot;0.45&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Raised casque on back */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M32,68 Q40,56
48,60 Q52,62 50,68&quot; fill=&quot;#ff8f00&quot; stroke=&quot;#bf360c&quot;
strokeWidth=&quot;1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Scale hexagons */}</span></p>

<p class=MsoNormal><span lang=EN-US>       
{[[40,76],[52,72],[64,76],[46,84],[58,80],[70,74]].map(([cx,cy],i)=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;polygon key={i}
points={`${cx},${cy-4} ${cx+3.5},${cy-2} ${cx+3.5},${cy+2} ${cx},${cy+4}
${cx-3.5},${cy+2} ${cx-3.5},${cy-2}`} fill=&quot;#bf360c&quot;
opacity=&quot;0.25&quot; stroke=&quot;#e65100&quot;
strokeWidth=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Long scrabbling back legs */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M68,94 Q76,106
70,116 Q66,122 62,118&quot; stroke=&quot;#e65100&quot;
strokeWidth=&quot;8&quot; strokeLinecap=&quot;round&quot;
fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M62,118 Q58,123
55,120&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;4.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M62,118 Q63,124
59,124&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M62,118 Q67,122
65,118&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M38,94 Q30,106
36,116 Q40,122 44,118&quot; stroke=&quot;#e65100&quot;
strokeWidth=&quot;8&quot; strokeLinecap=&quot;round&quot;
fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M44,118 Q48,123
51,120&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;4.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M44,118 Q43,124
47,124&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M44,118 Q39,122
41,118&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Front gripping hands */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M36,76 Q24,80
18,88&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;7&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M18,88 Q14,93
11,90&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M18,88 Q15,95
11,94&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;3.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M18,88 Q20,95
16,96&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;3.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M74,76 Q86,80
92,88&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;7&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M92,88 Q96,93
99,90&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M92,88 Q95,95
99,94&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;3.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M92,88 Q90,95
94,96&quot; stroke=&quot;#e65100&quot; strokeWidth=&quot;3.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* High casque head */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M24,55 Q30,32
44,26 Q60,20 72,28 Q82,36 80,56 Q78,68 60,72 Q40,74 28,64 Z&quot;
fill=&quot;url(#yG)&quot; stroke=&quot;#bf360c&quot;
strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Casque ridge */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M28,54 Q34,34
48,28 Q62,24 74,34&quot; fill=&quot;none&quot; stroke=&quot;#bf360c&quot;
strokeWidth=&quot;3&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M28,54 Q34,34
48,28 Q62,24 74,34&quot; fill=&quot;none&quot; stroke=&quot;#ffcc80&quot;
strokeWidth=&quot;1.5&quot; strokeLinecap=&quot;round&quot;
opacity=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Teal stripe over head */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M34,44 Q52,38
70,44&quot; stroke=&quot;url(#yAccent)&quot; strokeWidth=&quot;4&quot;
fill=&quot;none&quot; opacity=&quot;0.7&quot;
strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Turret eye — chameleon style,
bulging */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;36&quot;
cy=&quot;50&quot; r=&quot;14&quot; fill=&quot;#fff&quot;
stroke=&quot;#bf360c&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;36&quot;
cy=&quot;50&quot; r=&quot;10&quot; fill=&quot;url(#yEye)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;36&quot;
cy=&quot;50&quot; r=&quot;6&quot; fill=&quot;#e65100&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;36&quot;
cy=&quot;50&quot; r=&quot;3.5&quot; fill=&quot;#1a0800&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;37&quot;
cy=&quot;48&quot; r=&quot;2&quot; fill=&quot;rgba(255,255,255,0.7)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;34&quot;
cy=&quot;54&quot; r=&quot;1&quot; fill=&quot;rgba(255,255,255,0.4)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Second smaller eye */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;66&quot;
cy=&quot;46&quot; r=&quot;9&quot; fill=&quot;#fff&quot;
stroke=&quot;#bf360c&quot; strokeWidth=&quot;1.2&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;66&quot;
cy=&quot;46&quot; r=&quot;6&quot; fill=&quot;url(#yEye)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;66&quot;
cy=&quot;46&quot; r=&quot;3.5&quot; fill=&quot;#e65100&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;66&quot;
cy=&quot;46&quot; r=&quot;2&quot; fill=&quot;#1a0800&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;67&quot;
cy=&quot;44&quot; r=&quot;1.2&quot; fill=&quot;rgba(255,255,255,0.7)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Snout */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;26&quot;
cy=&quot;60&quot; rx=&quot;10&quot; ry=&quot;6&quot;
fill=&quot;#e65100&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;25&quot;
cy=&quot;62&quot; rx=&quot;7&quot; ry=&quot;3.5&quot;
fill=&quot;#bf360c&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;22&quot;
cy=&quot;60&quot; r=&quot;1.8&quot; fill=&quot;#8d1a00&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;30&quot;
cy=&quot;60&quot; r=&quot;1.8&quot; fill=&quot;#8d1a00&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Curved grin */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M20,64 Q26,70
32,64&quot; stroke=&quot;#8d1a00&quot; strokeWidth=&quot;2&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Tongue flick */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M24,66 Q16,74
12,78&quot; stroke=&quot;#ff1744&quot; strokeWidth=&quot;3&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;11&quot;
cy=&quot;79&quot; r=&quot;3&quot; fill=&quot;#ff1744&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;13&quot;
cy=&quot;77&quot; r=&quot;3&quot; fill=&quot;#ff1744&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>  );</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // &#9472;&#9472; ADULT
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>  if (level === 3) return (</span></p>

<p class=MsoNormal><span lang=EN-US>    // Iguana-style, deep teal-navy, big
frill behind head, powerful stance</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div style={style}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;svg width=&quot;140&quot;
height=&quot;145&quot; viewBox=&quot;0 0 140 145&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;linearGradient
id=&quot;aG&quot; x1=&quot;0%&quot; y1=&quot;0%&quot; x2=&quot;100%&quot;
y2=&quot;100%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#80cbc4&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;50%&quot;
stopColor=&quot;#00897b&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#004d40&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/linearGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;linearGradient
id=&quot;afrill&quot; x1=&quot;0%&quot; y1=&quot;0%&quot; x2=&quot;100%&quot;
y2=&quot;100%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#f48fb1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;40%&quot;
stopColor=&quot;#e91e63&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#880e4f&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/linearGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;linearGradient
id=&quot;aBelly&quot; x1=&quot;0%&quot; y1=&quot;0%&quot; x2=&quot;0%&quot;
y2=&quot;100%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#b2dfdb&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#4db6ac&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/linearGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;65&quot;
cy=&quot;140&quot; rx=&quot;36&quot; ry=&quot;7&quot;
fill=&quot;rgba(0,0,0,0.2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Long whip tail */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M94,98 Q118,104
126,88 Q132,74 120,64 Q108,56 100,70 Q96,78 104,82 Q110,85 108,78&quot;
fill=&quot;none&quot; stroke=&quot;#00695c&quot; strokeWidth=&quot;11&quot;
strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M94,98 Q118,104
126,88 Q132,74 120,64 Q108,56 100,70 Q96,78 104,82 Q110,85 108,78&quot;
fill=&quot;none&quot; stroke=&quot;#26a69a&quot; strokeWidth=&quot;5&quot;
strokeLinecap=&quot;round&quot; opacity=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M108,78 Q110,72
106,70&quot; fill=&quot;none&quot; stroke=&quot;#00695c&quot;
strokeWidth=&quot;6&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Body */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;65&quot;
cy=&quot;90&quot; rx=&quot;32&quot; ry=&quot;24&quot; fill=&quot;url(#aG)&quot;
stroke=&quot;#00695c&quot; strokeWidth=&quot;2&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Scale rows */}</span></p>

<p class=MsoNormal><span lang=EN-US>       
{[0,1,2,3].map(row=&gt;[0,1,2,3,4].map(col=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;ellipse key={`${row}-${col}`}
cx={36+col*11+(row%2)*5.5} cy={80+row*9} rx=&quot;4&quot; ry=&quot;3&quot;
fill=&quot;#00695c&quot; opacity=&quot;0.35&quot; stroke=&quot;#004d40&quot;
strokeWidth=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        )))}</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Belly plate */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;62&quot;
cy=&quot;94&quot; rx=&quot;22&quot; ry=&quot;16&quot;
fill=&quot;url(#aBelly)&quot; opacity=&quot;0.8&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Belly horizontal lines */}</span></p>

<p class=MsoNormal><span lang=EN-US>        {[86,92,98,104].map(y=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;line key={y}
x1=&quot;44&quot; y1={y} x2=&quot;80&quot; y2={y} stroke=&quot;#80cbc4&quot;
strokeWidth=&quot;1&quot; opacity=&quot;0.4&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Powerful back legs */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M76,108 Q86,120
78,132&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;12&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M78,132 Q70,138
66,134&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;6&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M78,132 Q80,138
75,139&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;5.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M78,132 Q84,136
82,132&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M78,132 Q88,134
88,130&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;4.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M50,108 Q40,120
48,132&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;12&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M48,132 Q56,138
60,134&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;6&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M48,132 Q46,138
51,139&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;5.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M48,132 Q42,136
44,132&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M48,132 Q38,134
38,130&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;4.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Front arms */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M44,86 Q30,94
24,106&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;9&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M24,106 Q18,112
14,108&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;5.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M24,106 Q20,114
15,113&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M24,106 Q22,114
17,115&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;4.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M86,86 Q100,94
106,106&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;9&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M106,106 Q112,112
116,108&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;5.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M106,106 Q110,114
115,113&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M106,106 Q108,114
113,115&quot; stroke=&quot;#00897b&quot; strokeWidth=&quot;4.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Neck */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;65&quot;
cy=&quot;70&quot; rx=&quot;18&quot; ry=&quot;12&quot;
fill=&quot;#00897b&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* FRILL — big dramatic display
*/}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M24,36 Q30,20
44,18 Q52,16 58,28&quot; fill=&quot;url(#afrill)&quot;
stroke=&quot;#880e4f&quot; strokeWidth=&quot;1.2&quot;
opacity=&quot;0.9&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M24,36 Q28,24
38,22 Q48,20 54,30&quot; fill=&quot;none&quot;
stroke=&quot;rgba(255,255,255,0.2)&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M104,36 Q98,20
84,18 Q76,16 70,28&quot; fill=&quot;url(#afrill)&quot;
stroke=&quot;#880e4f&quot; strokeWidth=&quot;1.2&quot;
opacity=&quot;0.9&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Frill ribs */}</span></p>

<p class=MsoNormal><span lang=EN-US>       
{[[28,34,36,20],[36,34,40,18],[44,32,46,18],[52,30,52,18]].map(([x1,y1,x2,y2],i)=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;line key={i} x1={x1} y1={y1}
x2={x2} y2={y2} stroke=&quot;#880e4f&quot; strokeWidth=&quot;1.2&quot;
opacity=&quot;0.6&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>       
{[[102,34,92,20],[94,34,88,18],[86,32,82,18],[78,30,76,18]].map(([x1,y1,x2,y2],i)=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;line key={i+&quot;r&quot;}
x1={x1} y1={y1} x2={x2} y2={y2} stroke=&quot;#880e4f&quot;
strokeWidth=&quot;1.2&quot; opacity=&quot;0.6&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Head */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;65&quot;
cy=&quot;50&quot; rx=&quot;32&quot; ry=&quot;26&quot; fill=&quot;url(#aG)&quot;
stroke=&quot;#00695c&quot; strokeWidth=&quot;2&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Head top ridge */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M38,40 Q52,30
65,30 Q78,30 92,40&quot; fill=&quot;none&quot; stroke=&quot;#004d40&quot;
strokeWidth=&quot;3&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Sub-tympanic plate */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;34&quot;
cy=&quot;52&quot; rx=&quot;9&quot; ry=&quot;7&quot; fill=&quot;#00695c&quot;
stroke=&quot;#004d40&quot; strokeWidth=&quot;1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;96&quot;
cy=&quot;52&quot; rx=&quot;9&quot; ry=&quot;7&quot; fill=&quot;#00695c&quot;
stroke=&quot;#004d40&quot; strokeWidth=&quot;1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Eyes — with orbital ring */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;47&quot;
cy=&quot;46&quot; r=&quot;11&quot; fill=&quot;#004d40&quot;
stroke=&quot;#00695c&quot; strokeWidth=&quot;2&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;83&quot;
cy=&quot;46&quot; r=&quot;11&quot; fill=&quot;#004d40&quot;
stroke=&quot;#00695c&quot; strokeWidth=&quot;2&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;47&quot;
cy=&quot;46&quot; r=&quot;8&quot; fill=&quot;#e0f2f1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;83&quot;
cy=&quot;46&quot; r=&quot;8&quot; fill=&quot;#e0f2f1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;47&quot;
cy=&quot;46&quot; r=&quot;5.5&quot; fill=&quot;#00897b&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;83&quot;
cy=&quot;46&quot; r=&quot;5.5&quot; fill=&quot;#00897b&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;47&quot;
cy=&quot;46&quot; rx=&quot;2.5&quot; ry=&quot;5&quot;
fill=&quot;#001a14&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;83&quot;
cy=&quot;46&quot; rx=&quot;2.5&quot; ry=&quot;5&quot;
fill=&quot;#001a14&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;49&quot;
cy=&quot;44&quot; r=&quot;2&quot; fill=&quot;rgba(255,255,255,0.8)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;85&quot;
cy=&quot;44&quot; r=&quot;2&quot; fill=&quot;rgba(255,255,255,0.8)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;47&quot;
cy=&quot;50&quot; r=&quot;1&quot; fill=&quot;rgba(255,255,255,0.35)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;83&quot;
cy=&quot;50&quot; r=&quot;1&quot; fill=&quot;rgba(255,255,255,0.35)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Heavy brow ridges */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M36,38 Q47,32
58,38&quot; stroke=&quot;#004d40&quot; strokeWidth=&quot;4&quot;
fill=&quot;none&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M72,38 Q83,32
94,38&quot; stroke=&quot;#004d40&quot; strokeWidth=&quot;4&quot;
fill=&quot;none&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Long iguana snout */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M46,64 Q65,60
84,64 Q88,70 84,75 Q65,78 46,75 Q42,70 46,64 Z&quot; fill=&quot;#00897b&quot;
stroke=&quot;#004d40&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M50,70 Q65,68
80,70&quot; fill=&quot;none&quot; stroke=&quot;#004d40&quot;
strokeWidth=&quot;2&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;56&quot;
cy=&quot;65&quot; r=&quot;2.5&quot; fill=&quot;#001a14&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;74&quot;
cy=&quot;65&quot; r=&quot;2.5&quot; fill=&quot;#001a14&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Confident smirk */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M52,75 Q65,82
78,75&quot; stroke=&quot;#001a14&quot; strokeWidth=&quot;2.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M52,75 Q58,80
65,78&quot; fill=&quot;rgba(0,150,136,0.3)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Dewlap — teal */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M52,76 Q65,88
78,76&quot; fill=&quot;#00e5ff&quot; opacity=&quot;0.55&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Neck dewlap spines */}</span></p>

<p class=MsoNormal><span lang=EN-US>        {[0,1,2,3,4,5,6,7,8].map(i=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;line key={i} x1={50+i*3.6}
y1={60} x2={48+i*3.6} y2={52} stroke=&quot;#004d40&quot;
strokeWidth=&quot;2&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>  );</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // &#9472;&#9472; WATER DRAGON
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>  return (</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div style={style}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;svg width=&quot;155&quot;
height=&quot;165&quot; viewBox=&quot;0 0 155 165&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;linearGradient
id=&quot;dG&quot; x1=&quot;0%&quot; y1=&quot;0%&quot; x2=&quot;100%&quot;
y2=&quot;100%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#b39ddb&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;35%&quot;
stopColor=&quot;#5e35b1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;70%&quot;
stopColor=&quot;#1a237e&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#0d0030&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/linearGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;linearGradient
id=&quot;dWing&quot; x1=&quot;0%&quot; y1=&quot;0%&quot; x2=&quot;100%&quot;
y2=&quot;100%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#7c4dff&quot; stopOpacity=&quot;0.9&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;50%&quot;
stopColor=&quot;#311b92&quot; stopOpacity=&quot;0.7&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#1a0050&quot;
stopOpacity=&quot;0.3&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/linearGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;linearGradient
id=&quot;dBelly&quot; x1=&quot;0%&quot; y1=&quot;0%&quot; x2=&quot;0%&quot;
y2=&quot;100%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#e3f2fd&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;50%&quot;
stopColor=&quot;#90caf9&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#1565c0&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/linearGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;radialGradient
id=&quot;dEye&quot; cx=&quot;35%&quot; cy=&quot;35%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;#00ffff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;50%&quot;
stopColor=&quot;#00bcd4&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#006064&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/radialGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;radialGradient
id=&quot;dCore&quot; cx=&quot;50%&quot; cy=&quot;50%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop offset=&quot;0%&quot;
stopColor=&quot;rgba(0,229,255,0.6)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;stop
offset=&quot;100%&quot; stopColor=&quot;rgba(0,100,180,0)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/radialGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;filter id=&quot;df&quot;
x=&quot;-30%&quot; y=&quot;-30%&quot; width=&quot;160%&quot;
height=&quot;160%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;feGaussianBlur
stdDeviation=&quot;4&quot; result=&quot;b&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;feMerge&gt;&lt;feMergeNode
in=&quot;b&quot;/&gt;&lt;feMergeNode
in=&quot;SourceGraphic&quot;/&gt;&lt;/feMerge&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/filter&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;filter id=&quot;df2&quot;
x=&quot;-20%&quot; y=&quot;-20%&quot; width=&quot;140%&quot;
height=&quot;140%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;feGaussianBlur
stdDeviation=&quot;2.5&quot; result=&quot;b&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;feMerge&gt;&lt;feMergeNode
in=&quot;b&quot;/&gt;&lt;feMergeNode
in=&quot;SourceGraphic&quot;/&gt;&lt;/feMerge&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/filter&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Aura rings */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;75&quot;
cy=&quot;100&quot; r=&quot;62&quot; fill=&quot;url(#dCore)&quot;
opacity=&quot;0.4&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;75&quot;
cy=&quot;100&quot; r=&quot;52&quot; fill=&quot;none&quot;
stroke=&quot;rgba(0,229,255,0.18)&quot; strokeWidth=&quot;10&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;75&quot;
cy=&quot;100&quot; r=&quot;42&quot; fill=&quot;none&quot;
stroke=&quot;rgba(124,77,255,0.15)&quot; strokeWidth=&quot;6&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;75&quot;
cy=&quot;158&quot; rx=&quot;44&quot; ry=&quot;8&quot;
fill=&quot;rgba(0,0,0,0.25)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* WINGS — large membranous */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M34,70 Q2,40 4,8
Q18,24 26,48 Q32,64 38,78 Z&quot; fill=&quot;url(#dWing)&quot;
stroke=&quot;#4a148c&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Wing veins */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M38,78 Q24,52
10,20&quot; stroke=&quot;rgba(179,157,219,0.4)&quot;
strokeWidth=&quot;1.5&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M38,78 Q30,48
18,26&quot; stroke=&quot;rgba(179,157,219,0.3)&quot;
strokeWidth=&quot;1.2&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M38,78 Q36,52
28,36&quot; stroke=&quot;rgba(179,157,219,0.25)&quot; strokeWidth=&quot;1&quot;
fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M116,70 Q148,40
146,8 Q132,24 124,48 Q118,64 112,78 Z&quot; fill=&quot;url(#dWing)&quot;
stroke=&quot;#4a148c&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M112,78 Q126,52
140,20&quot; stroke=&quot;rgba(179,157,219,0.4)&quot;
strokeWidth=&quot;1.5&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M112,78 Q120,48
132,26&quot; stroke=&quot;rgba(179,157,219,0.3)&quot;
strokeWidth=&quot;1.2&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M112,78 Q114,52
122,36&quot; stroke=&quot;rgba(179,157,219,0.25)&quot;
strokeWidth=&quot;1&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Tail — serpentine with glowing
tip */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M100,110 Q130,118
136,100 Q142,82 128,70 Q116,60 108,76 Q104,86 112,90 Q118,93 115,85 Q112,78
105,82&quot; fill=&quot;none&quot; stroke=&quot;#311b92&quot;
strokeWidth=&quot;13&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M100,110 Q130,118
136,100 Q142,82 128,70 Q116,60 108,76 Q104,86 112,90 Q118,93 115,85 Q112,78
105,82&quot; fill=&quot;none&quot; stroke=&quot;#7c4dff&quot;
strokeWidth=&quot;7&quot; strokeLinecap=&quot;round&quot; opacity=&quot;0.6&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M100,110 Q130,118
136,100 Q142,82 128,70 Q116,60 108,76 Q104,86 112,90 Q118,93 115,85 Q112,78
105,82&quot; fill=&quot;none&quot; stroke=&quot;#00e5ff&quot;
strokeWidth=&quot;2&quot; strokeLinecap=&quot;round&quot; opacity=&quot;0.4&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Tail tip spark */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;105&quot;
cy=&quot;82&quot; r=&quot;6&quot; fill=&quot;#00e5ff&quot;
filter=&quot;url(#df2)&quot; opacity=&quot;0.9&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;105&quot;
cy=&quot;82&quot; r=&quot;3&quot; fill=&quot;#fff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Body */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;74&quot;
cy=&quot;100&quot; rx=&quot;36&quot; ry=&quot;28&quot;
fill=&quot;url(#dG)&quot; stroke=&quot;#1a237e&quot;
strokeWidth=&quot;2.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Glowing belly */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;72&quot;
cy=&quot;105&quot; rx=&quot;24&quot; ry=&quot;19&quot;
fill=&quot;url(#dBelly)&quot; opacity=&quot;0.7&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;72&quot;
cy=&quot;105&quot; rx=&quot;16&quot; ry=&quot;13&quot;
fill=&quot;rgba(0,229,255,0.2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Scale pattern */}</span></p>

<p class=MsoNormal><span lang=EN-US>       
{[0,1,2,3].map(row=&gt;[0,1,2,3,4].map(col=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;path key={`${row}-${col}`}</span></p>

<p class=MsoNormal><span lang=EN-US>           
d={`M${42+col*12+(row%2)*6},${88+row*9} l6,0 l3,5 l-3,5 l-6,0 l-3,-5 Z`}</span></p>

<p class=MsoNormal><span lang=EN-US>            fill=&quot;#3949ab&quot;
opacity=&quot;0.3&quot; stroke=&quot;#1a237e&quot;
strokeWidth=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        )))}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Powerful back legs with claws
*/}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M86,118 Q98,132
88,144&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;13&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M88,144 Q80,150
76,146&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;7&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M88,144 Q90,151
85,153&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;6.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M88,144 Q95,149
94,144&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;6&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M88,144 Q98,147
99,142&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;5.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Claw tips glow */}</span></p>

<p class=MsoNormal><span lang=EN-US>       
{[[76,146],[85,153],[94,144],[99,142]].map(([x,y],i)=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;circle key={i} cx={x} cy={y}
r=&quot;3.5&quot; fill=&quot;#00e5ff&quot; opacity=&quot;0.7&quot;
filter=&quot;url(#df2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M58,118 Q46,132
56,144&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;13&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M56,144 Q64,150
68,146&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;7&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M56,144 Q54,151
59,153&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;6.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M56,144 Q49,149
50,144&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;6&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M56,144 Q46,147
45,142&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;5.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>       
{[[68,146],[59,153],[50,144],[45,142]].map(([x,y],i)=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;circle key={i} cx={x} cy={y}
r=&quot;3.5&quot; fill=&quot;#00e5ff&quot; opacity=&quot;0.7&quot;
filter=&quot;url(#df2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Front arms */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M50,96 Q34,106
26,118&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;10&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M26,118 Q18,124
14,120&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;6&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M26,118 Q22,126
16,125&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;5.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M26,118 Q24,126
18,128&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>       
{[[14,120],[16,125],[18,128]].map(([x,y],i)=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;circle key={i} cx={x} cy={y}
r=&quot;3&quot; fill=&quot;#00e5ff&quot; opacity=&quot;0.7&quot;
filter=&quot;url(#df2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M98,96 Q114,106
122,118&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;10&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M122,118 Q130,124
134,120&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;6&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M122,118 Q126,126
132,125&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;5.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M122,118 Q124,126
130,128&quot; stroke=&quot;#3949ab&quot; strokeWidth=&quot;5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>       
{[[134,120],[132,125],[130,128]].map(([x,y],i)=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;circle key={i} cx={x} cy={y}
r=&quot;3&quot; fill=&quot;#00e5ff&quot; opacity=&quot;0.7&quot;
filter=&quot;url(#df2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Neck */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;74&quot;
cy=&quot;76&quot; rx=&quot;20&quot; ry=&quot;14&quot;
fill=&quot;#3949ab&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Neck scales */}</span></p>

<p class=MsoNormal><span lang=EN-US>        {[0,1,2].map(i=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;ellipse key={i} cx={60+i*14}
cy={76} rx=&quot;5&quot; ry=&quot;3.5&quot; fill=&quot;#1a237e&quot;
opacity=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Head */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;74&quot;
cy=&quot;56&quot; rx=&quot;35&quot; ry=&quot;30&quot; fill=&quot;url(#dG)&quot;
stroke=&quot;#1a237e&quot; strokeWidth=&quot;2.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;74&quot;
cy=&quot;42&quot; rx=&quot;24&quot; ry=&quot;14&quot; fill=&quot;#3949ab&quot;
opacity=&quot;0.4&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* CROWN HORNS — 5 horns like a
true dragon king */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;polygon points=&quot;74,6 69,26
79,26&quot; fill=&quot;#ffd700&quot; stroke=&quot;#f57f17&quot;
strokeWidth=&quot;1.2&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;polygon points=&quot;58,10
54,26 64,26&quot; fill=&quot;#ffd700&quot; stroke=&quot;#f57f17&quot;
strokeWidth=&quot;1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;polygon points=&quot;90,10
86,26 96,26&quot; fill=&quot;#ffd700&quot; stroke=&quot;#f57f17&quot;
strokeWidth=&quot;1&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;polygon points=&quot;46,18
42,30 50,30&quot; fill=&quot;#ffb300&quot; stroke=&quot;#f57f17&quot;
strokeWidth=&quot;0.8&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;polygon points=&quot;102,18
98,30 106,30&quot; fill=&quot;#ffb300&quot; stroke=&quot;#f57f17&quot;
strokeWidth=&quot;0.8&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Horn gems */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;74&quot;
cy=&quot;6&quot; r=&quot;5&quot; fill=&quot;#00e5ff&quot;
filter=&quot;url(#df)&quot; opacity=&quot;0.95&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;58&quot;
cy=&quot;10&quot; r=&quot;4&quot; fill=&quot;#7c4dff&quot;
filter=&quot;url(#df2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;90&quot;
cy=&quot;10&quot; r=&quot;4&quot; fill=&quot;#7c4dff&quot;
filter=&quot;url(#df2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;74&quot;
cy=&quot;6&quot; r=&quot;2.5&quot; fill=&quot;#fff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Dramatic brow bones */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M42,46 Q54,38
64,44&quot; stroke=&quot;#0d0030&quot; strokeWidth=&quot;4.5&quot;
fill=&quot;none&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M84,44 Q94,38
106,46&quot; stroke=&quot;#0d0030&quot; strokeWidth=&quot;4.5&quot;
fill=&quot;none&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M42,46 Q54,38
64,44&quot; stroke=&quot;#7c4dff&quot; strokeWidth=&quot;1.5&quot;
fill=&quot;none&quot; strokeLinecap=&quot;round&quot;
opacity=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M84,44 Q94,38
106,46&quot; stroke=&quot;#7c4dff&quot; strokeWidth=&quot;1.5&quot;
fill=&quot;none&quot; strokeLinecap=&quot;round&quot;
opacity=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Long angular snout */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M48,70 Q74,65
100,70 Q104,78 100,84 Q74,88 48,84 Q44,78 48,70 Z&quot;
fill=&quot;#3949ab&quot; stroke=&quot;#1a237e&quot;
strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M52,77 Q74,74
96,77&quot; fill=&quot;none&quot; stroke=&quot;#1a237e&quot;
strokeWidth=&quot;2&quot; strokeLinecap=&quot;round&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Nostril glow */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;58&quot;
cy=&quot;71&quot; r=&quot;3&quot; fill=&quot;#00e5ff&quot;
opacity=&quot;0.8&quot; filter=&quot;url(#df2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;90&quot;
cy=&quot;71&quot; r=&quot;3&quot; fill=&quot;#00e5ff&quot;
opacity=&quot;0.8&quot; filter=&quot;url(#df2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* GLOWING EYES — the crown jewel
*/}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;55&quot;
cy=&quot;52&quot; r=&quot;13&quot; fill=&quot;#0d0030&quot;
stroke=&quot;#311b92&quot; strokeWidth=&quot;2.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;93&quot;
cy=&quot;52&quot; r=&quot;13&quot; fill=&quot;#0d0030&quot;
stroke=&quot;#311b92&quot; strokeWidth=&quot;2.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Eye glow halo */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;55&quot;
cy=&quot;52&quot; r=&quot;13&quot; fill=&quot;none&quot;
stroke=&quot;rgba(0,229,255,0.5)&quot; strokeWidth=&quot;4&quot;
filter=&quot;url(#df2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;93&quot;
cy=&quot;52&quot; r=&quot;13&quot; fill=&quot;none&quot;
stroke=&quot;rgba(0,229,255,0.5)&quot; strokeWidth=&quot;4&quot;
filter=&quot;url(#df2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;55&quot;
cy=&quot;52&quot; r=&quot;9.5&quot; fill=&quot;url(#dEye)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;93&quot;
cy=&quot;52&quot; r=&quot;9.5&quot; fill=&quot;url(#dEye)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Slit pupils */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;55&quot;
cy=&quot;52&quot; rx=&quot;3.5&quot; ry=&quot;8&quot;
fill=&quot;#000014&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;ellipse cx=&quot;93&quot;
cy=&quot;52&quot; rx=&quot;3.5&quot; ry=&quot;8&quot;
fill=&quot;#000014&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Eye highlights */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;58&quot;
cy=&quot;48&quot; r=&quot;2.8&quot;
fill=&quot;rgba(255,255,255,0.85)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;96&quot;
cy=&quot;48&quot; r=&quot;2.8&quot;
fill=&quot;rgba(255,255,255,0.85)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;52&quot;
cy=&quot;56&quot; r=&quot;1.5&quot; fill=&quot;rgba(0,229,255,0.6)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;90&quot;
cy=&quot;56&quot; r=&quot;1.5&quot; fill=&quot;rgba(0,229,255,0.6)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Fierce toothy grin */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M55,83 Q74,92
93,83&quot; stroke=&quot;#000014&quot; strokeWidth=&quot;3&quot;
strokeLinecap=&quot;round&quot; fill=&quot;rgba(0,50,100,0.4)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Upper fangs */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;polygon points=&quot;61,83
58,91 64,91&quot; fill=&quot;#e0f7fa&quot; stroke=&quot;#90caf9&quot;
strokeWidth=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;polygon points=&quot;69,84
66,92 72,92&quot; fill=&quot;#e0f7fa&quot; stroke=&quot;#90caf9&quot;
strokeWidth=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;polygon points=&quot;77,84
74,92 80,92&quot; fill=&quot;#e0f7fa&quot; stroke=&quot;#90caf9&quot;
strokeWidth=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;polygon points=&quot;85,83
82,91 88,91&quot; fill=&quot;#e0f7fa&quot; stroke=&quot;#90caf9&quot;
strokeWidth=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Fang tips glow */}</span></p>

<p class=MsoNormal><span lang=EN-US>       
{[[61,91],[69,92],[77,92],[85,91]].map(([x,y],i)=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;circle key={i} cx={x} cy={y}
r=&quot;2&quot; fill=&quot;#00e5ff&quot; opacity=&quot;0.6&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Big glowing dewlap */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M58,86 Q74,100
90,86&quot; fill=&quot;url(#dWing)&quot; opacity=&quot;0.85&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;path d=&quot;M58,86 Q74,100
90,86&quot; fill=&quot;none&quot; stroke=&quot;rgba(0,229,255,0.5)&quot;
strokeWidth=&quot;2&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Massive dorsal crest — crown of
spines */}</span></p>

<p class=MsoNormal><span lang=EN-US>        {[0,1,2,3,4,5,6,7,8,9].map(i=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;polygon key={i}</span></p>

<p class=MsoNormal><span lang=EN-US>            points={`${58+i*4},${66-i*3}
${55+i*4},${56-i*3} ${61+i*4},${56-i*3}`}</span></p>

<p class=MsoNormal><span lang=EN-US>            fill=&quot;#1a237e&quot;
stroke=&quot;#7c4dff&quot; strokeWidth=&quot;0.8&quot;
opacity=&quot;0.9&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Crest tip glow */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;circle cx=&quot;94&quot;
cy=&quot;37&quot; r=&quot;4&quot; fill=&quot;#00e5ff&quot;
opacity=&quot;0.6&quot; filter=&quot;url(#df2)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>  );</span></p>

<p class=MsoNormal><span lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>// &#9472;&#9472;&#9472; SNAKE GAME
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>function SnakeGame({ onWin, onClose }) {</span></p>

<p class=MsoNormal><span lang=EN-US>  const canvasRef = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const gameRef = useRef({ snake:
[{x:10,y:10}], dir:{x:1,y:0}, food:{x:15,y:15}, score:0, running:true,
interval:null });</span></p>

<p class=MsoNormal><span lang=EN-US>  const [score, setScore] = useState(0);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [status, setStatus] =
useState(&quot;playing&quot;); // playing, won, lost</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  useEffect(() =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    const canvas = canvasRef.current;</span></p>

<p class=MsoNormal><span lang=EN-US>    const ctx =
canvas.getContext(&quot;2d&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>    const G = gameRef.current;</span></p>

<p class=MsoNormal><span lang=EN-US>    const SIZE = 20, COLS = 20, ROWS = 20;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const draw = () =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle = &quot;#0a1628&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(0, 0, canvas.width,
canvas.height);</span></p>

<p class=MsoNormal><span lang=EN-US>      // grid</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.strokeStyle =
&quot;#1a2a3a&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      for(let i=0;i&lt;COLS;i++) for(let
j=0;j&lt;ROWS;j++) {</span></p>

<p class=MsoNormal><span lang=EN-US>       
ctx.strokeRect(i*SIZE,j*SIZE,SIZE,SIZE);</span></p>

<p class=MsoNormal><span lang=EN-US>      }</span></p>

<p class=MsoNormal><span lang=EN-US>      // food</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.font = `${SIZE-2}px serif`;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillText(&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&quot;, G.food.x*SIZE+1, G.food.y*SIZE+SIZE-2);</span></p>

<p class=MsoNormal><span lang=EN-US>      // snake</span></p>

<p class=MsoNormal><span lang=EN-US>      G.snake.forEach((s,i) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillStyle = i===0 ?
&quot;#00e5ff&quot; : `hsl(${190+i*3},80%,${50-i*1.5}%)`;</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillRect(s.x*SIZE+1,
s.y*SIZE+1, SIZE-2, SIZE-2);</span></p>

<p class=MsoNormal><span lang=EN-US>      });</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const step = () =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      if(!G.running) return;</span></p>

<p class=MsoNormal><span lang=EN-US>      const head = { x: G.snake[0].x +
G.dir.x, y: G.snake[0].y + G.dir.y };</span></p>

<p class=MsoNormal><span lang=EN-US>     
if(head.x&lt;0||head.x&gt;=COLS||head.y&lt;0||head.y&gt;=ROWS||G.snake.some(s=&gt;s.x===head.x&amp;&amp;s.y===head.y)){</span></p>

<p class=MsoNormal><span lang=EN-US>        G.running=false;
setStatus(&quot;lost&quot;); clearInterval(G.interval); return;</span></p>

<p class=MsoNormal><span lang=EN-US>      }</span></p>

<p class=MsoNormal><span lang=EN-US>      G.snake.unshift(head);</span></p>

<p class=MsoNormal><span lang=EN-US>     
if(head.x===G.food.x&amp;&amp;head.y===G.food.y){</span></p>

<p class=MsoNormal><span lang=EN-US>        G.score++; setScore(G.score);</span></p>

<p class=MsoNormal><span lang=EN-US>        if(G.score&gt;=5){ G.running=false;
setStatus(&quot;won&quot;); clearInterval(G.interval); return; }</span></p>

<p class=MsoNormal><span lang=EN-US>        do {
G.food={x:Math.floor(Math.random()*COLS),y:Math.floor(Math.random()*ROWS)}; }</span></p>

<p class=MsoNormal><span lang=EN-US>       
while(G.snake.some(s=&gt;s.x===G.food.x&amp;&amp;s.y===G.food.y));</span></p>

<p class=MsoNormal><span lang=EN-US>      } else G.snake.pop();</span></p>

<p class=MsoNormal><span lang=EN-US>      draw();</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    draw();</span></p>

<p class=MsoNormal><span lang=EN-US>    G.interval = setInterval(step, 150);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const onKey = e =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      const dirs = {
ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}
};</span></p>

<p class=MsoNormal><span lang=EN-US>      if(dirs[e.key] &amp;&amp;
!(dirs[e.key].x===-G.dir.x &amp;&amp; dirs[e.key].y===-G.dir.y)){</span></p>

<p class=MsoNormal><span lang=EN-US>        G.dir = dirs[e.key];
e.preventDefault();</span></p>

<p class=MsoNormal><span lang=EN-US>      }</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>   
window.addEventListener(&quot;keydown&quot;, onKey);</span></p>

<p class=MsoNormal><span lang=EN-US>    return () =&gt; {
clearInterval(G.interval); window.removeEventListener(&quot;keydown&quot;,
onKey); };</span></p>

<p class=MsoNormal><span lang=EN-US>  }, []);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // touch controls</span></p>

<p class=MsoNormal><span lang=EN-US>  const touchStart = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const onTouchStart = e =&gt;
touchStart.current = {x:e.touches[0].clientX,y:e.touches[0].clientY};</span></p>

<p class=MsoNormal><span lang=EN-US>  const onTouchEnd = e =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    if(!touchStart.current) return;</span></p>

<p class=MsoNormal><span lang=EN-US>    const
dx=e.changedTouches[0].clientX-touchStart.current.x,
dy=e.changedTouches[0].clientY-touchStart.current.y;</span></p>

<p class=MsoNormal><span lang=EN-US>    const G=gameRef.current;</span></p>

<p class=MsoNormal><span lang=EN-US>    if(Math.abs(dx)&gt;Math.abs(dy)){</span></p>

<p class=MsoNormal><span lang=EN-US>      if(dx&gt;10&amp;&amp;G.dir.x!==-1)
G.dir={x:1,y:0};</span></p>

<p class=MsoNormal><span lang=EN-US>      else
if(dx&lt;-10&amp;&amp;G.dir.x!==1) G.dir={x:-1,y:0};</span></p>

<p class=MsoNormal><span lang=EN-US>    } else {</span></p>

<p class=MsoNormal><span lang=EN-US>      if(dy&gt;10&amp;&amp;G.dir.y!==-1)
G.dir={x:0,y:1};</span></p>

<p class=MsoNormal><span lang=EN-US>      else
if(dy&lt;-10&amp;&amp;G.dir.y!==1) G.dir={x:0,y:-1};</span></p>

<p class=MsoNormal><span lang=EN-US>    }</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  return (</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div
style={{position:&quot;fixed&quot;,inset:0,background:&quot;rgba(0,0,0,0.85)&quot;,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,zIndex:1000}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div
style={{background:&quot;#0a1628&quot;,borderRadius:16,padding:20,border:&quot;2px
solid #00e5ff&quot;,maxWidth:440,width:&quot;100%&quot;,margin:&quot;0
16px&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{display:&quot;flex&quot;,justifyContent:&quot;space-between&quot;,alignItems:&quot;center&quot;,marginBottom:12}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;h2
style={{color:&quot;#00e5ff&quot;,fontFamily:&quot;monospace&quot;,margin:0}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128013;</span><span
lang=EN-US> Snake del Agua&lt;/h2&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span
style={{color:&quot;#fff&quot;,fontFamily:&quot;monospace&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US> {score}/5&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        </span>&lt;/div&gt;</p>

<p class=MsoNormal>        &lt;p
style={{color:&quot;#7ec8e3&quot;,fontFamily:&quot;monospace&quot;,fontSize:12,marginBottom:12,margin:&quot;0
0 12px&quot;}}&gt;¡Recolecta 5 gotas de agua para ganar un protector de
racha!&lt;/p&gt;</p>

<p class=MsoNormal>        &lt;canvas ref={canvasRef} width={400} height={400}
style={{width:&quot;100%&quot;,borderRadius:8,display:&quot;block&quot;}}
onTouchStart={onTouchStart} onTouchEnd={onTouchEnd}/&gt;</p>

<p class=MsoNormal>        <span lang=EN-US>&lt;div
style={{display:&quot;flex&quot;,gap:8,marginTop:12,justifyContent:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>         
{[&quot;&#8593;&quot;,&quot;&#8595;&quot;,&quot;&#8592;&quot;,&quot;&#8594;&quot;].map((d,i)=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>            const
dirs=[{x:0,y:-1},{x:0,y:1},{x:-1,y:0},{x:1,y:0}];</span></p>

<p class=MsoNormal><span lang=EN-US>            return &lt;button key={d}
onClick={()=&gt;{const
G=gameRef.current;if(!(dirs[i].x===-G.dir.x&amp;&amp;dirs[i].y===-G.dir.y))G.dir=dirs[i];}}
style={{padding:&quot;10px
16px&quot;,background:&quot;#1a2a3a&quot;,border:&quot;1px solid #00e5ff&quot;,color:&quot;#00e5ff&quot;,borderRadius:8,cursor:&quot;pointer&quot;,fontSize:18}}&gt;{d}&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          })}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {status!==&quot;playing&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{marginTop:16,textAlign:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {status===&quot;won&quot; ? (</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;&gt;&lt;p
style={{color:&quot;#4caf50&quot;,fontFamily:&quot;monospace&quot;,fontSize:18}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127881;</span><span
lang=EN-US> ¡Ganaste! Protector de racha obtenido&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;button onClick={onWin}
style={{marginTop:8,padding:&quot;10px
24px&quot;,background:&quot;#4caf50&quot;,border:&quot;none&quot;,color:&quot;#fff&quot;,borderRadius:8,cursor:&quot;pointer&quot;,fontFamily:&quot;monospace&quot;,fontSize:14}}&gt;¡Genial!&lt;/button&gt;&lt;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            ) : (</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;&gt;&lt;p
style={{color:&quot;#f44336&quot;,fontFamily:&quot;monospace&quot;,fontSize:18}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128128;</span><span
lang=EN-US> Game over. Inténtalo de nuevo&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{display:&quot;flex&quot;,gap:8,justifyContent:&quot;center&quot;,marginTop:8}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;button
onClick={onClose} style={{padding:&quot;10px
20px&quot;,background:&quot;#333&quot;,border:&quot;none&quot;,color:&quot;#fff&quot;,borderRadius:8,cursor:&quot;pointer&quot;,fontFamily:&quot;monospace&quot;,fontSize:13}}&gt;Salir&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;&lt;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            )}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        )}</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>  );</span></p>

<p class=MsoNormal><span lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>// &#9472;&#9472;&#9472; MARIO GAME
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>function MarioGame({ onFinish, onClose }) {</span></p>

<p class=MsoNormal><span lang=EN-US>  const canvasRef = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const stateRef = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const rafRef = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const keysRef = useRef({});</span></p>

<p class=MsoNormal><span lang=EN-US>  const touchRef = useRef({});</span></p>

<p class=MsoNormal><span lang=EN-US>  const restartRef = useRef(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [uiScore, setUiScore] =
useState(0);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [uiLives, setUiLives] =
useState(3);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [uiCoins, setUiCoins] =
useState(0);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [phase, setPhase] =
useState(&quot;playing&quot;); // playing | dead | won</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const W = 360, H = 280;</span></p>

<p class=MsoNormal><span lang=EN-US>  const GROUND = H - 36;</span></p>

<p class=MsoNormal><span lang=EN-US>  const TILE = 24;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // Build level</span></p>

<p class=MsoNormal><span lang=EN-US>  const buildLevel = () =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    const platforms = [</span></p>

<p class=MsoNormal><span lang=EN-US>      // ground strip</span></p>

<p class=MsoNormal><span lang=EN-US>     
...Array.from({length:20},(_,i)=&gt;({x:i*TILE, y:GROUND, w:TILE, h:TILE,
type:&quot;ground&quot;})),</span></p>

<p class=MsoNormal><span lang=EN-US>      // gaps — row 2 (water gap!) at x 5</span></p>

<p class=MsoNormal><span lang=EN-US>     
{x:5*TILE,y:GROUND-TILE*2,w:TILE*2,h:TILE,type:&quot;platform&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>     
{x:8*TILE,y:GROUND-TILE*3,w:TILE*2,h:TILE,type:&quot;platform&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>     
{x:11*TILE,y:GROUND-TILE*2,w:TILE*2,h:TILE,type:&quot;platform&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>     
{x:14*TILE,y:GROUND-TILE*4,w:TILE,h:TILE,type:&quot;platform&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>      // elevated final</span></p>

<p class=MsoNormal><span lang=EN-US>     
{x:16*TILE,y:GROUND-TILE*2,w:TILE*4,h:TILE,type:&quot;platform&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>    ];</span></p>

<p class=MsoNormal><span lang=EN-US>    // Remove ground under gaps</span></p>

<p class=MsoNormal><span lang=EN-US>    const gapTiles = new Set([7,8,9,10]);</span></p>

<p class=MsoNormal><span lang=EN-US>    const filteredGround =
platforms.filter(p =&gt; !(p.type===&quot;ground&quot; &amp;&amp;
gapTiles.has(p.x/TILE)));</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const coins = [</span></p>

<p class=MsoNormal><span lang=EN-US>      {x:5*TILE+4, y:GROUND-TILE*3-8,
w:14,h:14,collected:false},</span></p>

<p class=MsoNormal><span lang=EN-US>      {x:8*TILE+4, y:GROUND-TILE*4-8,
w:14,h:14,collected:false},</span></p>

<p class=MsoNormal><span lang=EN-US>      {x:9*TILE+4, y:GROUND-TILE*4-8,
w:14,h:14,collected:false},</span></p>

<p class=MsoNormal><span lang=EN-US>      {x:11*TILE+4, y:GROUND-TILE*3-8,
w:14,h:14,collected:false},</span></p>

<p class=MsoNormal><span lang=EN-US>      {x:14*TILE+5, y:GROUND-TILE*5-8,
w:14,h:14,collected:false},</span></p>

<p class=MsoNormal><span lang=EN-US>      {x:16*TILE+4, y:GROUND-TILE*3-8,
w:14,h:14,collected:false},</span></p>

<p class=MsoNormal><span lang=EN-US>      {x:17*TILE+4, y:GROUND-TILE*3-8,
w:14,h:14,collected:false},</span></p>

<p class=MsoNormal><span lang=EN-US>      {x:18*TILE+4, y:GROUND-TILE*3-8,
w:14,h:14,collected:false},</span></p>

<p class=MsoNormal><span lang=EN-US>    ];</span></p>

<p class=MsoNormal><span lang=EN-US>    const enemies = [</span></p>

<p class=MsoNormal><span lang=EN-US>      {x:3*TILE, y:GROUND-TILE,
w:TILE-2,h:TILE-2, vx:-0.8, alive:true, type:&quot;goomba&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>      {x:12*TILE, y:GROUND-TILE*3-TILE,
w:TILE-2,h:TILE-2, vx:-0.6, alive:true, type:&quot;goomba&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>      {x:17*TILE, y:GROUND-TILE*3-TILE,
w:TILE-2,h:TILE-2, vx:0.7, alive:true, type:&quot;goomba&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>    ];</span></p>

<p class=MsoNormal><span lang=EN-US>    const flag = {x:19*TILE,
y:GROUND-TILE*5, w:TILE*0.5, h:TILE*5};</span></p>

<p class=MsoNormal><span lang=EN-US>    return { platforms:filteredGround,
coins, enemies, flag };</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  useEffect(()=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>    const canvas = canvasRef.current;</span></p>

<p class=MsoNormal><span lang=EN-US>    const ctx =
canvas.getContext(&quot;2d&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>    const lvl = buildLevel();</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const gs = {</span></p>

<p class=MsoNormal><span lang=EN-US>      player: {x:TILE, y:GROUND-TILE*2,
w:20, h:24, vx:0, vy:0, onGround:false, dead:false, facingRight:true,
blinkTimer:0},</span></p>

<p class=MsoNormal><span lang=EN-US>      cam: 0,</span></p>

<p class=MsoNormal><span lang=EN-US>      score: 0,</span></p>

<p class=MsoNormal><span lang=EN-US>      coins: 0,</span></p>

<p class=MsoNormal><span lang=EN-US>      lives: 3,</span></p>

<p class=MsoNormal><span lang=EN-US>      ...lvl,</span></p>

<p class=MsoNormal><span lang=EN-US>      particles: [],</span></p>

<p class=MsoNormal><span lang=EN-US>      invincible: 0,</span></p>

<p class=MsoNormal><span lang=EN-US>      ended: false,</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>    stateRef.current = gs;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const GRAVITY = 0.45, JUMP = -9.5,
SPEED = 2.8;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const collideRect = (a,b) =&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      a.x &lt; b.x+b.w &amp;&amp; a.x+a.w
&gt; b.x &amp;&amp;</span></p>

<p class=MsoNormal><span lang=EN-US>      a.y &lt; b.y+b.h &amp;&amp; a.y+a.h
&gt; b.y;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const addParticle = (x,y,color) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      for(let i=0;i&lt;6;i++)
gs.particles.push({</span></p>

<p class=MsoNormal><span lang=EN-US>        x, y, vx:(Math.random()-0.5)*4,
vy:-(Math.random()*3+1),</span></p>

<p class=MsoNormal><span lang=EN-US>        life:30, color, r:3+Math.random()*3</span></p>

<p class=MsoNormal><span lang=EN-US>      });</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const drawTile = (ctx, x, y, type)
=&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      const cx = x - gs.cam;</span></p>

<p class=MsoNormal><span lang=EN-US>      if(cx &lt; -TILE || cx &gt; W+TILE)
return;</span></p>

<p class=MsoNormal><span lang=EN-US>      if(type===&quot;ground&quot;){</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillStyle=&quot;#8B6340&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillRect(cx,y,TILE,TILE);</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillStyle=&quot;#5a9a28&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillRect(cx,y,TILE,8);</span></p>

<p class=MsoNormal><span lang=EN-US>       
ctx.strokeStyle=&quot;rgba(0,0,0,0.15)&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.strokeRect(cx,y,TILE,TILE);</span></p>

<p class=MsoNormal><span lang=EN-US>      } else {</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillStyle=&quot;#7a6a3a&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillRect(cx,y,TILE,TILE);</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillStyle=&quot;#a08840&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillRect(cx+2,y+2,TILE-4,8);</span></p>

<p class=MsoNormal><span lang=EN-US>       
ctx.strokeStyle=&quot;rgba(0,0,0,0.2)&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.strokeRect(cx,y,TILE,TILE);</span></p>

<p class=MsoNormal><span lang=EN-US>      }</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const drawPlayer = (ctx, p) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      const px = p.x - gs.cam;</span></p>

<p class=MsoNormal><span lang=EN-US>      if(p.blinkTimer &gt; 0 &amp;&amp;
Math.floor(p.blinkTimer/4)%2===0) return;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.save();</span></p>

<p class=MsoNormal><span lang=EN-US>      if(!p.facingRight){
ctx.translate(px+p.w, p.y); ctx.scale(-1,1); }</span></p>

<p class=MsoNormal><span lang=EN-US>      else { ctx.translate(px, p.y); }</span></p>

<p class=MsoNormal><span lang=EN-US>      // Body</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#5aba38&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(2,8,p.w-4,p.h-8);</span></p>

<p class=MsoNormal><span lang=EN-US>      // Belly</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#a8e06a&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(5,12,p.w-10,p.h-16);</span></p>

<p class=MsoNormal><span lang=EN-US>      // Head</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#5aba38&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(0,0,p.w,12);</span></p>

<p class=MsoNormal><span lang=EN-US>      // Eyes</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#fff&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(p.w-9,2,6,6);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#1a1a00&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(p.w-7,3,3,3);</span></p>

<p class=MsoNormal><span lang=EN-US>      // Cap</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#00b4d8&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(0,0,p.w,4);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(-2,2,p.w+4,3);</span></p>

<p class=MsoNormal><span lang=EN-US>      // Legs</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#1060b0&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(2,p.h-8,7,8);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(p.w-9,p.h-8,7,8);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.restore();</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const drawGoomba = (ctx, e) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      if(!e.alive) return;</span></p>

<p class=MsoNormal><span lang=EN-US>      const ex = e.x - gs.cam;</span></p>

<p class=MsoNormal><span lang=EN-US>      if(ex &lt; -TILE || ex &gt; W+TILE)
return;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#8b4513&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>     
ctx.fillRect(ex+2,e.y+e.h/2,e.w-4,e.h/2);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#a0522d&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.beginPath();</span></p>

<p class=MsoNormal><span lang=EN-US>     
ctx.ellipse(ex+e.w/2,e.y+e.h/2,e.w/2,e.h/2,0,0,Math.PI*2);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fill();</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#fff&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(ex+3,e.y+5,5,5);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(ex+e.w-8,e.y+5,5,5);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#1a0000&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(ex+5,e.y+7,3,3);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(ex+e.w-6,e.y+7,3,3);</span></p>

<p class=MsoNormal><span lang=EN-US>      // Angry brows</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#3a0000&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(ex+2,e.y+3,7,2);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(ex+e.w-9,e.y+3,7,2);</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const drawCoin = (ctx, c) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      if(c.collected) return;</span></p>

<p class=MsoNormal><span lang=EN-US>      const cx = c.x - gs.cam;</span></p>

<p class=MsoNormal><span lang=EN-US>      const t = Date.now()/400;</span></p>

<p class=MsoNormal><span lang=EN-US>      const wobble = Math.sin(t+c.x)*0.8;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.save();</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.translate(cx+c.w/2, c.y+c.h/2);</span></p>

<p class=MsoNormal><span lang=EN-US>     
ctx.scale(Math.cos(wobble+c.x*0.1)*0.7+0.5, 1);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#FFD700&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.beginPath();</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.arc(0,0,c.w/2,0,Math.PI*2);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fill();</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#FFF176&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.beginPath();</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.arc(-2,-2,c.w/4,0,Math.PI*2);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fill();</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.restore();</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const drawFlag = (ctx, f) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      const fx = f.x - gs.cam;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#aaa&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(fx+f.w/2-1,f.y,3,f.h);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#4caf50&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.beginPath();</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.moveTo(fx+f.w/2+2,f.y);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.lineTo(fx+f.w/2+18,f.y+8);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.lineTo(fx+f.w/2+2,f.y+16);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fill();</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=&quot;#FFD700&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.beginPath();</span></p>

<p class=MsoNormal><span lang=EN-US>     
ctx.arc(fx+f.w/2+2,f.y,4,0,Math.PI*2);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fill();</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const update = () =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      const p = gs.player;</span></p>

<p class=MsoNormal><span lang=EN-US>      if(gs.ended) return;</span></p>

<p class=MsoNormal><span lang=EN-US>      if(gs.invincible &gt; 0)
gs.invincible--;</span></p>

<p class=MsoNormal><span lang=EN-US>      if(p.blinkTimer &gt; 0)
p.blinkTimer--;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Input</span></p>

<p class=MsoNormal><span lang=EN-US>      const left =
keysRef.current[&quot;ArrowLeft&quot;]||keysRef.current[&quot;a&quot;]||touchRef.current.left;</span></p>

<p class=MsoNormal><span lang=EN-US>      const right =
keysRef.current[&quot;ArrowRight&quot;]||keysRef.current[&quot;d&quot;]||touchRef.current.right;</span></p>

<p class=MsoNormal><span lang=EN-US>      const jump =
keysRef.current[&quot;ArrowUp&quot;]||keysRef.current[&quot;w&quot;]||keysRef.current[&quot;
&quot;]||touchRef.current.jump;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      if(left){ p.vx=-SPEED;
p.facingRight=false; }</span></p>

<p class=MsoNormal><span lang=EN-US>      else if(right){ p.vx=SPEED;
p.facingRight=true; }</span></p>

<p class=MsoNormal><span lang=EN-US>      else p.vx *= 0.7;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      if(jump &amp;&amp; p.onGround){
p.vy=JUMP; p.onGround=false; }</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      p.vy += GRAVITY;</span></p>

<p class=MsoNormal><span lang=EN-US>      p.vy = Math.min(p.vy, 14);</span></p>

<p class=MsoNormal><span lang=EN-US>      p.x += p.vx;</span></p>

<p class=MsoNormal><span lang=EN-US>      p.y += p.vy;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Platform collision</span></p>

<p class=MsoNormal><span lang=EN-US>      p.onGround = false;</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.platforms.forEach(pl=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>        if(!collideRect(p,pl)) return;</span></p>

<p class=MsoNormal><span lang=EN-US>        const overlapX =
Math.min(p.x+p.w,pl.x+pl.w)-Math.max(p.x,pl.x);</span></p>

<p class=MsoNormal><span lang=EN-US>        const overlapY =
Math.min(p.y+p.h,pl.y+pl.h)-Math.max(p.y,pl.y);</span></p>

<p class=MsoNormal><span lang=EN-US>        if(overlapX &gt; overlapY){</span></p>

<p class=MsoNormal><span lang=EN-US>          if(p.y+p.h/2 &lt; pl.y+pl.h/2){
p.y=pl.y-p.h; p.vy=0; p.onGround=true; }</span></p>

<p class=MsoNormal><span lang=EN-US>          else { p.y=pl.y+pl.h; p.vy=0; }</span></p>

<p class=MsoNormal><span lang=EN-US>        } else {</span></p>

<p class=MsoNormal><span lang=EN-US>          if(p.x+p.w/2 &lt; pl.x+pl.w/2){
p.x=pl.x-p.w; }</span></p>

<p class=MsoNormal><span lang=EN-US>          else { p.x=pl.x+pl.w; }</span></p>

<p class=MsoNormal><span lang=EN-US>          p.vx=0;</span></p>

<p class=MsoNormal><span lang=EN-US>        }</span></p>

<p class=MsoNormal><span lang=EN-US>      });</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Boundaries</span></p>

<p class=MsoNormal><span lang=EN-US>      if(p.x &lt; 0) p.x=0;</span></p>

<p class=MsoNormal><span lang=EN-US>      if(p.y &gt; H+60){ // fell into pit</span></p>

<p class=MsoNormal><span lang=EN-US>        gs.lives--;</span></p>

<p class=MsoNormal><span lang=EN-US>        p.x=TILE; p.y=GROUND-TILE*2;
p.vx=0; p.vy=0;</span></p>

<p class=MsoNormal><span lang=EN-US>        gs.cam=0;</span></p>

<p class=MsoNormal><span lang=EN-US>        p.blinkTimer=80;</span></p>

<p class=MsoNormal><span lang=EN-US>        gs.invincible=80;</span></p>

<p class=MsoNormal><span lang=EN-US>        setUiLives(gs.lives);</span></p>

<p class=MsoNormal><span lang=EN-US>       
if(gs.lives&lt;=0){gs.ended=true;setPhase(&quot;dead&quot;);}</span></p>

<p class=MsoNormal><span lang=EN-US>        return;</span></p>

<p class=MsoNormal><span lang=EN-US>      }</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Camera</span></p>

<p class=MsoNormal><span lang=EN-US>      const targetCam = Math.max(0, p.x -
W*0.35);</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.cam += (targetCam - gs.cam)*0.1;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Coin collection</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.coins = gs.coins;</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.coins_list = gs.coins_list || 0;</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.coinItems = gs.coinItems ||
gs.coins;</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.coins_arr = gs.coins_arr ||
gs.coins;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.coins_data = gs.coins_data !==
undefined ? gs.coins_data : 0;</span></p>

<p class=MsoNormal><span lang=EN-US>      let coinsNow = 0;</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.coins_arr2 = gs.coins_arr2 !==
undefined ? gs.coins_arr2 : 0;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.coins_track = gs.coins_track !==
undefined ? gs.coins_track : 0;</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.coinItems_arr = gs.coinItems_arr
|| gs.coinItems;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Simplified — just track via
gs.coinCount</span></p>

<p class=MsoNormal><span lang=EN-US>      if(gs.coinCount===undefined)
gs.coinCount=0;</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.coinsCollected = gs.coinsCollected
|| [];</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.allCoins = gs.allCoins ||
gs.coins_data;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.allCoinsList = gs.coins;</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.coins.forEach((c,i)=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>        if(c.collected) return;</span></p>

<p class=MsoNormal><span lang=EN-US>        if(collideRect(p,c)){</span></p>

<p class=MsoNormal><span lang=EN-US>          c.collected=true;</span></p>

<p class=MsoNormal><span lang=EN-US>          gs.coinCount++;</span></p>

<p class=MsoNormal><span lang=EN-US>          gs.score+=10;</span></p>

<p class=MsoNormal><span lang=EN-US>         
addParticle(c.x+7,c.y+7,&quot;#FFD700&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>          setUiCoins(gs.coinCount);</span></p>

<p class=MsoNormal><span lang=EN-US>          setUiScore(gs.score);</span></p>

<p class=MsoNormal><span lang=EN-US>        }</span></p>

<p class=MsoNormal><span lang=EN-US>      });</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Enemies</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.enemies.forEach(e=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>        if(!e.alive) return;</span></p>

<p class=MsoNormal><span lang=EN-US>        // Bounce off platforms/edges</span></p>

<p class=MsoNormal><span lang=EN-US>        let hitWall=false;</span></p>

<p class=MsoNormal><span lang=EN-US>        gs.platforms.forEach(pl=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>          if(!collideRect(e,pl)) return;</span></p>

<p class=MsoNormal><span lang=EN-US>          const
overlapX=Math.min(e.x+e.w,pl.x+pl.w)-Math.max(e.x,pl.x);</span></p>

<p class=MsoNormal><span lang=EN-US>          const
overlapY=Math.min(e.y+e.h,pl.y+pl.h)-Math.max(e.y,pl.y);</span></p>

<p class=MsoNormal><span lang=EN-US>          if(overlapX&gt;overlapY){</span></p>

<p class=MsoNormal><span lang=EN-US>           
if(e.y+e.h/2&lt;pl.y+pl.h/2){e.y=pl.y-e.h;} else{e.y=pl.y+pl.h;}</span></p>

<p class=MsoNormal><span lang=EN-US>          } else { e.vx=-e.vx;
hitWall=true; }</span></p>

<p class=MsoNormal><span lang=EN-US>        });</span></p>

<p class=MsoNormal><span lang=EN-US>        e.x+=e.vx;</span></p>

<p class=MsoNormal><span lang=EN-US>        if(e.x&lt;0||e.x&gt;20*TILE)
e.vx=-e.vx;</span></p>

<p class=MsoNormal><span lang=EN-US>        // Player vs enemy</span></p>

<p class=MsoNormal><span lang=EN-US>        if(gs.invincible&gt;0) return;</span></p>

<p class=MsoNormal><span lang=EN-US>        if(!collideRect(p,e)) return;</span></p>

<p class=MsoNormal><span lang=EN-US>        const stompThreshold = e.y + 4;</span></p>

<p class=MsoNormal><span lang=EN-US>        if(p.y+p.h-6 &lt; stompThreshold
&amp;&amp; p.vy &gt; 0){</span></p>

<p class=MsoNormal><span lang=EN-US>          // Stomp</span></p>

<p class=MsoNormal><span lang=EN-US>          e.alive=false;</span></p>

<p class=MsoNormal><span lang=EN-US>          p.vy=-6;</span></p>

<p class=MsoNormal><span lang=EN-US>          gs.score+=50;</span></p>

<p class=MsoNormal><span lang=EN-US>         
addParticle(e.x+e.w/2,e.y,&quot;#ff6b00&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>          setUiScore(gs.score);</span></p>

<p class=MsoNormal><span lang=EN-US>        } else {</span></p>

<p class=MsoNormal><span lang=EN-US>          // Hurt</span></p>

<p class=MsoNormal><span lang=EN-US>          gs.lives--;</span></p>

<p class=MsoNormal><span lang=EN-US>          setUiLives(gs.lives);</span></p>

<p class=MsoNormal><span lang=EN-US>          p.vy=-5; p.vx= p.x&lt;e.x ? -3 :
3;</span></p>

<p class=MsoNormal><span lang=EN-US>          gs.invincible=90;</span></p>

<p class=MsoNormal><span lang=EN-US>          p.blinkTimer=90;</span></p>

<p class=MsoNormal><span lang=EN-US>         
if(gs.lives&lt;=0){gs.ended=true;setPhase(&quot;dead&quot;);}</span></p>

<p class=MsoNormal><span lang=EN-US>        }</span></p>

<p class=MsoNormal><span lang=EN-US>      });</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Flag</span></p>

<p class=MsoNormal><span lang=EN-US>     
if(collideRect(p,{x:gs.flag.x,y:gs.flag.y,w:24,h:gs.flag.h})){</span></p>

<p class=MsoNormal><span lang=EN-US>        gs.ended=true;</span></p>

<p class=MsoNormal><span lang=EN-US>        const coinsBonus = gs.coinCount *
5;</span></p>

<p class=MsoNormal><span lang=EN-US>        const happBonus = Math.min(20,
gs.score/20);</span></p>

<p class=MsoNormal><span lang=EN-US>        setPhase({won:true, coins:
20+coinsBonus, happiness: Math.round(happBonus)});</span></p>

<p class=MsoNormal><span lang=EN-US>      }</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const render = ()=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.clearRect(0,0,W,H);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Sky gradient</span></p>

<p class=MsoNormal><span lang=EN-US>      const sky =
ctx.createLinearGradient(0,0,0,H);</span></p>

<p class=MsoNormal><span lang=EN-US>     
sky.addColorStop(0,&quot;#1a4a8a&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>     
sky.addColorStop(0.6,&quot;#2a6abf&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>     
sky.addColorStop(1,&quot;#4a9ad8&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillStyle=sky;</span></p>

<p class=MsoNormal><span lang=EN-US>      ctx.fillRect(0,0,W,H);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Clouds</span></p>

<p class=MsoNormal><span lang=EN-US>     
[[60,40],[160,55],[280,35],[380-gs.cam*0.2,48]].forEach(([cx,cy])=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>        const x = (cx - gs.cam*0.15 + W*2)
% (W*1.5) - 100;</span></p>

<p class=MsoNormal><span lang=EN-US>       
ctx.fillStyle=&quot;rgba(255,255,255,0.85)&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>       
ctx.beginPath();ctx.arc(x,cy,18,0,Math.PI*2);ctx.fill();</span></p>

<p class=MsoNormal><span lang=EN-US>       
ctx.beginPath();ctx.arc(x+18,cy+4,14,0,Math.PI*2);ctx.fill();</span></p>

<p class=MsoNormal><span lang=EN-US>       
ctx.beginPath();ctx.arc(x-15,cy+5,12,0,Math.PI*2);ctx.fill();</span></p>

<p class=MsoNormal><span lang=EN-US>      });</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Water gap visual</span></p>

<p class=MsoNormal><span lang=EN-US>      const gapLeft = 7*TILE - gs.cam;</span></p>

<p class=MsoNormal><span lang=EN-US>      const gapW = 3*TILE;</span></p>

<p class=MsoNormal><span lang=EN-US>      if(gapLeft &lt; W &amp;&amp;
gapLeft+gapW &gt; 0){</span></p>

<p class=MsoNormal><span lang=EN-US>        const waterGrad =
ctx.createLinearGradient(gapLeft,GROUND+8,gapLeft,H);</span></p>

<p class=MsoNormal><span lang=EN-US>       
waterGrad.addColorStop(0,&quot;#0080ff&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>       
waterGrad.addColorStop(1,&quot;#003080&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillStyle=waterGrad;</span></p>

<p class=MsoNormal><span lang=EN-US>       
ctx.fillRect(Math.max(0,gapLeft),GROUND+8,Math.min(gapW,W-gapLeft),H-GROUND-8);</span></p>

<p class=MsoNormal><span lang=EN-US>        // Waves</span></p>

<p class=MsoNormal><span lang=EN-US>       
ctx.strokeStyle=&quot;rgba(100,200,255,0.5)&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.lineWidth=2;</span></p>

<p class=MsoNormal><span lang=EN-US>        const t=Date.now()/800;</span></p>

<p class=MsoNormal><span lang=EN-US>        for(let ww=0;ww&lt;gapW;ww+=10){</span></p>

<p class=MsoNormal><span lang=EN-US>          ctx.beginPath();</span></p>

<p class=MsoNormal><span lang=EN-US>         
ctx.moveTo(gapLeft+ww,GROUND+12+Math.sin(t+ww*0.4)*3);</span></p>

<p class=MsoNormal><span lang=EN-US>         
ctx.lineTo(gapLeft+ww+5,GROUND+12+Math.sin(t+ww*0.4+1)*3);</span></p>

<p class=MsoNormal><span lang=EN-US>          ctx.stroke();</span></p>

<p class=MsoNormal><span lang=EN-US>        }</span></p>

<p class=MsoNormal><span lang=EN-US>      }</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Platforms</span></p>

<p class=MsoNormal><span lang=EN-US>     
gs.platforms.forEach(p=&gt;drawTile(ctx,p.x,p.y,p.type));</span></p>

<p class=MsoNormal><span lang=EN-US>      // Flag</span></p>

<p class=MsoNormal><span lang=EN-US>      drawFlag(ctx,gs.flag);</span></p>

<p class=MsoNormal><span lang=EN-US>      // Coins</span></p>

<p class=MsoNormal><span lang=EN-US>     
gs.coins.forEach(c=&gt;drawCoin(ctx,c));</span></p>

<p class=MsoNormal><span lang=EN-US>      </span>// Enemies</p>

<p class=MsoNormal>      gs.enemies.forEach(e=&gt;drawGoomba(ctx,e));</p>

<p class=MsoNormal>      <span lang=EN-US>// Player</span></p>

<p class=MsoNormal><span lang=EN-US>      drawPlayer(ctx,gs.player);</span></p>

<p class=MsoNormal><span lang=EN-US>      // Particles</span></p>

<p class=MsoNormal><span lang=EN-US>      gs.particles =
gs.particles.filter(p=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>        p.x+=p.vx; p.y+=p.vy; p.vy+=0.2;
p.life--;</span></p>

<p class=MsoNormal><span lang=EN-US>        const a=p.life/30;</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.globalAlpha=a;</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.fillStyle=p.color;</span></p>

<p class=MsoNormal><span lang=EN-US>       
ctx.beginPath();ctx.arc(p.x-gs.cam,p.y,p.r,0,Math.PI*2);ctx.fill();</span></p>

<p class=MsoNormal><span lang=EN-US>        ctx.globalAlpha=1;</span></p>

<p class=MsoNormal><span lang=EN-US>        return p.life&gt;0;</span></p>

<p class=MsoNormal><span lang=EN-US>      });</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const loop = ()=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>      if(!stateRef.current) return;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Handle restart</span></p>

<p class=MsoNormal><span lang=EN-US>      if(restartRef.current){</span></p>

<p class=MsoNormal><span lang=EN-US>        restartRef.current = false;</span></p>

<p class=MsoNormal><span lang=EN-US>        const fresh = buildLevel();</span></p>

<p class=MsoNormal><span lang=EN-US>        Object.assign(gs, {</span></p>

<p class=MsoNormal><span lang=EN-US>          player:{x:TILE, y:GROUND-TILE*2,
w:20, h:24, vx:0, vy:0, onGround:false, dead:false, facingRight:true,
blinkTimer:0},</span></p>

<p class=MsoNormal><span lang=EN-US>          cam:0, score:0, coinCount:0,
lives:3, invincible:0, ended:false, particles:[],</span></p>

<p class=MsoNormal><span lang=EN-US>          ...fresh,</span></p>

<p class=MsoNormal><span lang=EN-US>        });</span></p>

<p class=MsoNormal><span lang=EN-US>        setUiScore(0); setUiCoins(0);
setUiLives(3); setPhase(&quot;playing&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>      }</span></p>

<p class=MsoNormal><span lang=EN-US>      update();</span></p>

<p class=MsoNormal><span lang=EN-US>      render();</span></p>

<p class=MsoNormal><span lang=EN-US>     
rafRef.current=requestAnimationFrame(loop);</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>   
rafRef.current=requestAnimationFrame(loop);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const onKey = e=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>     
keysRef.current[e.key]=e.type===&quot;keydown&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>     
if([&quot;ArrowUp&quot;,&quot;ArrowDown&quot;,&quot; &quot;].includes(e.key))
e.preventDefault();</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>   
window.addEventListener(&quot;keydown&quot;,onKey);</span></p>

<p class=MsoNormal><span lang=EN-US>   
window.addEventListener(&quot;keyup&quot;,onKey);</span></p>

<p class=MsoNormal><span lang=EN-US>    return()=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>      cancelAnimationFrame(rafRef.current);</span></p>

<p class=MsoNormal><span lang=EN-US>     
window.removeEventListener(&quot;keydown&quot;,onKey);</span></p>

<p class=MsoNormal><span lang=EN-US>     
window.removeEventListener(&quot;keyup&quot;,onKey);</span></p>

<p class=MsoNormal><span lang=EN-US>      stateRef.current=null;</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>  },[]);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const setTouch = (key,val)=&gt;{
touchRef.current[key]=val; };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  return (</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div
style={{position:&quot;fixed&quot;,inset:0,background:&quot;rgba(0,0,0,0.88)&quot;,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,zIndex:1000}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div
style={{background:&quot;#0a1628&quot;,borderRadius:16,border:&quot;2px solid
#ffd700&quot;,maxWidth:400,width:&quot;100%&quot;,margin:&quot;0
12px&quot;,overflow:&quot;hidden&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* HUD */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{background:&quot;#1a0a40&quot;,padding:&quot;8px
14px&quot;,display:&quot;flex&quot;,justifyContent:&quot;space-between&quot;,alignItems:&quot;center&quot;,borderBottom:&quot;1px
solid #ffd70044&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span
style={{color:&quot;#ffd700&quot;,fontFamily:&quot;monospace&quot;,fontWeight:700,fontSize:&quot;0.85rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#11088;</span><span
lang=EN-US> {uiScore}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span
style={{color:&quot;#FFD700&quot;,fontFamily:&quot;monospace&quot;,fontWeight:700,fontSize:&quot;0.9rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US> ×{uiCoins}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span
style={{color:&quot;#ff6b6b&quot;,fontFamily:&quot;monospace&quot;,fontWeight:700,fontSize:&quot;0.85rem&quot;}}&gt;</span><span
lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#10084;&#65039;</span><span
lang=EN-US> ×{uiLives}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;button onClick={onClose}
style={{background:&quot;transparent&quot;,border:&quot;1px solid
#555&quot;,color:&quot;#aaa&quot;,borderRadius:6,padding:&quot;2px
8px&quot;,cursor:&quot;pointer&quot;,fontSize:&quot;0.75rem&quot;}}&gt;</span><span
lang=EN-US style='font-family:"Segoe UI Symbol",sans-serif'>&#10005;</span><span
lang=EN-US>&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Canvas */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;canvas ref={canvasRef}
width={W} height={H}
style={{display:&quot;block&quot;,width:&quot;100%&quot;,imageRendering:&quot;pixelated&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Touch controls */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{background:&quot;#0d0a20&quot;,padding:&quot;10px
12px&quot;,display:&quot;flex&quot;,justifyContent:&quot;space-between&quot;,alignItems:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{display:&quot;flex&quot;,gap:6}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;button</span></p>

<p class=MsoNormal><span lang=EN-US>             
onTouchStart={e=&gt;{e.preventDefault();setTouch(&quot;left&quot;,true);}}
onTouchEnd={()=&gt;setTouch(&quot;left&quot;,false)}</span></p>

<p class=MsoNormal><span lang=EN-US>             
onMouseDown={()=&gt;setTouch(&quot;left&quot;,true)}
onMouseUp={()=&gt;setTouch(&quot;left&quot;,false)}</span></p>

<p class=MsoNormal><span lang=EN-US>             
style={{width:46,height:46,background:&quot;rgba(255,215,0,0.15)&quot;,border:&quot;2px
solid
#ffd700&quot;,borderRadius:10,color:&quot;#ffd700&quot;,fontSize:&quot;1.3rem&quot;,cursor:&quot;pointer&quot;,userSelect:&quot;none&quot;}}&gt;</span><span
lang=EN-US style='font-family:"Cambria Math",serif'>&#9664;</span><span
lang=EN-US>&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;button</span></p>

<p class=MsoNormal><span lang=EN-US>             
onTouchStart={e=&gt;{e.preventDefault();setTouch(&quot;right&quot;,true);}}
onTouchEnd={()=&gt;setTouch(&quot;right&quot;,false)}</span></p>

<p class=MsoNormal><span lang=EN-US>             
onMouseDown={()=&gt;setTouch(&quot;right&quot;,true)}
onMouseUp={()=&gt;setTouch(&quot;right&quot;,false)}</span></p>

<p class=MsoNormal><span lang=EN-US>             
style={{width:46,height:46,background:&quot;rgba(255,215,0,0.15)&quot;,border:&quot;2px
solid
#ffd700&quot;,borderRadius:10,color:&quot;#ffd700&quot;,fontSize:&quot;1.3rem&quot;,cursor:&quot;pointer&quot;,userSelect:&quot;none&quot;}}&gt;</span><span
lang=EN-US style='font-family:"Cambria Math",serif'>&#9654;</span><span
lang=EN-US>&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{textAlign:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            </span>&lt;p
style={{color:&quot;#7ec8e3&quot;,fontSize:&quot;0.6rem&quot;,margin:&quot;0 0
2px&quot;,fontFamily:&quot;monospace&quot;}}&gt;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span>
Recoge monedas • <span style='font-family:"Segoe UI Emoji",sans-serif'>&#128095;</span>
Pisa enemigos • <span style='font-family:"Segoe UI Emoji",sans-serif'>&#128681;</span>
¡Llega a la bandera!&lt;/p&gt;</p>

<p class=MsoNormal>          <span lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;button</span></p>

<p class=MsoNormal><span lang=EN-US>           
onTouchStart={e=&gt;{e.preventDefault();setTouch(&quot;jump&quot;,true);}}
onTouchEnd={()=&gt;setTouch(&quot;jump&quot;,false)}</span></p>

<p class=MsoNormal><span lang=EN-US>           
onMouseDown={()=&gt;setTouch(&quot;jump&quot;,true)}
onMouseUp={()=&gt;setTouch(&quot;jump&quot;,false)}</span></p>

<p class=MsoNormal><span lang=EN-US>           
style={{width:56,height:56,background:&quot;rgba(76,175,80,0.25)&quot;,border:&quot;2px
solid
#4caf50&quot;,borderRadius:&quot;50%&quot;,color:&quot;#4caf50&quot;,fontSize:&quot;1.6rem&quot;,cursor:&quot;pointer&quot;,userSelect:&quot;none&quot;,fontWeight:900}}&gt;&#8593;&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* Game Over / Win overlay */}</span></p>

<p class=MsoNormal><span lang=EN-US>      {phase !== &quot;playing&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{position:&quot;absolute&quot;,inset:0,background:&quot;rgba(0,0,0,0.75)&quot;,display:&quot;flex&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,zIndex:10}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{background:&quot;#0a1628&quot;,border:`2px solid
${phase===&quot;dead&quot;?&quot;#f44336&quot;:&quot;#ffd700&quot;}`,borderRadius:20,padding:&quot;28px
32px&quot;,textAlign:&quot;center&quot;,maxWidth:280,animation:&quot;pop 0.4s
ease&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {phase===&quot;dead&quot; ? (</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{fontSize:&quot;3rem&quot;,marginBottom:8}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128565;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;h3
style={{color:&quot;#f44336&quot;,margin:&quot;0 0 8px&quot;}}&gt;¡Game
Over!&lt;/h3&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                </span>&lt;p
style={{color:&quot;#aaa&quot;,fontSize:&quot;0.85rem&quot;,margin:&quot;0 0
20px&quot;}}&gt;Tu lagartija se quedó sin vidas...&lt;/p&gt;</p>

<p class=MsoNormal>                <span lang=EN-US>&lt;div
style={{display:&quot;flex&quot;,gap:10,justifyContent:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;button
onClick={onClose} style={{padding:&quot;10px
18px&quot;,background:&quot;#333&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#fff&quot;,cursor:&quot;pointer&quot;,fontFamily:&quot;monospace&quot;}}&gt;Salir&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;button
onClick={()=&gt;{ restartRef.current=true; setPhase(&quot;playing&quot;); }}
style={{padding:&quot;10px
18px&quot;,background:&quot;linear-gradient(90deg,#f44336,#ff6b6b)&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#fff&quot;,cursor:&quot;pointer&quot;,fontFamily:&quot;monospace&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128260;</span><span
lang=EN-US> Reintentar&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            ) : (</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{fontSize:&quot;3rem&quot;,marginBottom:8}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127881;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;h3
style={{color:&quot;#ffd700&quot;,margin:&quot;0 0 4px&quot;}}&gt;¡Nivel
completado!&lt;/h3&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;p
style={{color:&quot;#a8e6cf&quot;,fontSize:&quot;0.9rem&quot;,margin:&quot;0 0
16px&quot;}}&gt;¡Tu lagartija está feliz!&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{background:&quot;rgba(255,215,0,0.1)&quot;,border:&quot;1px solid
#ffd700&quot;,borderRadius:12,padding:&quot;12px
16px&quot;,marginBottom:16}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;p
style={{color:&quot;#ffd700&quot;,fontWeight:900,fontSize:&quot;1.2rem&quot;,margin:&quot;0
0 4px&quot;}}&gt;+{phase.coins} </span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;p
style={{color:&quot;#a5d6a7&quot;,fontWeight:700,fontSize:&quot;1rem&quot;,margin:0}}&gt;+{phase.happiness}
</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span><span
lang=EN-US> felicidad&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;button
onClick={()=&gt;onFinish(phase.coins, phase.happiness)}
style={{padding:&quot;12px
28px&quot;,background:&quot;linear-gradient(90deg,#ffd700,#ffb300)&quot;,border:&quot;none&quot;,borderRadius:50,color:&quot;#1a0800&quot;,fontWeight:900,cursor:&quot;pointer&quot;,fontSize:&quot;1rem&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  ¡Genial! </span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#11088;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            )}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      )}</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>  );</span></p>

<p class=MsoNormal><span lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>// &#9472;&#9472;&#9472; BUBBLE POP GAME
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>// Tap falling water drops before they hit
the floor. Your lizard reacts live.</span></p>

<p class=MsoNormal><span lang=EN-US>function BubblePopGame({ evoLevel,
lizardName, onFinish, onClose }) {</span></p>

<p class=MsoNormal><span lang=EN-US>  const [drops, setDrops] = useState([]);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [score, setScore] = useState(0);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [missed, setMissed] = useState(0);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [phase, setPhase] =
useState(&quot;playing&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [petMood, setPetMood] =
useState(&quot;idle&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [combo, setCombo] = useState(0);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [popEffects, setPopEffects] =
useState([]);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [timeLeft, setTimeLeft] =
useState(30);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [level, setLevel] = useState(1); //
speed level 1-10 shown to player</span></p>

<p class=MsoNormal><span lang=EN-US>  const idRef = useRef(0);</span></p>

<p class=MsoNormal><span lang=EN-US>  const timerRef = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const spawnRef = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const elapsedRef = useRef(0);  // seconds
elapsed, used to compute speed</span></p>

<p class=MsoNormal><span lang=EN-US>  const phaseRef =
useRef(&quot;playing&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>  const missedRef = useRef(0);</span></p>

<p class=MsoNormal><span lang=EN-US>  const MAX_MISS = 5;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // Keep phaseRef in sync</span></p>

<p class=MsoNormal><span lang=EN-US>  useEffect(() =&gt; { phaseRef.current =
phase; }, [phase]);</span></p>

<p class=MsoNormal><span lang=EN-US>  useEffect(() =&gt; { missedRef.current =
missed; }, [missed]);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // Master tick: every second, advance
elapsed, update timer, recalculate speed level</span></p>

<p class=MsoNormal><span lang=EN-US>  useEffect(() =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    if (phase !== &quot;playing&quot;)
return;</span></p>

<p class=MsoNormal><span lang=EN-US>    timerRef.current = setInterval(() =&gt;
{</span></p>

<p class=MsoNormal><span lang=EN-US>      elapsedRef.current += 1;</span></p>

<p class=MsoNormal><span lang=EN-US>      const elapsed = elapsedRef.current;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Speed level 1&#8594;10 over 30
seconds</span></p>

<p class=MsoNormal><span lang=EN-US>      setLevel(Math.min(10,
Math.ceil(elapsed / 3)));</span></p>

<p class=MsoNormal><span lang=EN-US>      setTimeLeft(t =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>        if (t &lt;= 1) { phaseRef.current =
&quot;won&quot;; setPhase(&quot;won&quot;); return 0; }</span></p>

<p class=MsoNormal><span lang=EN-US>        return t - 1;</span></p>

<p class=MsoNormal><span lang=EN-US>      });</span></p>

<p class=MsoNormal><span lang=EN-US>    }, 1000);</span></p>

<p class=MsoNormal><span lang=EN-US>    return () =&gt;
clearInterval(timerRef.current);</span></p>

<p class=MsoNormal><span lang=EN-US>  }, [phase]);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // Spawner: restarts whenever level
changes so interval matches current speed</span></p>

<p class=MsoNormal><span lang=EN-US>  useEffect(() =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    if (phase !== &quot;playing&quot;)
return;</span></p>

<p class=MsoNormal><span lang=EN-US>    // spawnInterval: 1400ms at level1
&#8594; 380ms at level10</span></p>

<p class=MsoNormal><span lang=EN-US>    const spawnInterval = Math.round(1400 -
(level - 1) * 114);</span></p>

<p class=MsoNormal><span lang=EN-US>    // fallDuration: 2600ms at level1
&#8594; 700ms at level10</span></p>

<p class=MsoNormal><span lang=EN-US>    const fallDuration = Math.round(2600 -
(level - 1) * 211);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    clearInterval(spawnRef.current);</span></p>

<p class=MsoNormal><span lang=EN-US>    spawnRef.current = setInterval(() =&gt;
{</span></p>

<p class=MsoNormal><span lang=EN-US>      if (phaseRef.current !==
&quot;playing&quot;) return;</span></p>

<p class=MsoNormal><span lang=EN-US>      const types = level &lt;= 3</span></p>

<p class=MsoNormal><span lang=EN-US>        ? [&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127754;</span><span
lang=EN-US>&quot;]</span></p>

<p class=MsoNormal><span lang=EN-US>        : level &lt;= 6</span></p>

<p class=MsoNormal><span lang=EN-US>        ? [&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127754;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127754;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#11088;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&quot;]</span></p>

<p class=MsoNormal><span lang=EN-US>        : [&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127754;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127754;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#11088;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#11088;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128165;</span><span
lang=EN-US>&quot;];</span></p>

<p class=MsoNormal><span lang=EN-US>      const type =
types[Math.floor(Math.random() * types.length)];</span></p>

<p class=MsoNormal><span lang=EN-US>      idRef.current++;</span></p>

<p class=MsoNormal><span lang=EN-US>      const drop = {</span></p>

<p class=MsoNormal><span lang=EN-US>        id: idRef.current,</span></p>

<p class=MsoNormal><span lang=EN-US>        x: 5 + Math.random() * 82,</span></p>

<p class=MsoNormal><span lang=EN-US>        type,</span></p>

<p class=MsoNormal><span lang=EN-US>        size: type===&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128165;</span><span
lang=EN-US>&quot;?48:type===&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127754;</span><span
lang=EN-US>&quot;?44:type===&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#11088;</span><span
lang=EN-US>&quot;?38:30,</span></p>

<p class=MsoNormal><span lang=EN-US>        fallDuration,</span></p>

<p class=MsoNormal><span lang=EN-US>      };</span></p>

<p class=MsoNormal><span lang=EN-US>      setDrops(d =&gt; [...d, drop]);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      // Auto-miss after fall completes</span></p>

<p class=MsoNormal><span lang=EN-US>      setTimeout(() =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>        if (phaseRef.current !==
&quot;playing&quot;) return;</span></p>

<p class=MsoNormal><span lang=EN-US>        setDrops(d =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>          const still = d.find(x =&gt; x.id
=== drop.id);</span></p>

<p class=MsoNormal><span lang=EN-US>          if (still) {</span></p>

<p class=MsoNormal><span lang=EN-US>            missedRef.current += 1;</span></p>

<p class=MsoNormal><span lang=EN-US>            const nm = missedRef.current;</span></p>

<p class=MsoNormal><span lang=EN-US>            setMissed(nm);</span></p>

<p class=MsoNormal><span lang=EN-US>            setPetMood(&quot;sad&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>            setTimeout(() =&gt;
setPetMood(&quot;idle&quot;), 700);</span></p>

<p class=MsoNormal><span lang=EN-US>            if (nm &gt;= MAX_MISS) {
phaseRef.current = &quot;lost&quot;; setPhase(&quot;lost&quot;); }</span></p>

<p class=MsoNormal><span lang=EN-US>          }</span></p>

<p class=MsoNormal><span lang=EN-US>          return d.filter(x =&gt; x.id !==
drop.id);</span></p>

<p class=MsoNormal><span lang=EN-US>        });</span></p>

<p class=MsoNormal><span lang=EN-US>      }, fallDuration + 80);</span></p>

<p class=MsoNormal><span lang=EN-US>    }, spawnInterval);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    return () =&gt;
clearInterval(spawnRef.current);</span></p>

<p class=MsoNormal><span lang=EN-US>  }, [phase, level]);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const popDrop = (drop, e) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    e.stopPropagation();</span></p>

<p class=MsoNormal><span lang=EN-US>    if (phaseRef.current !==
&quot;playing&quot;) return;</span></p>

<p class=MsoNormal><span lang=EN-US>    setDrops(d =&gt; d.filter(x =&gt; x.id
!== drop.id));</span></p>

<p class=MsoNormal><span lang=EN-US>    // </span><span style='font-family:
"Segoe UI Emoji",sans-serif'>&#128165;</span><span lang=EN-US> bomb: miss
penalty</span></p>

<p class=MsoNormal><span lang=EN-US>    if (drop.type === &quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128165;</span><span
lang=EN-US>&quot;) {</span></p>

<p class=MsoNormal><span lang=EN-US>      missedRef.current += 1;</span></p>

<p class=MsoNormal><span lang=EN-US>      const nm = missedRef.current;</span></p>

<p class=MsoNormal><span lang=EN-US>      setMissed(nm);</span></p>

<p class=MsoNormal><span lang=EN-US>      setPetMood(&quot;sad&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>      if (nm &gt;= MAX_MISS) {
phaseRef.current = &quot;lost&quot;; setPhase(&quot;lost&quot;); }</span></p>

<p class=MsoNormal><span lang=EN-US>      return;</span></p>

<p class=MsoNormal><span lang=EN-US>    }</span></p>

<p class=MsoNormal><span lang=EN-US>    const pts = drop.type===&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127754;</span><span
lang=EN-US>&quot;?3:drop.type===&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#11088;</span><span
lang=EN-US>&quot;?5:drop.type===&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&quot;?2:1;</span></p>

<p class=MsoNormal><span lang=EN-US>    setScore(s =&gt; s + pts);</span></p>

<p class=MsoNormal><span lang=EN-US>    setCombo(c =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      const nc = c + 1;</span></p>

<p class=MsoNormal><span lang=EN-US>      setPetMood(nc &gt;= 5 ?
&quot;excited&quot; : &quot;happy&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>      setTimeout(() =&gt;
setPetMood(&quot;idle&quot;), 500);</span></p>

<p class=MsoNormal><span lang=EN-US>      return nc;</span></p>

<p class=MsoNormal><span lang=EN-US>    });</span></p>

<p class=MsoNormal><span lang=EN-US>    const fxId = Date.now() +
Math.random();</span></p>

<p class=MsoNormal><span lang=EN-US>    setPopEffects(fx =&gt; [...fx, { id:
fxId, x: drop.x, pts }]);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimeout(() =&gt; setPopEffects(fx
=&gt; fx.filter(f =&gt; f.id !== fxId)), 700);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const restart = () =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    elapsedRef.current = 0;</span></p>

<p class=MsoNormal><span lang=EN-US>    missedRef.current = 0;</span></p>

<p class=MsoNormal><span lang=EN-US>    phaseRef.current = &quot;playing&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>    setDrops([]); setScore(0);
setMissed(0); setCombo(0);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimeLeft(30); setLevel(1);
setPhase(&quot;playing&quot;); setPetMood(&quot;idle&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const petColors =
[&quot;#e65100&quot;,&quot;#88d858&quot;,&quot;#ff8f00&quot;,&quot;#00897b&quot;,&quot;#5e35b1&quot;];</span></p>

<p class=MsoNormal><span lang=EN-US>  const petColor = petColors[evoLevel] ||
&quot;#88d858&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>  const moodFace = { idle:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128528;</span><span
lang=EN-US>&quot;, happy:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128516;</span><span
lang=EN-US>&quot;, sad:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128546;</span><span
lang=EN-US>&quot;, excited:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129321;</span><span
lang=EN-US>&quot; };</span></p>

<p class=MsoNormal><span lang=EN-US>  const moodMsg  = {
idle:&quot;Esperando...&quot;, happy:&quot;¡Bien!&quot;, sad:&quot;¡Ay!&quot;,
excited:&quot;¡COMBO!&quot; };</span></p>

<p class=MsoNormal><span lang=EN-US>  const coins = Math.floor(score * 1.5);</span></p>

<p class=MsoNormal><span lang=EN-US>  const happiness = Math.min(25,
Math.floor(score / 2));</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // Speed bar color</span></p>

<p class=MsoNormal><span lang=EN-US>  const speedColor = level &lt;= 3 ?
&quot;#4caf50&quot; : level &lt;= 6 ? &quot;#ff9800&quot; : level &lt;= 8 ?
&quot;#f44336&quot; : &quot;#e040fb&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  return (</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div
style={{position:&quot;fixed&quot;,inset:0,background:&quot;rgba(0,10,30,0.92)&quot;,zIndex:1000,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div
style={{background:&quot;linear-gradient(180deg,#0a1628,#0d2a1e)&quot;,borderRadius:20,border:&quot;2px
solid #00e5ff&quot;,width:&quot;100%&quot;,maxWidth:400,margin:&quot;0
12px&quot;,overflow:&quot;hidden&quot;,display:&quot;flex&quot;,flexDirection:&quot;column&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* HUD */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{background:&quot;rgba(0,0,0,0.4)&quot;,padding:&quot;8px
14px&quot;,display:&quot;flex&quot;,justifyContent:&quot;space-between&quot;,alignItems:&quot;center&quot;,borderBottom:&quot;1px
solid rgba(0,229,255,0.2)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span
style={{color:&quot;#00e5ff&quot;,fontWeight:800,fontSize:&quot;0.9rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US> {score} pts&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span style={{color:
timeLeft&lt;=10?&quot;#f44336&quot;:&quot;#ffd700&quot;,fontWeight:800,fontFamily:&quot;monospace&quot;,fontSize:&quot;1rem&quot;}}&gt;</span><span
lang=EN-US style='font-family:"Segoe UI Symbol",sans-serif'>&#9201;</span><span
lang=EN-US> {timeLeft}s&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span
style={{color:&quot;#ff6b6b&quot;,fontWeight:800,fontSize:&quot;0.9rem&quot;}}&gt;{&quot;</span><span
lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#10084;&#65039;</span><span
lang=EN-US>&quot;.repeat(MAX_MISS-missed)}{&quot;</span><span style='font-family:
"Segoe UI Emoji",sans-serif'>&#128420;</span><span lang=EN-US>&quot;.repeat(missed)}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;button onClick={onClose}
style={{background:&quot;transparent&quot;,border:&quot;1px solid
#555&quot;,color:&quot;#aaa&quot;,borderRadius:6,padding:&quot;2px
8px&quot;,cursor:&quot;pointer&quot;,fontSize:&quot;0.75rem&quot;}}&gt;</span><span
lang=EN-US style='font-family:"Segoe UI Symbol",sans-serif'>&#10005;</span><span
lang=EN-US>&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Speed bar */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{background:&quot;rgba(0,0,0,0.3)&quot;,padding:&quot;4px 14px
6px&quot;,borderBottom:&quot;1px solid rgba(255,255,255,0.06)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{display:&quot;flex&quot;,justifyContent:&quot;space-between&quot;,alignItems:&quot;center&quot;,marginBottom:3}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;span
style={{color:speedColor,fontSize:&quot;0.7rem&quot;,fontWeight:700}}&gt;</span><span
lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#9889;</span><span
lang=EN-US> Velocidad Nv.{level}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            </span>&lt;span
style={{color:&quot;#666&quot;,fontSize:&quot;0.65rem&quot;}}&gt;{level&lt;10?&quot;acelera
con el tiempo&quot;:&quot;¡MÁXIMA!&quot;}&lt;/span&gt;</p>

<p class=MsoNormal>          <span lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{height:5,background:&quot;rgba(255,255,255,0.1)&quot;,borderRadius:50,overflow:&quot;hidden&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{height:&quot;100%&quot;,width:`${level*10}%`,background:`linear-gradient(90deg,#4caf50,${speedColor})`,borderRadius:50,transition:&quot;width
0.5s ease, background 0.5s ease&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Pet reaction */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{background:&quot;rgba(0,0,0,0.2)&quot;,padding:&quot;7px
14px&quot;,display:&quot;flex&quot;,alignItems:&quot;center&quot;,gap:10,borderBottom:&quot;1px
solid rgba(255,255,255,0.05)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{width:38,height:38,borderRadius:&quot;50%&quot;,background:`radial-gradient(circle
at 35% 35%,${petColor}bb,${petColor}44)`,border:`2px solid
${petColor}`,display:&quot;flex&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,fontSize:&quot;1.2rem&quot;,animation:petMood===&quot;excited&quot;?&quot;wiggle
0.3s infinite&quot;:&quot;none&quot;,flexShrink:0}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {moodFace[petMood]}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;p
style={{color:&quot;#fff&quot;,fontWeight:700,margin:0,fontSize:&quot;0.8rem&quot;}}&gt;{lizardName}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;p
style={{color:petMood===&quot;sad&quot;?&quot;#ff6b6b&quot;:petMood===&quot;excited&quot;?&quot;#ffd700&quot;:&quot;#a8e6cf&quot;,margin:0,fontSize:&quot;0.72rem&quot;}}&gt;{moodMsg[petMood]}
{combo&gt;=3?`</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128293;</span><span
lang=EN-US>×${combo}`:&quot;&quot;}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {level &gt;= 7 &amp;&amp; &lt;div
style={{marginLeft:&quot;auto&quot;,background:&quot;rgba(228,64,251,0.2)&quot;,borderRadius:8,padding:&quot;3px
8px&quot;,border:&quot;1px solid #e040fb&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;span
style={{color:&quot;#e040fb&quot;,fontSize:&quot;0.7rem&quot;,fontWeight:700}}&gt;¡FRENÉTICO!&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Game area */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{position:&quot;relative&quot;,height:300,overflow:&quot;hidden&quot;,background:&quot;linear-gradient(180deg,#051428
0%,#0a2a1a 100%)&quot;,cursor:&quot;default&quot;}}</span></p>

<p class=MsoNormal><span lang=EN-US>          onClick={() =&gt;
setCombo(0)}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,bottom:0,left:0,right:0,height:4,background:&quot;linear-gradient(90deg,transparent,#f44336,transparent)&quot;,opacity:0.7}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;p
style={{position:&quot;absolute&quot;,bottom:6,left:0,right:0,textAlign:&quot;center&quot;,color:&quot;rgba(244,67,54,0.45)&quot;,fontSize:&quot;0.62rem&quot;,margin:0}}&gt;¡No
dejes que caigan! {level&gt;=7&amp;&amp;&quot;</span><span lang=EN-US
style='font-family:"Segoe UI Emoji",sans-serif'>&#9889;&#9889;</span><span
lang=EN-US>&quot;}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Dynamic @keyframes per drop
using inline style tag */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;style&gt;{`@keyframes
dropFall{from{top:-8%}to{top:108%}}`}&lt;/style&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {drops.map(drop =&gt; (</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div key={drop.id}</span></p>

<p class=MsoNormal><span lang=EN-US>              onClick={e =&gt;
popDrop(drop, e)}</span></p>

<p class=MsoNormal><span lang=EN-US>              style={{</span></p>

<p class=MsoNormal><span lang=EN-US>               
position:&quot;absolute&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US>                left:`${drop.x}%`,</span></p>

<p class=MsoNormal><span lang=EN-US>                top:&quot;-8%&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US>                fontSize:`${drop.size}px`,</span></p>

<p class=MsoNormal><span lang=EN-US>                cursor: drop.type===&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128165;</span><span
lang=EN-US>&quot;?&quot;not-allowed&quot;:&quot;pointer&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US>               
userSelect:&quot;none&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US>               
animationName:&quot;dropFall&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US>               
animationDuration:`${drop.fallDuration}ms`,</span></p>

<p class=MsoNormal><span lang=EN-US>               
animationTimingFunction:&quot;linear&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US>               
animationFillMode:&quot;forwards&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US>                filter:</span></p>

<p class=MsoNormal><span lang=EN-US>                  drop.type===&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#11088;</span><span
lang=EN-US>&quot;?&quot;drop-shadow(0 0 8px gold)&quot;:</span></p>

<p class=MsoNormal><span lang=EN-US>                  drop.type===&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127754;</span><span
lang=EN-US>&quot;?&quot;drop-shadow(0 0 10px #00e5ff)&quot;:</span></p>

<p class=MsoNormal><span lang=EN-US>                  drop.type===&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128165;</span><span
lang=EN-US>&quot;?&quot;drop-shadow(0 0 12px #f44336)&quot;:&quot;none&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US>                zIndex:2,</span></p>

<p class=MsoNormal><span lang=EN-US>              }}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              {drop.type}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          ))}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {popEffects.map(fx =&gt; (</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div key={fx.id}
style={{position:&quot;absolute&quot;,left:`${fx.x}%`,top:&quot;30%&quot;,color:&quot;#ffd700&quot;,fontWeight:900,fontSize:&quot;1.2rem&quot;,animation:&quot;coinfly
0.7s ease forwards&quot;,pointerEvents:&quot;none&quot;,zIndex:3}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              +{fx.pts}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          ))}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {drops.length===0 &amp;&amp;
phase===&quot;playing&quot; &amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;p
style={{position:&quot;absolute&quot;,top:&quot;42%&quot;,left:0,right:0,textAlign:&quot;center&quot;,color:&quot;rgba(0,229,255,0.35)&quot;,fontSize:&quot;0.8rem&quot;}}&gt;¡Toca
las gotas! </span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          )}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Result overlay */}</span></p>

<p class=MsoNormal><span lang=EN-US>        {phase !== &quot;playing&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,inset:0,background:&quot;rgba(0,0,0,0.82)&quot;,display:&quot;flex&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,borderRadius:20,zIndex:10}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{textAlign:&quot;center&quot;,padding:28}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{fontSize:&quot;3.5rem&quot;}}&gt;{phase===&quot;won&quot;?&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127881;</span><span
lang=EN-US>&quot;:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128565;</span><span
lang=EN-US>&quot;}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;h3
style={{color:phase===&quot;won&quot;?&quot;#ffd700&quot;:&quot;#f44336&quot;,margin:&quot;8px
0 4px&quot;}}&gt;{phase===&quot;won&quot;?&quot;¡Tiempo!&quot;:&quot;¡Fallaste
demasiado!&quot;}&lt;/h3&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#a8e6cf&quot;,fontSize:&quot;0.85rem&quot;,margin:&quot;0 0
4px&quot;}}&gt;Puntos: {score} · Combo máx: {combo}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:speedColor,fontSize:&quot;0.78rem&quot;,margin:&quot;0 0
16px&quot;}}&gt;Velocidad alcanzada: Nv.{level}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              {phase===&quot;won&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{background:&quot;rgba(255,215,0,0.1)&quot;,border:&quot;1px solid
#ffd700&quot;,borderRadius:12,padding:&quot;12px
20px&quot;,marginBottom:16}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;p
style={{color:&quot;#ffd700&quot;,fontWeight:900,fontSize:&quot;1.2rem&quot;,margin:&quot;0
0 4px&quot;}}&gt;+{coins} </span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;p
style={{color:&quot;#a5d6a7&quot;,fontWeight:700,fontSize:&quot;1rem&quot;,margin:0}}&gt;+{happiness}
</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              )}</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{display:&quot;flex&quot;,gap:10,justifyContent:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;button
onClick={onClose} style={{padding:&quot;10px
18px&quot;,background:&quot;#333&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#fff&quot;,cursor:&quot;pointer&quot;}}&gt;Salir&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                {phase===&quot;won&quot;
&amp;&amp; &lt;button onClick={()=&gt;onFinish(coins,happiness)}
style={{padding:&quot;10px
22px&quot;,background:&quot;linear-gradient(90deg,#ffd700,#ffb300)&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#1a0800&quot;,fontWeight:900,cursor:&quot;pointer&quot;}}&gt;¡Cobrar!&lt;/button&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>                {phase===&quot;lost&quot;
&amp;&amp; &lt;button onClick={restart} style={{padding:&quot;10px
22px&quot;,background:&quot;linear-gradient(90deg,#f44336,#ff6b6b)&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#fff&quot;,fontWeight:900,cursor:&quot;pointer&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128260;</span><span
lang=EN-US> Reintentar&lt;/button&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        )}</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>  );</span></p>

<p class=MsoNormal><span lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>// &#9472;&#9472;&#9472; FEED GAME
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>// Drag-and-drop food items into the
lizard's mouth. She reacts to each food.</span></p>

<p class=MsoNormal><span lang=EN-US>function FeedGame({ evoLevel, lizardName,
owned, onFinish, onClose }) {</span></p>

<p class=MsoNormal><span lang=EN-US>  const [phase, setPhase] =
useState(&quot;playing&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [fed, setFed] = useState([]);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [mood, setMood] =
useState(&quot;neutral&quot;); // neutral|happy|love|disgust|full</span></p>

<p class=MsoNormal><span lang=EN-US>  const [mouthOpen, setMouthOpen] =
useState(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [particles, setParticles] =
useState([]);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [dragging, setDragging] =
useState(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [dragPos, setDragPos] =
useState({x:0,y:0});</span></p>

<p class=MsoNormal><span lang=EN-US>  const [feedbacks, setFeedbacks] =
useState([]);</span></p>

<p class=MsoNormal><span lang=EN-US>  const lizardRef = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const MAX_FOOD = 6;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // All possible foods mapped by shop item
id</span></p>

<p class=MsoNormal><span lang=EN-US>  const ALL_FOODS = [</span></p>

<p class=MsoNormal><span lang=EN-US>    {id:&quot;apple&quot;,    emoji:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127822;</span><span
lang=EN-US>&quot;,name:&quot;Manzana&quot;,   
pts:2,reaction:&quot;happy&quot;,  msg:&quot;¡Nam!&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>    {id:&quot;bug&quot;,      emoji:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129431;</span><span
lang=EN-US>&quot;,name:&quot;Insecto&quot;,   
pts:4,reaction:&quot;love&quot;,   msg:&quot;¡Favorito!&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>    {id:&quot;flower&quot;,   emoji:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127800;</span><span
lang=EN-US>&quot;,name:&quot;Flor&quot;,      
pts:2,reaction:&quot;happy&quot;,  msg:&quot;¡Rico!&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>    {id:&quot;watermelon&quot;,emoji:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127817;</span><span
lang=EN-US>&quot;,name:&quot;Sandía&quot;,   pts:3,reaction:&quot;happy&quot;, 
msg:&quot;¡Jugoso!&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>    {id:&quot;mushroom&quot;, emoji:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127812;</span><span
lang=EN-US>&quot;,name:&quot;Hongo&quot;,     
pts:3,reaction:&quot;love&quot;,   msg:&quot;¡Mágico!&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>    {id:&quot;honey&quot;,    emoji:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127855;</span><span
lang=EN-US>&quot;,name:&quot;Miel&quot;,      
pts:2,reaction:&quot;happy&quot;,  msg:&quot;¡Dulce!&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>    {id:&quot;dragonfly&quot;,emoji:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129714;</span><span
lang=EN-US>&quot;,name:&quot;Libélula&quot;, 
pts:5,reaction:&quot;love&quot;,   msg:&quot;¡Crujiente!&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>   
{id:&quot;cactus_fruit&quot;,emoji:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127797;</span><span
lang=EN-US>&quot;,name:&quot;Tuna&quot;,  
pts:1,reaction:&quot;disgust&quot;,msg:&quot;¡Ay, pinchos!&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>    {id:&quot;grapes&quot;,   emoji:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127815;</span><span
lang=EN-US>&quot;,name:&quot;Uvas&quot;,      
pts:2,reaction:&quot;happy&quot;,  msg:&quot;¡Dulce!&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>    {id:&quot;strawberry&quot;,emoji:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127827;</span><span
lang=EN-US>&quot;,name:&quot;Fresa&quot;,    pts:2,reaction:&quot;happy&quot;, 
msg:&quot;¡Fresquita!&quot;},</span></p>

<p class=MsoNormal><span lang=EN-US>  ];</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // Only show foods the user has bought</span></p>

<p class=MsoNormal><span lang=EN-US>  const ownedSet = new Set(owned || []);</span></p>

<p class=MsoNormal><span lang=EN-US>  const FOODS = ALL_FOODS.filter(f =&gt;
ownedSet.has(f.id));</span></p>

<p class=MsoNormal><span lang=EN-US>  const noFood = FOODS.length === 0;</span></p>

<p class=MsoNormal><span lang=EN-US>  const totalPts =
fed.reduce((a,f)=&gt;a+f.pts,0);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const onTouchStartFood = (food, e) =&gt;
{</span></p>

<p class=MsoNormal><span lang=EN-US>    e.preventDefault();</span></p>

<p class=MsoNormal><span lang=EN-US>    const t = e.touches[0];</span></p>

<p class=MsoNormal><span lang=EN-US>    setDragging(food);</span></p>

<p class=MsoNormal><span lang=EN-US>   
setDragPos({x:t.clientX-20,y:t.clientY-20});</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>  const onTouchMove = (e) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    if (!dragging) return;</span></p>

<p class=MsoNormal><span lang=EN-US>    e.preventDefault();</span></p>

<p class=MsoNormal><span lang=EN-US>    const t = e.touches[0];</span></p>

<p class=MsoNormal><span lang=EN-US>   
setDragPos({x:t.clientX-20,y:t.clientY-20});</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>  const onTouchEnd = (e) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    if (!dragging) return;</span></p>

<p class=MsoNormal><span lang=EN-US>    e.preventDefault();</span></p>

<p class=MsoNormal><span lang=EN-US>    const t = e.changedTouches[0];</span></p>

<p class=MsoNormal><span lang=EN-US>    const lizEl = lizardRef.current;</span></p>

<p class=MsoNormal><span lang=EN-US>    if (lizEl) {</span></p>

<p class=MsoNormal><span lang=EN-US>      const r =
lizEl.getBoundingClientRect();</span></p>

<p class=MsoNormal><span lang=EN-US>      if (t.clientX&gt;r.left &amp;&amp;
t.clientX&lt;r.right &amp;&amp; t.clientY&gt;r.top &amp;&amp;
t.clientY&lt;r.bottom) {</span></p>

<p class=MsoNormal><span lang=EN-US>        feedLizard(dragging);</span></p>

<p class=MsoNormal><span lang=EN-US>      }</span></p>

<p class=MsoNormal><span lang=EN-US>    }</span></p>

<p class=MsoNormal><span lang=EN-US>    setDragging(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const feedLizard = (food) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    if (fed.length &gt;= MAX_FOOD || phase
!== &quot;playing&quot;) return;</span></p>

<p class=MsoNormal><span lang=EN-US>    setFed(f =&gt; [...f, food]);</span></p>

<p class=MsoNormal><span lang=EN-US>    setMouth(food);</span></p>

<p class=MsoNormal><span lang=EN-US>    const fbId = Date.now();</span></p>

<p class=MsoNormal><span lang=EN-US>    setFeedbacks(fx =&gt; [...fx, {id:fbId,
msg:food.msg, reaction:food.reaction}]);</span></p>

<p class=MsoNormal><span lang=EN-US>   
setTimeout(()=&gt;setFeedbacks(fx=&gt;fx.filter(f=&gt;f.id!==fbId)),1200);</span></p>

<p class=MsoNormal><span lang=EN-US>    // burst particles</span></p>

<p class=MsoNormal><span lang=EN-US>   
setParticles(p=&gt;[...p,...Array.from({length:8},(_,i)=&gt;({id:Date.now()+i,angle:(i/8)*360,color:food.reaction===&quot;love&quot;?&quot;#ff4081&quot;:food.reaction===&quot;disgust&quot;?&quot;#8d6e63&quot;:&quot;#ffd700&quot;}))]);</span></p>

<p class=MsoNormal><span lang=EN-US>   
setTimeout(()=&gt;setParticles([]),800);</span></p>

<p class=MsoNormal><span lang=EN-US>    if (fed.length+1 &gt;= MAX_FOOD)
setTimeout(()=&gt;setPhase(&quot;done&quot;),500);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const setMouth = (food) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    setMouthOpen(true);</span></p>

<p class=MsoNormal><span lang=EN-US>    setMood(food.reaction);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimeout(()=&gt;{
setMouthOpen(false); setMood(&quot;neutral&quot;); },900);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const moodEmoji = {neutral:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128528;</span><span
lang=EN-US>&quot;,happy:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128523;</span><span
lang=EN-US>&quot;,love:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129392;</span><span
lang=EN-US>&quot;,disgust:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129314;</span><span
lang=EN-US>&quot;,full:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129316;</span><span
lang=EN-US>&quot;};</span></p>

<p class=MsoNormal><span lang=EN-US>  const moodColor =
{neutral:&quot;#aaa&quot;,happy:&quot;#4caf50&quot;,love:&quot;#e91e63&quot;,disgust:&quot;#795548&quot;,full:&quot;#ff9800&quot;};</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const coins = Math.floor(totalPts * 2);</span></p>

<p class=MsoNormal><span lang=EN-US>  const happiness = Math.min(20, totalPts *
2);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  return (</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div
style={{position:&quot;fixed&quot;,inset:0,background:&quot;rgba(0,10,30,0.92)&quot;,zIndex:1000,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;}}</span></p>

<p class=MsoNormal><span lang=EN-US>      onTouchMove={onTouchMove}
onTouchEnd={onTouchEnd}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div
style={{background:&quot;linear-gradient(180deg,#0a1628,#1a0a2e)&quot;,borderRadius:20,border:&quot;2px
solid #e91e63&quot;,width:&quot;100%&quot;,maxWidth:400,margin:&quot;0
12px&quot;,overflow:&quot;hidden&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Header */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{background:&quot;rgba(0,0,0,0.4)&quot;,padding:&quot;10px
16px&quot;,display:&quot;flex&quot;,justifyContent:&quot;space-between&quot;,alignItems:&quot;center&quot;,borderBottom:&quot;1px
solid rgba(233,30,99,0.3)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span
style={{color:&quot;#e91e63&quot;,fontWeight:800,fontSize:&quot;0.95rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127869;&#65039;</span><span
lang=EN-US> ¡A comer!&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span
style={{color:&quot;#ffd700&quot;,fontWeight:800}}&gt;{fed.length}/{MAX_FOOD}
comidas&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;button onClick={onClose}
style={{background:&quot;transparent&quot;,border:&quot;1px solid
#555&quot;,color:&quot;#aaa&quot;,borderRadius:6,padding:&quot;2px
8px&quot;,cursor:&quot;pointer&quot;,fontSize:&quot;0.75rem&quot;}}&gt;</span><span
lang=EN-US style='font-family:"Segoe UI Symbol",sans-serif'>&#10005;</span><span
lang=EN-US>&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Lizard display */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div ref={lizardRef}
style={{background:&quot;linear-gradient(180deg,#1a0a2e,#0a1a10)&quot;,minHeight:180,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,position:&quot;relative&quot;,padding:&quot;12px
0&quot;,borderBottom:&quot;1px solid rgba(255,255,255,0.06)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Particles */}</span></p>

<p class=MsoNormal><span lang=EN-US>          {particles.map(p=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div key={p.id}
style={{position:&quot;absolute&quot;,top:&quot;50%&quot;,left:&quot;50%&quot;,width:8,height:8,borderRadius:&quot;50%&quot;,background:p.color,transform:`rotate(${p.angle}deg)
translateX(40px)`,animation:&quot;coinfly 0.8s ease
forwards&quot;,pointerEvents:&quot;none&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          ))}</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Fed food trail */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,top:8,left:0,right:0,display:&quot;flex&quot;,justifyContent:&quot;center&quot;,gap:4,flexWrap:&quot;wrap&quot;,padding:&quot;0
12px&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {fed.map((f,i)=&gt;&lt;span
key={i} style={{fontSize:&quot;1.2rem&quot;,animation:&quot;pop 0.3s
ease&quot;}}&gt;{f.emoji}&lt;/span&gt;)}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Feedback bubbles */}</span></p>

<p class=MsoNormal><span lang=EN-US>          {feedbacks.map(fb=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div key={fb.id}
style={{position:&quot;absolute&quot;,top:16,right:20,background:
fb.reaction===&quot;love&quot;?&quot;rgba(233,30,99,0.85)&quot;:fb.reaction===&quot;disgust&quot;?&quot;rgba(121,85,72,0.85)&quot;:&quot;rgba(76,175,80,0.85)&quot;,borderRadius:20,padding:&quot;6px
14px&quot;,color:&quot;#fff&quot;,fontWeight:900,fontSize:&quot;0.9rem&quot;,animation:&quot;pop
0.3s ease&quot;,zIndex:5}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              {fb.msg}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          ))}</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Pet SVG inline scaled */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{transform:&quot;scale(0.85)&quot;,transformOrigin:&quot;center&quot;,marginTop:fed.length&gt;0?20:0,animation:mouthOpen?&quot;wiggle
0.3s ease&quot;:&quot;none&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;PetSprite level={evoLevel}
anim={mouthOpen}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Mood bubble */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{background:&quot;rgba(0,0,0,0.5)&quot;,borderRadius:20,padding:&quot;5px
14px&quot;,marginTop:4,display:&quot;flex&quot;,gap:6,alignItems:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;span
style={{fontSize:&quot;1.2rem&quot;}}&gt;{moodEmoji[mood]}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;span
style={{color:moodColor[mood],fontWeight:700,fontSize:&quot;0.8rem&quot;}}&gt;{lizardName}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {mouthOpen &amp;&amp; &lt;span
style={{color:&quot;#ffd700&quot;,fontWeight:800,fontSize:&quot;0.75rem&quot;,animation:&quot;pop
0.2s ease&quot;}}&gt;NOM NOM&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Drop zone hint */}</span></p>

<p class=MsoNormal><span lang=EN-US>          {!mouthOpen &amp;&amp; fed.length
&lt; MAX_FOOD &amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;p
style={{color:&quot;rgba(255,255,255,0.3)&quot;,fontSize:&quot;0.7rem&quot;,margin:&quot;4px
0 0&quot;,textAlign:&quot;center&quot;}}&gt;Arrastra comida aquí </span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128070;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          )}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Food grid */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div style={{padding:&quot;14px
12px&quot;,background:&quot;rgba(0,0,0,0.2)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {noFood ? (</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{textAlign:&quot;center&quot;,padding:&quot;20px 12px&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{fontSize:&quot;2.5rem&quot;,marginBottom:8}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128722;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#ff9800&quot;,fontWeight:700,margin:&quot;0 0
4px&quot;,fontSize:&quot;0.9rem&quot;}}&gt;¡Sin comida disponible!&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              </span>&lt;p
style={{color:&quot;#7ec8e3&quot;,fontSize:&quot;0.75rem&quot;,margin:0}}&gt;Compra
alimentos en la <span style='font-family:"Segoe UI Emoji",sans-serif'>&#127978;</span>
Tienda para poder alimentar a {lizardName}.&lt;/p&gt;</p>

<p class=MsoNormal>            &lt;/div&gt;</p>

<p class=MsoNormal>          ) : (</p>

<p class=MsoNormal>            &lt;&gt;</p>

<p class=MsoNormal>              &lt;p
style={{color:&quot;#a8e6cf&quot;,fontSize:&quot;0.75rem&quot;,margin:&quot;0 0
10px&quot;,textAlign:&quot;center&quot;}}&gt;Toca o arrastra hacia
{lizardName}&lt;/p&gt;</p>

<p class=MsoNormal>              <span lang=EN-US>&lt;div
style={{display:&quot;grid&quot;,gridTemplateColumns:&quot;repeat(3,1fr)&quot;,gap:8}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                {FOODS.map(food=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;div key={food.id}</span></p>

<p class=MsoNormal><span lang=EN-US>                   
onTouchStart={e=&gt;onTouchStartFood(food,e)}</span></p>

<p class=MsoNormal><span lang=EN-US>                   
onClick={()=&gt;feedLizard(food)}</span></p>

<p class=MsoNormal><span lang=EN-US>                   
style={{background:&quot;rgba(255,255,255,0.06)&quot;,borderRadius:12,padding:&quot;10px
4px&quot;,textAlign:&quot;center&quot;,border:&quot;1px solid
rgba(255,255,255,0.1)&quot;,cursor:&quot;pointer&quot;,userSelect:&quot;none&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;div
style={{fontSize:&quot;1.8rem&quot;}}&gt;{food.emoji}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;div
style={{color:&quot;#fff&quot;,fontSize:&quot;0.65rem&quot;,marginTop:2}}&gt;{food.name}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;div
style={{color:&quot;#ffd700&quot;,fontSize:&quot;0.6rem&quot;}}&gt;+{food.pts}pt&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                ))}</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          )}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Done overlay */}</span></p>

<p class=MsoNormal><span lang=EN-US>        {phase===&quot;done&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,inset:0,background:&quot;rgba(0,0,0,0.8)&quot;,display:&quot;flex&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,borderRadius:20,zIndex:10}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{textAlign:&quot;center&quot;,padding:28}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{fontSize:&quot;3rem&quot;}}&gt;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127869;&#65039;&#129392;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              </span>&lt;h3
style={{color:&quot;#e91e63&quot;,margin:&quot;8px 0
4px&quot;}}&gt;¡{lizardName} está satisfecha!&lt;/h3&gt;</p>

<p class=MsoNormal>              <span lang=EN-US>&lt;div
style={{background:&quot;rgba(233,30,99,0.1)&quot;,border:&quot;1px solid
#e91e63&quot;,borderRadius:12,padding:&quot;12px
20px&quot;,marginBottom:16,marginTop:10}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;p
style={{color:&quot;#ffd700&quot;,fontWeight:900,fontSize:&quot;1.2rem&quot;,margin:&quot;0
0 4px&quot;}}&gt;+{coins} </span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;p
style={{color:&quot;#a5d6a7&quot;,fontWeight:700,fontSize:&quot;1rem&quot;,margin:0}}&gt;+{happiness}
</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{display:&quot;flex&quot;,gap:10,justifyContent:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;button
onClick={onClose} style={{padding:&quot;10px
18px&quot;,background:&quot;#333&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#fff&quot;,cursor:&quot;pointer&quot;}}&gt;Salir&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;button
onClick={()=&gt;onFinish(coins,happiness)} style={{padding:&quot;10px
22px&quot;,background:&quot;linear-gradient(90deg,#e91e63,#ff4081)&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#fff&quot;,fontWeight:900,cursor:&quot;pointer&quot;}}&gt;¡Cobrar!&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        )}</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* Drag ghost */}</span></p>

<p class=MsoNormal><span lang=EN-US>      {dragging &amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{position:&quot;fixed&quot;,left:dragPos.x,top:dragPos.y,fontSize:&quot;2.2rem&quot;,pointerEvents:&quot;none&quot;,zIndex:9999,filter:&quot;drop-shadow(0
4px 8px rgba(0,0,0,0.5))&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {dragging.emoji}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      )}</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>  );</span></p>

<p class=MsoNormal><span lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>// &#9472;&#9472;&#9472; BATH GAME
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>// Scrub-wash your lizard with soap
bubbles. Dirt meter goes down, happiness up.</span></p>

<p class=MsoNormal><span lang=EN-US>function BathGame({ evoLevel, lizardName,
onFinish, onClose }) {</span></p>

<p class=MsoNormal><span lang=EN-US>  const [dirt, setDirt] = useState(100);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [phase, setPhase] =
useState(&quot;playing&quot;); // playing | done</span></p>

<p class=MsoNormal><span lang=EN-US>  const [bubbles, setBubbles] =
useState([]);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [mood, setMood] =
useState(&quot;dirty&quot;); // dirty|ticklish|happy|clean</span></p>

<p class=MsoNormal><span lang=EN-US>  const [scrubbing, setScrubbing] =
useState(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [sparkles, setSparkles] =
useState([]);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [scrubPos, setScrubPos] =
useState({x:50,y:50});</span></p>

<p class=MsoNormal><span lang=EN-US>  const [totalScrubs, setTotalScrubs] =
useState(0);</span></p>

<p class=MsoNormal><span lang=EN-US>  const containerRef = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const scrubInterval = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const petColors =
[&quot;#e65100&quot;,&quot;#88d858&quot;,&quot;#ff8f00&quot;,&quot;#00897b&quot;,&quot;#5e35b1&quot;];</span></p>

<p class=MsoNormal><span lang=EN-US>  const petColor = petColors[evoLevel] ||
&quot;#88d858&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const startScrub = (clientX, clientY)
=&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    setScrubbing(true);</span></p>

<p class=MsoNormal><span lang=EN-US>    const rect =
containerRef.current?.getBoundingClientRect();</span></p>

<p class=MsoNormal><span lang=EN-US>    if (!rect) return;</span></p>

<p class=MsoNormal><span lang=EN-US>    const x = ((clientX - rect.left) /
rect.width) * 100;</span></p>

<p class=MsoNormal><span lang=EN-US>    const y = ((clientY - rect.top) /
rect.height) * 100;</span></p>

<p class=MsoNormal><span lang=EN-US>    setScrubPos({x,y});</span></p>

<p class=MsoNormal><span lang=EN-US>    // spawn bubbles</span></p>

<p class=MsoNormal><span lang=EN-US>   
setBubbles(b=&gt;[...b,...Array.from({length:5},(_,i)=&gt;({</span></p>

<p class=MsoNormal><span lang=EN-US>      id:Date.now()+i,</span></p>

<p class=MsoNormal><span lang=EN-US>      x: x + (Math.random()-0.5)*20,</span></p>

<p class=MsoNormal><span lang=EN-US>      </span>y: y + (Math.random()-0.5)*20,</p>

<p class=MsoNormal>    }))]);</p>

<p class=MsoNormal>    // Clean dirt</p>

<p class=MsoNormal>    <span lang=EN-US>setDirt(d =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      const nd = Math.max(0, d - 4);</span></p>

<p class=MsoNormal><span lang=EN-US>      if (nd &lt;= 0) {
setPhase(&quot;done&quot;); setMood(&quot;clean&quot;); }</span></p>

<p class=MsoNormal><span lang=EN-US>      else if (nd &lt; 30)
setMood(&quot;happy&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>      else setMood(&quot;ticklish&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>      return nd;</span></p>

<p class=MsoNormal><span lang=EN-US>    });</span></p>

<p class=MsoNormal><span lang=EN-US>    setTotalScrubs(s =&gt; s+1);</span></p>

<p class=MsoNormal><span lang=EN-US>    // sparkle at position</span></p>

<p class=MsoNormal><span lang=EN-US>   
setSparkles(sp=&gt;[...sp,{id:Date.now(),x,y}]);</span></p>

<p class=MsoNormal><span lang=EN-US>   
setTimeout(()=&gt;setSparkles(sp=&gt;sp.slice(-6)),400);</span></p>

<p class=MsoNormal><span lang=EN-US>   
setTimeout(()=&gt;setBubbles(b=&gt;b.slice(-25)),600);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const onMouseMove = (e) =&gt; { if
(scrubbing) startScrub(e.clientX, e.clientY); };</span></p>

<p class=MsoNormal><span lang=EN-US>  const onTouchMove = (e) =&gt; {
e.preventDefault(); startScrub(e.touches[0].clientX, e.touches[0].clientY); };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const dirtColor =
`rgba(101,67,33,${dirt/120})`;</span></p>

<p class=MsoNormal><span lang=EN-US>  const moodMsg = {dirty:&quot;¡Estoy
sucia! </span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129314;</span><span
lang=EN-US>&quot;,ticklish:&quot;¡Je je, cosquillas! </span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128516;</span><span
lang=EN-US>&quot;,happy:&quot;¡Casi lista! </span><span style='font-family:
"Segoe UI Emoji",sans-serif'>&#128522;</span><span lang=EN-US>&quot;,clean:&quot;</span><span
lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#10024;</span><span
lang=EN-US> </span><span lang=EN-US>¡</span><span lang=EN-US>Radiante! </span><span
lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#10024;</span><span
lang=EN-US>&quot;};</span></p>

<p class=MsoNormal><span lang=EN-US>  const moodFace = {dirty:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128553;</span><span
lang=EN-US>&quot;,ticklish:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128518;</span><span
lang=EN-US>&quot;,happy:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span><span
lang=EN-US>&quot;,clean:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129321;</span><span
lang=EN-US>&quot;};</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const coins = Math.max(0,
Math.floor((100-dirt)/100 * 20));</span></p>

<p class=MsoNormal><span lang=EN-US>  const happiness = Math.max(0,
Math.floor((100-dirt)/100 * 18));</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  return (</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div
style={{position:&quot;fixed&quot;,inset:0,background:&quot;rgba(0,10,40,0.92)&quot;,zIndex:1000,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div
style={{background:&quot;linear-gradient(180deg,#0a1a30,#001a2e)&quot;,borderRadius:20,border:&quot;2px
solid #29b6f6&quot;,width:&quot;100%&quot;,maxWidth:400,margin:&quot;0
12px&quot;,overflow:&quot;hidden&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Header */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{background:&quot;rgba(0,0,0,0.4)&quot;,padding:&quot;10px
16px&quot;,display:&quot;flex&quot;,justifyContent:&quot;space-between&quot;,alignItems:&quot;center&quot;,borderBottom:&quot;1px
solid rgba(41,182,246,0.3)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span
style={{color:&quot;#29b6f6&quot;,fontWeight:800,fontSize:&quot;0.95rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128705;</span><span
lang=EN-US> ¡Hora del baño!&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span
style={{color:&quot;#fff&quot;,fontSize:&quot;0.8rem&quot;}}&gt;Limpieza:
&lt;strong style={{color:
dirt&lt;30?&quot;#4caf50&quot;:dirt&lt;60?&quot;#ffb300&quot;:&quot;#f44336&quot;}}&gt;{Math.round(100-dirt)}%&lt;/strong&gt;&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;button onClick={onClose}
style={{background:&quot;transparent&quot;,border:&quot;1px solid
#555&quot;,color:&quot;#aaa&quot;,borderRadius:6,padding:&quot;2px
8px&quot;,cursor:&quot;pointer&quot;,fontSize:&quot;0.75rem&quot;}}&gt;</span><span
lang=EN-US style='font-family:"Segoe UI Symbol",sans-serif'>&#10005;</span><span
lang=EN-US>&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Dirt bar */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{height:6,background:&quot;rgba(0,0,0,0.4)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{height:&quot;100%&quot;,width:`${100-dirt}%`,background:&quot;linear-gradient(90deg,#29b6f6,#00e5ff)&quot;,transition:&quot;width
0.2s ease&quot;,borderRadius:&quot;0 4px 4px 0&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Bath area */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div ref={containerRef}</span></p>

<p class=MsoNormal><span lang=EN-US>         
style={{position:&quot;relative&quot;,height:300,background:`radial-gradient(ellipse
at 50% 80%, #0d47a1 0%, #01579b 40%, #002171
100%)`,overflow:&quot;hidden&quot;,cursor:&quot;crosshair&quot;,userSelect:&quot;none&quot;}}</span></p>

<p class=MsoNormal><span lang=EN-US>         
onMouseDown={e=&gt;startScrub(e.clientX,e.clientY)}</span></p>

<p class=MsoNormal><span lang=EN-US>          onMouseMove={onMouseMove}</span></p>

<p class=MsoNormal><span lang=EN-US>         
onMouseUp={()=&gt;setScrubbing(false)}</span></p>

<p class=MsoNormal><span lang=EN-US>         
onTouchStart={e=&gt;{e.preventDefault();startScrub(e.touches[0].clientX,e.touches[0].clientY);}}</span></p>

<p class=MsoNormal><span lang=EN-US>          onTouchMove={onTouchMove}</span></p>

<p class=MsoNormal><span lang=EN-US>         
onTouchEnd={()=&gt;setScrubbing(false)}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Water ripples */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,bottom:0,left:0,right:0,height:60,background:&quot;rgba(41,182,246,0.2)&quot;,borderRadius:&quot;60%
60% 0 0&quot;,animation:&quot;float 2s ease-in-out infinite&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,bottom:0,left:&quot;10%&quot;,right:&quot;10%&quot;,height:40,background:&quot;rgba(0,229,255,0.15)&quot;,borderRadius:&quot;60%
60% 0 0&quot;,animation:&quot;float 2.4s ease-in-out infinite reverse&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Dirt overlay */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,inset:0,background:dirtColor,pointerEvents:&quot;none&quot;,transition:&quot;background
0.3s&quot;,borderRadius:&quot;inherit&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Pet */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,top:&quot;50%&quot;,left:&quot;50%&quot;,transform:&quot;translate(-50%,-55%)&quot;,pointerEvents:&quot;none&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{transform:&quot;scale(0.8)&quot;,transformOrigin:&quot;center&quot;,filter:`sepia(${dirt/200})
saturate(${1-dirt/200})`}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;PetSprite
level={evoLevel} anim={scrubbing}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Bubbles */}</span></p>

<p class=MsoNormal><span lang=EN-US>          {bubbles.map(b=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div key={b.id}
style={{position:&quot;absolute&quot;,left:`${b.x}%`,top:`${b.y}%`,width:14+Math.random()*16,height:14+Math.random()*16,borderRadius:&quot;50%&quot;,border:&quot;2px
solid rgba(255,255,255,0.7)&quot;,background:&quot;rgba(255,255,255,0.15)&quot;,animation:&quot;coinfly
0.8s ease forwards&quot;,pointerEvents:&quot;none&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          ))}</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Sparkles */}</span></p>

<p class=MsoNormal><span lang=EN-US>          {sparkles.map(s=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div key={s.id}
style={{position:&quot;absolute&quot;,left:`${s.x}%`,top:`${s.y}%`,fontSize:&quot;1rem&quot;,animation:&quot;pop
0.4s ease forwards&quot;,pointerEvents:&quot;none&quot;}}&gt;</span><span
lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#10024;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          ))}</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Scrub sponge visual */}</span></p>

<p class=MsoNormal><span lang=EN-US>          {scrubbing &amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{position:&quot;absolute&quot;,left:`${scrubPos.x}%`,top:`${scrubPos.y}%`,transform:&quot;translate(-50%,-50%)&quot;,fontSize:&quot;1.8rem&quot;,pointerEvents:&quot;none&quot;,animation:&quot;wiggle
0.2s infinite&quot;}}&gt;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129533;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          )}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Mood bubble */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,bottom:16,left:0,right:0,textAlign:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{display:&quot;inline-block&quot;,background:&quot;rgba(0,0,0,0.6)&quot;,borderRadius:20,padding:&quot;6px
16px&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;span
style={{fontSize:&quot;1.1rem&quot;}}&gt;{moodFace[mood]} &lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;span
style={{color:&quot;#e3f2fd&quot;,fontWeight:700,fontSize:&quot;0.8rem&quot;}}&gt;{moodMsg[mood]}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{background:&quot;rgba(0,0,0,0.3)&quot;,padding:&quot;10px
16px&quot;,borderTop:&quot;1px solid rgba(41,182,246,0.2)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;p
style={{color:&quot;#7ec8e3&quot;,fontSize:&quot;0.75rem&quot;,margin:0,textAlign:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            </span>{dirt&gt;0?&quot;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129533;</span> Frota a
&quot;+lizardName+&quot; para limpiarla&quot;:&quot;<span style='font-family:
"Segoe UI Emoji",sans-serif'>&#127775;</span> ¡&quot;+lizardName+&quot; está
reluciente!&quot;}</p>

<p class=MsoNormal>          <span lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Done overlay */}</span></p>

<p class=MsoNormal><span lang=EN-US>        {phase===&quot;done&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,inset:0,background:&quot;rgba(0,0,0,0.82)&quot;,display:&quot;flex&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,borderRadius:20,zIndex:10}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{textAlign:&quot;center&quot;,padding:28}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{fontSize:&quot;3rem&quot;,animation:&quot;wiggle 0.6s
infinite&quot;}}&gt;</span><span lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#10024;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129422;</span><span
lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#10024;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;h3
style={{color:&quot;#29b6f6&quot;,margin:&quot;8px 0
4px&quot;}}&gt;¡{lizardName} está impecable!&lt;/h3&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{background:&quot;rgba(41,182,246,0.1)&quot;,border:&quot;1px solid
#29b6f6&quot;,borderRadius:12,padding:&quot;12px
20px&quot;,marginBottom:16,marginTop:10}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;p
style={{color:&quot;#ffd700&quot;,fontWeight:900,fontSize:&quot;1.2rem&quot;,margin:&quot;0
0 4px&quot;}}&gt;+{coins} </span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;p
style={{color:&quot;#a5d6a7&quot;,fontWeight:700,fontSize:&quot;1rem&quot;,margin:0}}&gt;+{happiness}
</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{display:&quot;flex&quot;,gap:10,justifyContent:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;button
onClick={onClose} style={{padding:&quot;10px
18px&quot;,background:&quot;#333&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#fff&quot;,cursor:&quot;pointer&quot;}}&gt;Salir&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;button
onClick={()=&gt;onFinish(coins,happiness)} style={{padding:&quot;10px
22px&quot;,background:&quot;linear-gradient(90deg,#29b6f6,#00e5ff)&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#0a1628&quot;,fontWeight:900,cursor:&quot;pointer&quot;}}&gt;¡Cobrar!&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        )}</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>  );</span></p>

<p class=MsoNormal><span lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>// &#9472;&#9472;&#9472; CUDDLE GAME
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>// Tap/pet your lizard as fast as possible
in 15 seconds. Pure affection mini-game.</span></p>

<p class=MsoNormal><span lang=EN-US>function CuddleGame({ evoLevel, lizardName,
onFinish, onClose }) {</span></p>

<p class=MsoNormal><span lang=EN-US>  const [pats, setPats] = useState(0);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [timeLeft, setTimeLeft] =
useState(15);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [phase, setPhase] =
useState(&quot;ready&quot;); // ready|playing|done</span></p>

<p class=MsoNormal><span lang=EN-US>  const [hearts, setHearts] = useState([]);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [shake, setShake] =
useState(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [mood, setMood] =
useState(&quot;sleepy&quot;); // sleepy|happy|loved|ecstatic</span></p>

<p class=MsoNormal><span lang=EN-US>  const timerRef = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const heartId = useRef(0);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const petColors =
[&quot;#e65100&quot;,&quot;#88d858&quot;,&quot;#ff8f00&quot;,&quot;#00897b&quot;,&quot;#5e35b1&quot;];</span></p>

<p class=MsoNormal><span lang=EN-US>  const petColor = petColors[evoLevel] ||
&quot;#88d858&quot;;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  useEffect(() =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    if (phase !== &quot;playing&quot;)
return;</span></p>

<p class=MsoNormal><span lang=EN-US>    timerRef.current = setInterval(() =&gt;
{</span></p>

<p class=MsoNormal><span lang=EN-US>      setTimeLeft(t =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>        if (t &lt;= 1) {
clearInterval(timerRef.current); setPhase(&quot;done&quot;); return 0; }</span></p>

<p class=MsoNormal><span lang=EN-US>        return t - 1;</span></p>

<p class=MsoNormal><span lang=EN-US>      });</span></p>

<p class=MsoNormal><span lang=EN-US>    }, 1000);</span></p>

<p class=MsoNormal><span lang=EN-US>    return () =&gt;
clearInterval(timerRef.current);</span></p>

<p class=MsoNormal><span lang=EN-US>  }, [phase]);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const pat = () =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    if (phase === &quot;ready&quot;)
setPhase(&quot;playing&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>    if (phase !== &quot;playing&quot;)
return;</span></p>

<p class=MsoNormal><span lang=EN-US>    setPats(p =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      const np = p + 1;</span></p>

<p class=MsoNormal><span lang=EN-US>      setMood(np &lt; 5 ? &quot;happy&quot;
: np &lt; 15 ? &quot;loved&quot; : &quot;ecstatic&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>      return np;</span></p>

<p class=MsoNormal><span lang=EN-US>    });</span></p>

<p class=MsoNormal><span lang=EN-US>    setShake(true);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimeout(() =&gt; setShake(false),
200);</span></p>

<p class=MsoNormal><span lang=EN-US>    heartId.current++;</span></p>

<p class=MsoNormal><span lang=EN-US>    const id = heartId.current;</span></p>

<p class=MsoNormal><span lang=EN-US>    const hx = 30 + Math.random() * 40;</span></p>

<p class=MsoNormal><span lang=EN-US>    setHearts(h =&gt; [...h, {id, x:hx,
emoji: pats%7===0?&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128150;</span><span
lang=EN-US>&quot;:pats%4===0?&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128149;</span><span
lang=EN-US>&quot;:&quot;</span><span lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#10084;&#65039;</span><span
lang=EN-US>&quot;}]);</span></p>

<p class=MsoNormal><span lang=EN-US>   
setTimeout(()=&gt;setHearts(h=&gt;h.filter(x=&gt;x.id!==id)), 1000);</span></p>

<p class=MsoNormal><span lang=EN-US>  </span>};</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>  const moodMsg = {sleepy:&quot;Zzz... toca para
despertar&quot;,happy:&quot;¡Ay qué rico!&quot;,loved:&quot;¡Me
encanta!&quot;,ecstatic:&quot;¡¡AAAAAH SÍ!!&quot;};</p>

<p class=MsoNormal>  <span lang=EN-US>const moodEmoji = {sleepy:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128564;</span><span
lang=EN-US>&quot;,happy:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span><span
lang=EN-US>&quot;,loved:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129392;</span><span
lang=EN-US>&quot;,ecstatic:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129321;</span><span
lang=EN-US>&quot;};</span></p>

<p class=MsoNormal><span lang=EN-US>  const target = 30;</span></p>

<p class=MsoNormal><span lang=EN-US>  const pct = Math.min(100,
Math.round(pats/target*100));</span></p>

<p class=MsoNormal><span lang=EN-US>  const coins = Math.min(25,
Math.floor(pats * 0.8));</span></p>

<p class=MsoNormal><span lang=EN-US>  const happiness = Math.min(20,
Math.floor(pats * 0.6));</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  return (</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div
style={{position:&quot;fixed&quot;,inset:0,background:&quot;rgba(10,0,30,0.92)&quot;,zIndex:1000,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div
style={{background:&quot;linear-gradient(180deg,#1a0a30,#0a1020)&quot;,borderRadius:20,border:&quot;2px
solid #e91e63&quot;,width:&quot;100%&quot;,maxWidth:400,margin:&quot;0
12px&quot;,overflow:&quot;hidden&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Header */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{background:&quot;rgba(0,0,0,0.4)&quot;,padding:&quot;10px
16px&quot;,display:&quot;flex&quot;,justifyContent:&quot;space-between&quot;,alignItems:&quot;center&quot;,borderBottom:&quot;1px
solid rgba(233,30,99,0.3)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span
style={{color:&quot;#e91e63&quot;,fontWeight:800,fontSize:&quot;0.95rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128150;</span><span
lang=EN-US> ¡Mima a {lizardName}!&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;span style={{color:
timeLeft&lt;=5?&quot;#f44336&quot;:&quot;#ffd700&quot;,fontFamily:&quot;monospace&quot;,fontWeight:800}}&gt;{phase===&quot;ready&quot;?&quot;¡Toca!&quot;:timeLeft+&quot;s&quot;}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;button onClick={onClose}
style={{background:&quot;transparent&quot;,border:&quot;1px solid
#555&quot;,color:&quot;#aaa&quot;,borderRadius:6,padding:&quot;2px
8px&quot;,cursor:&quot;pointer&quot;,fontSize:&quot;0.75rem&quot;}}&gt;</span><span
lang=EN-US style='font-family:"Segoe UI Symbol",sans-serif'>&#10005;</span><span
lang=EN-US>&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Pet area — the tap target */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div onClick={pat}
style={{position:&quot;relative&quot;,height:300,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,cursor:&quot;pointer&quot;,background:&quot;radial-gradient(ellipse
at 50%
60%,#2d0050,#100028)&quot;,userSelect:&quot;none&quot;,overflow:&quot;hidden&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Floating hearts */}</span></p>

<p class=MsoNormal><span lang=EN-US>          {hearts.map(h=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div key={h.id}
style={{position:&quot;absolute&quot;,left:`${h.x}%`,bottom:&quot;35%&quot;,fontSize:&quot;1.6rem&quot;,animation:&quot;coinfly
1s ease
forwards&quot;,pointerEvents:&quot;none&quot;}}&gt;{h.emoji}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          ))}</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Affection bar */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,top:14,left:16,right:16,height:8,background:&quot;rgba(0,0,0,0.4)&quot;,borderRadius:50,overflow:&quot;hidden&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{height:&quot;100%&quot;,width:`${pct}%`,background:`linear-gradient(90deg,#e91e63,#ff4081,#ff80ab)`,borderRadius:50,transition:&quot;width
0.2s ease&quot;,boxShadow:&quot;0 0 8px rgba(233,30,99,0.6)&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;p
style={{position:&quot;absolute&quot;,top:26,right:16,color:&quot;#ff80ab&quot;,fontSize:&quot;0.7rem&quot;,margin:0}}&gt;{pats}/{target}
caricias&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Pet with shake */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{transform:shake?&quot;scale(1.08)&quot;:&quot;scale(1.0)&quot;,transition:&quot;transform
0.1s&quot;,filter: mood===&quot;ecstatic&quot;?&quot;drop-shadow(0 0 16px
#ff4081)&quot;:mood===&quot;loved&quot;?&quot;drop-shadow(0 0 10px
#e91e63)&quot;:&quot;none&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;PetSprite level={evoLevel}
anim={shake}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Mood display */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{marginTop:8,background:&quot;rgba(0,0,0,0.5)&quot;,borderRadius:20,padding:&quot;5px
16px&quot;,display:&quot;flex&quot;,gap:6,alignItems:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;span
style={{fontSize:&quot;1.1rem&quot;}}&gt;{moodEmoji[mood]}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;span
style={{color:&quot;#ffb3c6&quot;,fontWeight:700,fontSize:&quot;0.8rem&quot;}}&gt;{moodMsg[mood]}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Ripple on tap */}</span></p>

<p class=MsoNormal><span lang=EN-US>          {shake &amp;&amp; &lt;div
style={{position:&quot;absolute&quot;,top:&quot;40%&quot;,left:&quot;45%&quot;,width:60,height:60,borderRadius:&quot;50%&quot;,border:&quot;3px
solid rgba(233,30,99,0.5)&quot;,animation:&quot;pulse 0.3s ease forwards&quot;,pointerEvents:&quot;none&quot;}}/&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Ready prompt */}</span></p>

<p class=MsoNormal><span lang=EN-US>          {phase===&quot;ready&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{position:&quot;absolute&quot;,bottom:16,left:0,right:0,textAlign:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;rgba(255,255,255,0.5)&quot;,fontSize:&quot;0.75rem&quot;,margin:0,animation:&quot;float
1.5s ease-in-out infinite&quot;}}&gt;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128070;</span><span
lang=EN-US> Toca a {lizardName} para empezar&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          )}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{background:&quot;rgba(0,0,0,0.3)&quot;,padding:&quot;10px&quot;,borderTop:&quot;1px
solid rgba(233,30,99,0.2)&quot;,textAlign:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          </span>&lt;p
style={{color:&quot;#ff80ab&quot;,fontSize:&quot;0.75rem&quot;,margin:0}}&gt;¡Toca
lo más rápido que puedas! <span style='font-family:"Segoe UI Emoji",sans-serif'>&#128149;</span><span
lang=EN-US> {pats &gt; 0 &amp;&amp; `${pats} caricias`}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Done overlay */}</span></p>

<p class=MsoNormal><span lang=EN-US>        {phase===&quot;done&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{position:&quot;absolute&quot;,inset:0,background:&quot;rgba(0,0,0,0.82)&quot;,display:&quot;flex&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,borderRadius:20,zIndex:10}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{textAlign:&quot;center&quot;,padding:28}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{fontSize:&quot;3rem&quot;}}&gt;{pats&gt;=target?&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128150;&#129392;&#128150;</span><span
lang=EN-US>&quot;:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128149;</span><span
lang=EN-US>&quot;}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              </span>&lt;h3
style={{color:&quot;#e91e63&quot;,margin:&quot;8px 0
4px&quot;}}&gt;{pats&gt;=target?`¡${lizardName} te ama!`:`¡Buen
intento!`}&lt;/h3&gt;</p>

<p class=MsoNormal>              &lt;p
style={{color:&quot;#aaa&quot;,fontSize:&quot;0.85rem&quot;,margin:&quot;0 0
12px&quot;}}&gt;{pats} caricias en 15 segundos&lt;/p&gt;</p>

<p class=MsoNormal>              <span lang=EN-US>&lt;div
style={{background:&quot;rgba(233,30,99,0.1)&quot;,border:&quot;1px solid
#e91e63&quot;,borderRadius:12,padding:&quot;12px
20px&quot;,marginBottom:16}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;p
style={{color:&quot;#ffd700&quot;,fontWeight:900,fontSize:&quot;1.2rem&quot;,margin:&quot;0
0 4px&quot;}}&gt;+{coins} </span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;p
style={{color:&quot;#a5d6a7&quot;,fontWeight:700,fontSize:&quot;1rem&quot;,margin:0}}&gt;+{happiness}
</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{display:&quot;flex&quot;,gap:10,justifyContent:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;button
onClick={onClose} style={{padding:&quot;10px
18px&quot;,background:&quot;#333&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#fff&quot;,cursor:&quot;pointer&quot;}}&gt;Salir&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;button
onClick={()=&gt;onFinish(coins,happiness)} style={{padding:&quot;10px
22px&quot;,background:&quot;linear-gradient(90deg,#e91e63,#ff4081)&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#fff&quot;,fontWeight:900,cursor:&quot;pointer&quot;}}&gt;¡Cobrar!&lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        )}</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>  );</span></p>

<p class=MsoNormal><span lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>// &#9472;&#9472;&#9472; MAIN APP
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>const DEFAULT_STATE = {</span></p>

<p class=MsoNormal><span lang=EN-US>  screen: &quot;splash&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US>  coins: 0,</span></p>

<p class=MsoNormal><span lang=EN-US>  streak: 0,</span></p>

<p class=MsoNormal><span lang=EN-US>  lastActiveDate: null,</span></p>

<p class=MsoNormal><span lang=EN-US>  evoLevel: 0,</span></p>

<p class=MsoNormal><span lang=EN-US>  happiness: 50,</span></p>

<p class=MsoNormal><span lang=EN-US>  owned: [],</span></p>

<p class=MsoNormal><span lang=EN-US>  equipped: { clothes: null, nestItems: []
},</span></p>

<p class=MsoNormal><span lang=EN-US>  completedMissions: {},</span></p>

<p class=MsoNormal><span lang=EN-US>  streakShields: 0,</span></p>

<p class=MsoNormal><span lang=EN-US>  firstLaunch: true,</span></p>

<p class=MsoNormal><span lang=EN-US>  lizardName: &quot;Gotera&quot;,</span></p>

<p class=MsoNormal><span lang=EN-US>  isDead: false,</span></p>

<p class=MsoNormal><span lang=EN-US>};</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>export default function Ganrro() {</span></p>

<p class=MsoNormal><span lang=EN-US>  const [state, setState] =
useState(DEFAULT_STATE);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [activeTab, setActiveTab] =
useState(&quot;home&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [missionModal, setMissionModal] =
useState(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [confirmModal, setConfirmModal] =
useState(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [timerActive, setTimerActive] =
useState(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [timerLeft, setTimerLeft] =
useState(0);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [shopCategory, setShopCategory] =
useState(&quot;evolution&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [notification, setNotification] =
useState(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [showSnake, setShowSnake] =
useState(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [showMario, setShowMario] =
useState(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [showBubble, setShowBubble] =
useState(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [showFeed, setShowFeed] =
useState(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [showBath, setShowBath] =
useState(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [showCuddle, setShowCuddle] =
useState(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [reward, setReward] =
useState(null);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [petAnim, setPetAnim] =
useState(false);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [nameInput, setNameInput] =
useState(&quot;Gotera&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>  const [timerOverflow, setTimerOverflow] =
useState(0); // seconds over the limit</span></p>

<p class=MsoNormal><span lang=EN-US>  const [timerFinished, setTimerFinished] =
useState(false); // countdown hit 0</span></p>

<p class=MsoNormal><span lang=EN-US>  const timerRef = useRef(null);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // Load from storage</span></p>

<p class=MsoNormal><span lang=EN-US>  useEffect(() =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    const load = async () =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      try {</span></p>

<p class=MsoNormal><span lang=EN-US>        const r = await
window.storage.get(&quot;ganrro_state&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US>        if (r) {</span></p>

<p class=MsoNormal><span lang=EN-US>          const saved =
JSON.parse(r.value);</span></p>

<p class=MsoNormal><span lang=EN-US>          // Check streak</span></p>

<p class=MsoNormal><span lang=EN-US>          const today = new
Date().toDateString();</span></p>

<p class=MsoNormal><span lang=EN-US>          if (saved.lastActiveDate
&amp;&amp; saved.lastActiveDate !== today) {</span></p>

<p class=MsoNormal><span lang=EN-US>            const last = new
Date(saved.lastActiveDate);</span></p>

<p class=MsoNormal><span lang=EN-US>            const now = new Date();</span></p>

<p class=MsoNormal><span lang=EN-US>            const diff = Math.floor((now -
last) / 86400000);</span></p>

<p class=MsoNormal><span lang=EN-US>            if (diff &gt; 1) {</span></p>

<p class=MsoNormal><span lang=EN-US>              if (saved.streakShields &gt;
0) {</span></p>

<p class=MsoNormal><span lang=EN-US>                saved.streakShields -= 1;</span></p>

<p class=MsoNormal><span lang=EN-US>                saved.streak = Math.max(0,
saved.streak);</span></p>

<p class=MsoNormal><span lang=EN-US>              } else {</span></p>

<p class=MsoNormal><span lang=EN-US>                saved.isDead = true;</span></p>

<p class=MsoNormal><span lang=EN-US>              }</span></p>

<p class=MsoNormal><span lang=EN-US>            }</span></p>

<p class=MsoNormal><span lang=EN-US>          }</span></p>

<p class=MsoNormal><span lang=EN-US>          setState({ ...DEFAULT_STATE,
...saved, screen: saved.firstLaunch ? &quot;splash&quot; : (saved.isDead ?
&quot;death&quot; : &quot;main&quot;) });</span></p>

<p class=MsoNormal><span lang=EN-US>        }</span></p>

<p class=MsoNormal><span lang=EN-US>      } catch (e) {}</span></p>

<p class=MsoNormal><span lang=EN-US>    };</span></p>

<p class=MsoNormal><span lang=EN-US>    load();</span></p>

<p class=MsoNormal><span lang=EN-US>  }, []);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const save = useCallback(async (newState)
=&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    try {</span></p>

<p class=MsoNormal><span lang=EN-US>      await
window.storage.set(&quot;ganrro_state&quot;, JSON.stringify(newState));</span></p>

<p class=MsoNormal><span lang=EN-US>    } catch (e) {}</span></p>

<p class=MsoNormal><span lang=EN-US>  }, []);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const update = useCallback((changes)
=&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    setState(prev =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>      const next = { ...prev, ...changes };</span></p>

<p class=MsoNormal><span lang=EN-US>      save(next);</span></p>

<p class=MsoNormal><span lang=EN-US>      return next;</span></p>

<p class=MsoNormal><span lang=EN-US>    });</span></p>

<p class=MsoNormal><span lang=EN-US>  }, [save]);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const showNotif = (msg, type =
&quot;success&quot;) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    setNotification({ msg, type });</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimeout(() =&gt;
setNotification(null), 3000);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // Daily missions reset</span></p>

<p class=MsoNormal><span lang=EN-US>  const getTodayMissions = () =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    const today = new
Date().toDateString();</span></p>

<p class=MsoNormal><span lang=EN-US>    return state.completedMissions[today]
|| [];</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const isMissionDone = (id) =&gt;
getTodayMissions().includes(id);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const startMission = (mission) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    setMissionModal(mission);</span></p>

<p class=MsoNormal><span lang=EN-US>    if (mission.type === &quot;timer&quot;)
{</span></p>

<p class=MsoNormal><span lang=EN-US>      setTimerLeft(mission.duration);</span></p>

<p class=MsoNormal><span lang=EN-US>    }</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const timerFinishedRef = useRef(false);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const startTimer = () =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimerActive(true);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimerFinished(false);</span></p>

<p class=MsoNormal><span lang=EN-US>    timerFinishedRef.current = false;</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimerOverflow(0);</span></p>

<p class=MsoNormal><span lang=EN-US>    timerRef.current = setInterval(() =&gt;
{</span></p>

<p class=MsoNormal><span lang=EN-US>      if (!timerFinishedRef.current) {</span></p>

<p class=MsoNormal><span lang=EN-US>        setTimerLeft(prev =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>          if (prev &lt;= 1) {</span></p>

<p class=MsoNormal><span lang=EN-US>            timerFinishedRef.current =
true;</span></p>

<p class=MsoNormal><span lang=EN-US>            setTimerFinished(true);</span></p>

<p class=MsoNormal><span lang=EN-US>            return 0;</span></p>

<p class=MsoNormal><span lang=EN-US>          }</span></p>

<p class=MsoNormal><span lang=EN-US>          return prev - 1;</span></p>

<p class=MsoNormal><span lang=EN-US>        });</span></p>

<p class=MsoNormal><span lang=EN-US>      } else {</span></p>

<p class=MsoNormal><span lang=EN-US>        setTimerOverflow(ov =&gt; ov + 1);</span></p>

<p class=MsoNormal><span lang=EN-US>      }</span></p>

<p class=MsoNormal><span lang=EN-US>    }, 1000);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // Called when user taps
&quot;¡Listo!&quot; — can be before or after 5min</span></p>

<p class=MsoNormal><span lang=EN-US>  const finishShowerEarly = () =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    clearInterval(timerRef.current);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimerActive(false);</span></p>

<p class=MsoNormal><span lang=EN-US>    const mission = missionModal;</span></p>

<p class=MsoNormal><span lang=EN-US>    const secondsUsed = mission.duration -
timerLeft;</span></p>

<p class=MsoNormal><span lang=EN-US>    const isOver =
timerFinishedRef.current;</span></p>

<p class=MsoNormal><span lang=EN-US>    const overflowSecs = timerOverflow;</span></p>

<p class=MsoNormal><span lang=EN-US>    timerFinishedRef.current = false;</span></p>

<p class=MsoNormal><span lang=EN-US>    setMissionModal(null);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimerFinished(false);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimerOverflow(0);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimerLeft(0);</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const today = new
Date().toDateString();</span></p>

<p class=MsoNormal><span lang=EN-US>    const done = getTodayMissions();</span></p>

<p class=MsoNormal><span lang=EN-US>    if (done.includes(mission.id)) return;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    const newCompleted = {
...state.completedMissions, [today]: [...done, mission.id] };</span></p>

<p class=MsoNormal><span lang=EN-US>    const newStreak = state.lastActiveDate
=== today ? state.streak : state.streak + 1;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>    if (isOver &amp;&amp; overflowSecs &gt;
0) {</span></p>

<p class=MsoNormal><span lang=EN-US>      // PENALTY: subtract happiness based
on how much over they went</span></p>

<p class=MsoNormal><span lang=EN-US>      const penaltyHappiness = Math.min(30,
Math.floor(overflowSecs / 15) * 5 + 5);</span></p>

<p class=MsoNormal><span lang=EN-US>      const newHappiness = Math.max(0,
state.happiness - penaltyHappiness);</span></p>

<p class=MsoNormal><span lang=EN-US>      const newCoins = state.coins +
mission.reward; // still get base reward</span></p>

<p class=MsoNormal><span lang=EN-US>      update({ completedMissions:
newCompleted, coins: newCoins, happiness: newHappiness, streak: newStreak,
lastActiveDate: today });</span></p>

<p class=MsoNormal><span lang=EN-US>      setReward({ amount: mission.reward,
mission: mission.title, penalty: penaltyHappiness, type: &quot;penalty&quot;
});</span></p>

<p class=MsoNormal><span lang=EN-US>    } else {</span></p>

<p class=MsoNormal><span lang=EN-US>      // BONUS: extra coins for finishing
early, proportional to time saved</span></p>

<p class=MsoNormal><span lang=EN-US>      const secondsSaved = timerLeft;</span></p>

<p class=MsoNormal><span lang=EN-US>      const bonusCoins = secondsSaved &gt;=
120 ? 20 : secondsSaved &gt;= 60 ? 12 : secondsSaved &gt;= 30 ? 6 : 0;</span></p>

<p class=MsoNormal><span lang=EN-US>      const totalCoins = mission.reward +
bonusCoins;</span></p>

<p class=MsoNormal><span lang=EN-US>      const newHappiness = Math.min(100,
state.happiness + (bonusCoins &gt; 0 ? 10 : 5));</span></p>

<p class=MsoNormal><span lang=EN-US>      update({ completedMissions:
newCompleted, coins: state.coins + totalCoins, happiness: newHappiness, streak:
newStreak, lastActiveDate: today });</span></p>

<p class=MsoNormal><span lang=EN-US>      setReward({ amount: totalCoins,
bonus: bonusCoins, mission: mission.title, secondsSaved, type:
&quot;bonus&quot; });</span></p>

<p class=MsoNormal><span lang=EN-US>    }</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimeout(() =&gt; setReward(null),
4000);</span></p>

<p class=MsoNormal><span lang=EN-US>    setPetAnim(true);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimeout(() =&gt; setPetAnim(false),
1000);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const completeMission = (mission) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    setConfirmModal(null);</span></p>

<p class=MsoNormal><span lang=EN-US>    setMissionModal(null);</span></p>

<p class=MsoNormal><span lang=EN-US>    const today = new
Date().toDateString();</span></p>

<p class=MsoNormal><span lang=EN-US>    const done = getTodayMissions();</span></p>

<p class=MsoNormal><span lang=EN-US>    if (done.includes(mission.id)) return;</span></p>

<p class=MsoNormal><span lang=EN-US>    const newCompleted = {
...state.completedMissions, [today]: [...done, mission.id] };</span></p>

<p class=MsoNormal><span lang=EN-US>    const newCoins = state.coins +
mission.reward;</span></p>

<p class=MsoNormal><span lang=EN-US>    const newHappiness = Math.min(100,
state.happiness + 5);</span></p>

<p class=MsoNormal><span lang=EN-US>    const newStreak = state.lastActiveDate
=== today ? state.streak : state.streak + 1;</span></p>

<p class=MsoNormal><span lang=EN-US>    update({ completedMissions:
newCompleted, coins: newCoins, happiness: newHappiness, streak: newStreak,
lastActiveDate: today });</span></p>

<p class=MsoNormal><span lang=EN-US>    setReward({ amount: mission.reward,
mission: mission.title, type: &quot;normal&quot; });</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimeout(() =&gt; setReward(null),
3000);</span></p>

<p class=MsoNormal><span lang=EN-US>    setPetAnim(true);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimeout(() =&gt; setPetAnim(false),
1000);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const buyItem = (item) =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    if (state.coins &lt; item.price) {
showNotif(&quot;¡No tienes suficientes monedas! </span><span style='font-family:
"Segoe UI Emoji",sans-serif'>&#128176;</span><span lang=EN-US>&quot;,
&quot;error&quot;); return; }</span></p>

<p class=MsoNormal><span lang=EN-US>    if (state.owned.includes(item.id)) {
showNotif(&quot;¡Ya tienes este artículo!&quot;, &quot;error&quot;); return; }</span></p>

<p class=MsoNormal><span lang=EN-US>    if (item.category ===
&quot;evolution&quot;) {</span></p>

<p class=MsoNormal><span lang=EN-US>      if (item.evoLevel !== state.evoLevel
+ 1) { showNotif(&quot;Debes seguir el orden de evolución&quot;,
&quot;error&quot;); return; }</span></p>

<p class=MsoNormal><span lang=EN-US>      update({ coins: state.coins -
item.price, owned: [...state.owned, item.id], evoLevel: item.evoLevel,
happiness: Math.min(100, state.happiness + 20) });</span></p>

<p class=MsoNormal><span lang=EN-US>    } else if (item.category ===
&quot;food&quot;) {</span></p>

<p class=MsoNormal><span lang=EN-US>      update({ coins: state.coins -
item.price, happiness: Math.min(100, state.happiness + (item.happiness || 10))
});</span></p>

<p class=MsoNormal><span lang=EN-US>    } else {</span></p>

<p class=MsoNormal><span lang=EN-US>      update({ coins: state.coins -
item.price, owned: [...state.owned, item.id] });</span></p>

<p class=MsoNormal><span lang=EN-US>    }</span></p>

<p class=MsoNormal><span lang=EN-US>    showNotif(`¡Compraste ${item.name}! </span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127881;</span><span
lang=EN-US>`);</span></p>

<p class=MsoNormal><span lang=EN-US>    setPetAnim(true);</span></p>

<p class=MsoNormal><span lang=EN-US>    setTimeout(() =&gt; setPetAnim(false),
1000);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const resetGame = () =&gt; {</span></p>

<p class=MsoNormal><span lang=EN-US>    const fresh = { ...DEFAULT_STATE,
screen: &quot;main&quot;, firstLaunch: false };</span></p>

<p class=MsoNormal><span lang=EN-US>    setState(fresh);</span></p>

<p class=MsoNormal><span lang=EN-US>    save(fresh);</span></p>

<p class=MsoNormal><span lang=EN-US>  };</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  const sprite =
EVO_SPRITES[state.evoLevel];</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  // &#9472;&#9472; SCREENS
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  if (state.screen === &quot;splash&quot;)
{</span></p>

<p class=MsoNormal><span lang=EN-US>    return (</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div
style={{minHeight:&quot;100vh&quot;,fontFamily:&quot;'Trebuchet
MS',sans-serif&quot;,position:&quot;relative&quot;,overflow:&quot;hidden&quot;,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;flex-end&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;style&gt;{`</span></p>

<p class=MsoNormal><span lang=EN-US>          @keyframes
float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}</span></p>

<p class=MsoNormal><span lang=EN-US>          @keyframes
pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.06)}}</span></p>

<p class=MsoNormal><span lang=EN-US>          @keyframes
pop{0%{transform:scale(0);opacity:0}60%{transform:scale(1.2)}100%{transform:scale(1);opacity:1}}</span></p>

<p class=MsoNormal><span lang=EN-US>          @keyframes
shimmer{0%,100%{opacity:0.6}50%{opacity:1}}</span></p>

<p class=MsoNormal><span lang=EN-US>          @keyframes
heatwave{0%,100%{transform:scaleX(1) translateY(0)}50%{transform:scaleX(1.04)
translateY(-3px)}}</span></p>

<p class=MsoNormal><span lang=EN-US>          @keyframes
twinkle{0%,100%{opacity:0.2;transform:scale(0.8)}50%{opacity:1;transform:scale(1.2)}}</span></p>

<p class=MsoNormal><span lang=EN-US>          @keyframes
sun-glow{0%,100%{filter:drop-shadow(0 0 18px
#ffb30088)}50%{filter:drop-shadow(0 0 38px #ffb300cc)}}</span></p>

<p class=MsoNormal><span lang=EN-US>          @keyframes
breathe{0%,100%{transform:scale(1)}50%{transform:scale(1.03)}}</span></p>

<p class=MsoNormal><span lang=EN-US>          @keyframes
drop-shine{0%,100%{opacity:0.5}50%{opacity:1}}</span></p>

<p class=MsoNormal><span lang=EN-US>        `}&lt;/style&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* &#9472;&#9472; SKY GRADIENT
&#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{position:&quot;absolute&quot;,inset:0,background:&quot;linear-gradient(180deg,
#1a0a00 0%, #7a3000 18%, #e8700a 38%, #f5a623 55%, #ffd580 68%, #e8c07a 78%,
#c8934a 100%)&quot;,zIndex:0}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* &#9472;&#9472; STARS (top sky)
&#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>        {[...Array(18)].map((_,i)=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div key={i}
style={{position:&quot;absolute&quot;,top:`${2+Math.random()*22}%`,left:`${(i*53+7)%100}%`,width:i%3===0?3:2,height:i%3===0?3:2,background:&quot;#fff&quot;,borderRadius:&quot;50%&quot;,zIndex:1,animation:`twinkle
${1.5+i*0.2}s ease-in-out ${i*0.15}s infinite`}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* &#9472;&#9472; SUN
&#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{position:&quot;absolute&quot;,top:&quot;6%&quot;,right:&quot;12%&quot;,zIndex:2,animation:&quot;sun-glow
3s ease-in-out infinite&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;svg width=&quot;80&quot;
height=&quot;80&quot; viewBox=&quot;0 0 80 80&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;40&quot;
cy=&quot;40&quot; r=&quot;26&quot; fill=&quot;#FFB300&quot;
opacity=&quot;0.95&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;40&quot;
cy=&quot;40&quot; r=&quot;20&quot; fill=&quot;#FFD740&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {[...Array(8)].map((_,i)=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>              const a=(i*45)*Math.PI/180;</span></p>

<p class=MsoNormal><span lang=EN-US>              return &lt;line key={i}
x1={40+30*Math.cos(a)} y1={40+30*Math.sin(a)} x2={40+36*Math.cos(a)}
y2={40+36*Math.sin(a)} stroke=&quot;#FFB300&quot; strokeWidth=&quot;3&quot;
strokeLinecap=&quot;round&quot;/&gt;;</span></p>

<p class=MsoNormal><span lang=EN-US>            })}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* &#9472;&#9472; DISTANT
MOUNTAINS / MESAS &#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;svg viewBox=&quot;0 0 480
120&quot; preserveAspectRatio=&quot;none&quot;
style={{position:&quot;absolute&quot;,bottom:&quot;30%&quot;,left:0,width:&quot;100%&quot;,zIndex:2,opacity:0.55}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;polygon points=&quot;0,120
60,40 130,90 200,20 280,75 360,30 430,65 480,45 480,120&quot;
fill=&quot;#8B3A0A&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;polygon points=&quot;0,120
40,70 90,100 160,55 240,85 310,50 390,80 480,60 480,120&quot;
fill=&quot;#A0440F&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* &#9472;&#9472; DESERT FLOOR
&#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;svg viewBox=&quot;0 0 480
180&quot; preserveAspectRatio=&quot;none&quot;
style={{position:&quot;absolute&quot;,bottom:0,left:0,width:&quot;100%&quot;,zIndex:3,animation:&quot;heatwave
6s ease-in-out infinite&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Sand dunes */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;ellipse cx=&quot;80&quot;
cy=&quot;170&quot; rx=&quot;120&quot; ry=&quot;30&quot;
fill=&quot;#C47A2B&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;ellipse cx=&quot;300&quot;
cy=&quot;175&quot; rx=&quot;180&quot; ry=&quot;28&quot;
fill=&quot;#D4882E&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;ellipse cx=&quot;460&quot;
cy=&quot;168&quot; rx=&quot;100&quot; ry=&quot;25&quot;
fill=&quot;#C47A2B&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Main ground */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;0&quot;
y=&quot;140&quot; width=&quot;480&quot; height=&quot;40&quot;
fill=&quot;#B8692A&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;0&quot;
y=&quot;155&quot; width=&quot;480&quot; height=&quot;25&quot;
fill=&quot;#A05820&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Sand texture lines */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;path d=&quot;M10,148 Q80,143
150,149 Q220,155 300,147 Q370,140 450,148&quot; stroke=&quot;#C47A2B&quot;
strokeWidth=&quot;1.5&quot; fill=&quot;none&quot; opacity=&quot;0.6&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;path d=&quot;M0,158 Q60,153
130,160 Q200,166 280,157 Q360,149 480,159&quot; stroke=&quot;#C47A2B&quot;
strokeWidth=&quot;1&quot; fill=&quot;none&quot; opacity=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* &#9472;&#9472; CACTI
&#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Left cactus */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;svg width=&quot;60&quot;
height=&quot;100&quot; viewBox=&quot;0 0 60 100&quot;
style={{position:&quot;absolute&quot;,bottom:&quot;17%&quot;,left:&quot;5%&quot;,zIndex:4}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;24&quot;
y=&quot;10&quot; width=&quot;12&quot; height=&quot;75&quot; rx=&quot;6&quot;
fill=&quot;#3d7a3d&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;8&quot;
y=&quot;38&quot; width=&quot;16&quot; height=&quot;8&quot; rx=&quot;4&quot;
fill=&quot;#3d7a3d&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;8&quot;
y=&quot;22&quot; width=&quot;8&quot; height=&quot;24&quot; rx=&quot;4&quot;
fill=&quot;#3d7a3d&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;36&quot;
y=&quot;30&quot; width=&quot;16&quot; height=&quot;8&quot; rx=&quot;4&quot;
fill=&quot;#3d7a3d&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;44&quot;
y=&quot;14&quot; width=&quot;8&quot; height=&quot;24&quot; rx=&quot;4&quot;
fill=&quot;#3d7a3d&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* spines */}</span></p>

<p class=MsoNormal><span lang=EN-US>          {[20,35,50,65].map(y=&gt;&lt;line
key={y} x1=&quot;24&quot; y1={y} x2=&quot;19&quot; y2={y-4}
stroke=&quot;#2a5a2a&quot; strokeWidth=&quot;1.5&quot;/&gt;)}</span></p>

<p class=MsoNormal><span lang=EN-US>          {[20,35,50,65].map(y=&gt;&lt;line
key={y+&quot;r&quot;} x1=&quot;36&quot; y1={y} x2=&quot;41&quot; y2={y-4}
stroke=&quot;#2a5a2a&quot; strokeWidth=&quot;1.5&quot;/&gt;)}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* Right cactus small */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;svg width=&quot;35&quot;
height=&quot;65&quot; viewBox=&quot;0 0 35 65&quot;
style={{position:&quot;absolute&quot;,bottom:&quot;17%&quot;,right:&quot;8%&quot;,zIndex:4}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;13&quot;
y=&quot;8&quot; width=&quot;9&quot; height=&quot;50&quot; rx=&quot;4.5&quot;
fill=&quot;#3d7a3d&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;3&quot;
y=&quot;22&quot; width=&quot;10&quot; height=&quot;6&quot; rx=&quot;3&quot;
fill=&quot;#3d7a3d&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;3&quot;
y=&quot;14&quot; width=&quot;6&quot; height=&quot;16&quot; rx=&quot;3&quot;
fill=&quot;#3d7a3d&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;22&quot;
y=&quot;18&quot; width=&quot;10&quot; height=&quot;6&quot; rx=&quot;3&quot;
fill=&quot;#3d7a3d&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;rect x=&quot;26&quot;
y=&quot;10&quot; width=&quot;6&quot; height=&quot;16&quot; rx=&quot;3&quot;
fill=&quot;#3d7a3d&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* &#9472;&#9472; ROCKS
&#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;svg width=&quot;70&quot;
height=&quot;30&quot; viewBox=&quot;0 0 70 30&quot;
style={{position:&quot;absolute&quot;,bottom:&quot;17%&quot;,left:&quot;22%&quot;,zIndex:4}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;ellipse cx=&quot;20&quot;
cy=&quot;22&quot; rx=&quot;18&quot; ry=&quot;10&quot;
fill=&quot;#8B5E3C&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;ellipse cx=&quot;45&quot;
cy=&quot;20&quot; rx=&quot;22&quot; ry=&quot;12&quot;
fill=&quot;#7A5030&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;ellipse cx=&quot;60&quot;
cy=&quot;24&quot; rx=&quot;12&quot; ry=&quot;8&quot;
fill=&quot;#8B5E3C&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* &#9472;&#9472; HEAT SHIMMER
lines &#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;svg viewBox=&quot;0 0 480
20&quot; preserveAspectRatio=&quot;none&quot;
style={{position:&quot;absolute&quot;,bottom:&quot;29%&quot;,left:0,width:&quot;100%&quot;,zIndex:3,opacity:0.25,animation:&quot;shimmer
2s ease-in-out infinite&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;path d=&quot;M0,10 Q60,4
120,10 Q180,16 240,10 Q300,4 360,10 Q420,16 480,10&quot;
stroke=&quot;#ffddaa&quot; strokeWidth=&quot;2&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;path d=&quot;M0,15 Q80,8
160,15 Q240,22 320,15 Q400,8 480,15&quot; stroke=&quot;#ffddaa&quot;
strokeWidth=&quot;1.5&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* &#9472;&#9472; MAIN
ILLUSTRATION: Lizard hugging water drop &#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{position:&quot;absolute&quot;,bottom:&quot;20%&quot;,left:&quot;50%&quot;,transform:&quot;translateX(-50%)&quot;,zIndex:10,animation:&quot;float
3.5s ease-in-out infinite&quot;,width:220,height:200}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;svg width=&quot;220&quot;
height=&quot;200&quot; viewBox=&quot;0 0 220 200&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Shadow */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;110&quot;
cy=&quot;192&quot; rx=&quot;55&quot; ry=&quot;10&quot;
fill=&quot;rgba(0,0,0,0.25)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* &#9472;&#9472; WATER DROP
(being hugged) &#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Drop glow */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;110&quot;
cy=&quot;108&quot; rx=&quot;38&quot; ry=&quot;42&quot;
fill=&quot;rgba(0,200,255,0.18)&quot; style={{animation:&quot;breathe 2.5s
ease-in-out infinite&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Drop body */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M110,52
C110,52 138,85 138,110 C138,130 126,148 110,148 C94,148 82,130 82,110 C82,85
110,52 110,52 Z&quot; fill=&quot;url(#dropGrad)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Drop shine */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M98,72 C98,72
92,88 93,100&quot; stroke=&quot;rgba(255,255,255,0.7)&quot;
strokeWidth=&quot;4&quot; strokeLinecap=&quot;round&quot; fill=&quot;none&quot;
style={{animation:&quot;drop-shine 2s ease-in-out infinite&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;102&quot;
cy=&quot;68&quot; r=&quot;4&quot; fill=&quot;rgba(255,255,255,0.55)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Drop face */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;103&quot;
cy=&quot;110&quot; r=&quot;3.5&quot; fill=&quot;#003f5c&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;117&quot;
cy=&quot;110&quot; r=&quot;3.5&quot; fill=&quot;#003f5c&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;104&quot;
cy=&quot;109&quot; r=&quot;1.2&quot; fill=&quot;#fff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;118&quot;
cy=&quot;109&quot; r=&quot;1.2&quot; fill=&quot;#fff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M104,120
Q110,126 116,120&quot; stroke=&quot;#003f5c&quot; strokeWidth=&quot;2.5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Drop cheeks blush */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;97&quot;
cy=&quot;118&quot; rx=&quot;5&quot; ry=&quot;3&quot;
fill=&quot;rgba(255,180,180,0.45)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;123&quot;
cy=&quot;118&quot; rx=&quot;5&quot; ry=&quot;3&quot;
fill=&quot;rgba(255,180,180,0.45)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* &#9472;&#9472; LIZARD BODY
&#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Tail */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M155,155
Q185,165 200,148 Q210,135 195,128 Q182,122 172,132 Q162,142 155,150&quot;
fill=&quot;#5a9e3a&quot; stroke=&quot;#3d7a2a&quot;
strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Tail tip */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;201&quot;
cy=&quot;144&quot; rx=&quot;6&quot; ry=&quot;5&quot; fill=&quot;#4a8e2a&quot;
transform=&quot;rotate(-20,201,144)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Back legs */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M143,162
Q148,178 140,188 Q134,195 128,190&quot; stroke=&quot;#4a8e2a&quot;
strokeWidth=&quot;8&quot; strokeLinecap=&quot;round&quot;
fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M128,190
Q122,196 118,193&quot; stroke=&quot;#4a8e2a&quot; strokeWidth=&quot;5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M128,190
Q125,198 120,197&quot; stroke=&quot;#4a8e2a&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M128,190
Q132,198 128,199&quot; stroke=&quot;#4a8e2a&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Body */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;118&quot;
cy=&quot;155&quot; rx=&quot;30&quot; ry=&quot;20&quot; fill=&quot;#5aba38&quot;
stroke=&quot;#3d7a2a&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Belly */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;116&quot;
cy=&quot;158&quot; rx=&quot;20&quot; ry=&quot;13&quot; fill=&quot;#a8e06a&quot;
opacity=&quot;0.7&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Body spots */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;100&quot;
cy=&quot;148&quot; r=&quot;4&quot; fill=&quot;#3d9a20&quot;
opacity=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;115&quot;
cy=&quot;143&quot; r=&quot;3&quot; fill=&quot;#3d9a20&quot;
opacity=&quot;0.4&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;128&quot;
cy=&quot;150&quot; r=&quot;3.5&quot; fill=&quot;#3d9a20&quot;
opacity=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* LEFT ARM (wrapping around
drop - behind) */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M90,152
Q72,140 74,118 Q76,100 84,98&quot; stroke=&quot;#4a8e2a&quot;
strokeWidth=&quot;9&quot; strokeLinecap=&quot;round&quot;
fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M84,98 Q80,90
82,85&quot; stroke=&quot;#4a8e2a&quot; strokeWidth=&quot;7&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* left hand fingers */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M82,85 Q76,80
74,76&quot; stroke=&quot;#4a8e2a&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M82,85 Q79,79
80,74&quot; stroke=&quot;#4a8e2a&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M82,85 Q83,78
85,74&quot; stroke=&quot;#4a8e2a&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* RIGHT ARM (wrapping around
drop - front) */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M142,148
Q158,136 156,116 Q154,98 146,96&quot; stroke=&quot;#5aba38&quot;
strokeWidth=&quot;9&quot; strokeLinecap=&quot;round&quot;
fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M146,96
Q150,88 148,83&quot; stroke=&quot;#5aba38&quot; strokeWidth=&quot;7&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* right hand fingers */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M148,83
Q154,78 156,74&quot; stroke=&quot;#5aba38&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M148,83
Q151,77 152,72&quot; stroke=&quot;#5aba38&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M148,83
Q147,76 145,72&quot; stroke=&quot;#5aba38&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Front legs */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M93,164
Q88,180 80,188 Q74,195 70,191&quot; stroke=&quot;#4a8e2a&quot;
strokeWidth=&quot;8&quot; strokeLinecap=&quot;round&quot;
fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M70,191
Q64,196 60,193&quot; stroke=&quot;#4a8e2a&quot; strokeWidth=&quot;5&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M70,191
Q67,199 62,198&quot; stroke=&quot;#4a8e2a&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M70,191
Q74,199 70,200&quot; stroke=&quot;#4a8e2a&quot; strokeWidth=&quot;4&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* NECK */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;110&quot;
cy=&quot;145&quot; rx=&quot;14&quot; ry=&quot;9&quot; fill=&quot;#5aba38&quot;
stroke=&quot;#3d7a2a&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* HEAD */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;110&quot;
cy=&quot;132&quot; rx=&quot;22&quot; ry=&quot;17&quot; fill=&quot;#5aba38&quot;
stroke=&quot;#3d7a2a&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Head top color variation
*/}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;110&quot;
cy=&quot;124&quot; rx=&quot;16&quot; ry=&quot;10&quot; fill=&quot;#6aca46&quot;
opacity=&quot;0.6&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Snout */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;110&quot;
cy=&quot;142&quot; rx=&quot;10&quot; ry=&quot;6&quot;
fill=&quot;#5aba38&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;110&quot;
cy=&quot;144&quot; rx=&quot;7&quot; ry=&quot;3.5&quot;
fill=&quot;#4a8e2a&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Nostrils */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;107&quot;
cy=&quot;143&quot; r=&quot;1.5&quot; fill=&quot;#2a5a1a&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;113&quot;
cy=&quot;143&quot; r=&quot;1.5&quot; fill=&quot;#2a5a1a&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Eyes */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;100&quot;
cy=&quot;128&quot; r=&quot;7&quot; fill=&quot;#fff&quot;
stroke=&quot;#3d7a2a&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;120&quot;
cy=&quot;128&quot; r=&quot;7&quot; fill=&quot;#fff&quot;
stroke=&quot;#3d7a2a&quot; strokeWidth=&quot;1.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;101&quot;
cy=&quot;129&quot; r=&quot;4.5&quot; fill=&quot;#ff6600&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;121&quot;
cy=&quot;129&quot; r=&quot;4.5&quot; fill=&quot;#ff6600&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;102&quot;
cy=&quot;129&quot; r=&quot;2.5&quot; fill=&quot;#1a1a00&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;122&quot;
cy=&quot;129&quot; r=&quot;2.5&quot; fill=&quot;#1a1a00&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;103&quot;
cy=&quot;128&quot; r=&quot;1&quot; fill=&quot;#fff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;circle cx=&quot;123&quot;
cy=&quot;128&quot; r=&quot;1&quot; fill=&quot;#fff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Eyelids / happy squint */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M93,125
Q100,120 107,125&quot; stroke=&quot;#3d7a2a&quot; strokeWidth=&quot;2&quot;
fill=&quot;#6aca46&quot; opacity=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M113,125
Q120,120 127,125&quot; stroke=&quot;#3d7a2a&quot; strokeWidth=&quot;2&quot;
fill=&quot;#6aca46&quot; opacity=&quot;0.5&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Smile */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M103,142
Q110,148 117,142&quot; stroke=&quot;#2a5a1a&quot; strokeWidth=&quot;2&quot;
strokeLinecap=&quot;round&quot; fill=&quot;none&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Cheeks */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;93&quot;
cy=&quot;136&quot; rx=&quot;6&quot; ry=&quot;4&quot;
fill=&quot;rgba(255,150,100,0.35)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;ellipse cx=&quot;127&quot;
cy=&quot;136&quot; rx=&quot;6&quot; ry=&quot;4&quot;
fill=&quot;rgba(255,150,100,0.35)&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Dewlap (chin flap) */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;path d=&quot;M104,146
Q110,154 116,146&quot; fill=&quot;#ff7a3a&quot; opacity=&quot;0.7&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Crest/spines on back */}</span></p>

<p class=MsoNormal><span lang=EN-US>            {[0,1,2,3,4].map(i=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;polygon key={i}
points={`${104+i*5},${152-i*2} ${101+i*5},${144-i*2} ${107+i*5},${144-i*2}`}
fill=&quot;#3a9a1a&quot; opacity=&quot;0.7&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            ))}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Gradient def */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;linearGradient
id=&quot;dropGrad&quot; x1=&quot;0%&quot; y1=&quot;0%&quot; x2=&quot;100%&quot;
y2=&quot;100%&quot;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;stop
offset=&quot;0%&quot; stopColor=&quot;#80dfff&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;stop
offset=&quot;50%&quot; stopColor=&quot;#00b4d8&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;stop
offset=&quot;100%&quot; stopColor=&quot;#0077b6&quot;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/linearGradient&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/defs&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/svg&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>        {/* &#9472;&#9472; CONTENT OVERLAY
(bottom card) &#9472;&#9472; */}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{position:&quot;relative&quot;,zIndex:20,width:&quot;100%&quot;,maxWidth:480,background:&quot;linear-gradient(180deg,rgba(20,8,0,0.0)
0%,rgba(20,8,0,0.82) 25%,rgba(10,4,0,0.97) 100%)&quot;,padding:&quot;60px 32px
40px&quot;,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;h1
style={{fontSize:&quot;3.8rem&quot;,fontWeight:900,color:&quot;#FFD740&quot;,letterSpacing:5,textShadow:&quot;0
0 25px #ffb30099,0 2px 0 #7a3000&quot;,margin:&quot;0 0
4px&quot;}}&gt;GANRRO&lt;/h1&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;p
style={{color:&quot;#f5c97a&quot;,fontSize:&quot;0.95rem&quot;,letterSpacing:3,margin:&quot;0
0 6px&quot;,textTransform:&quot;uppercase&quot;}}&gt;Cuida el agua. Cuida tu
mundo.&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;p
style={{color:&quot;#c8a060&quot;,textAlign:&quot;center&quot;,maxWidth:280,lineHeight:1.7,fontSize:&quot;0.88rem&quot;,margin:&quot;0
0 32px&quot;,opacity:0.9}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            </span>En el desierto, cada
gota cuenta. Ayuda a tu lagartija a proteger el agua que queda.</p>

<p class=MsoNormal>          <span lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;button
onClick={()=&gt;setState(prev=&gt;({...prev,screen:&quot;onboarding&quot;}))}
style={{padding:&quot;16px
52px&quot;,background:&quot;linear-gradient(90deg,#e8700a,#FFB300,#FFD740)&quot;,border:&quot;none&quot;,borderRadius:50,color:&quot;#1a0800&quot;,fontWeight:900,fontSize:&quot;1.15rem&quot;,cursor:&quot;pointer&quot;,boxShadow:&quot;0
0 30px #ffb30055,0 4px 16px rgba(0,0,0,0.4)&quot;,animation:&quot;pulse 2s
ease-in-out infinite&quot;,letterSpacing:1,textTransform:&quot;uppercase&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            </span>¡Empezar! <span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129422;</span></p>

<p class=MsoNormal>          &lt;/button&gt;</p>

<p class=MsoNormal>        &lt;/div&gt;</p>

<p class=MsoNormal>      &lt;/div&gt;</p>

<p class=MsoNormal>    <span lang=EN-US>);</span></p>

<p class=MsoNormal><span lang=EN-US>  }</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  if (state.screen ===
&quot;onboarding&quot;) {</span></p>

<p class=MsoNormal><span lang=EN-US>    return (</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div
style={{minHeight:&quot;100vh&quot;,background:&quot;linear-gradient(135deg,#0d2137,#0a3d2e)&quot;,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,padding:24,fontFamily:&quot;'Trebuchet
MS',sans-serif&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;h2
style={{color:&quot;#00e5ff&quot;,fontSize:&quot;1.8rem&quot;,marginBottom:8}}&gt;¡Bienvenido
a Ganrro!&lt;/h2&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;p
style={{color:&quot;#a8e6cf&quot;,textAlign:&quot;center&quot;,maxWidth:320,marginBottom:32}}&gt;Primero,
ponle nombre a tu lagartija:&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{fontSize:&quot;6rem&quot;,marginBottom:24}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129370;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;input value={nameInput}
onChange={e=&gt;setNameInput(e.target.value)} placeholder=&quot;Ej: Gotera,
Azul, Gotita...&quot; style={{padding:&quot;14px
20px&quot;,borderRadius:12,border:&quot;2px solid
#00e5ff&quot;,background:&quot;#0a1628&quot;,color:&quot;#fff&quot;,fontSize:&quot;1.1rem&quot;,width:&quot;100%&quot;,maxWidth:280,textAlign:&quot;center&quot;,outline:&quot;none&quot;,fontFamily:&quot;'Trebuchet
MS',sans-serif&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;button onClick={()=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>          const
n={...DEFAULT_STATE,screen:&quot;main&quot;,firstLaunch:false,lizardName:nameInput||&quot;Gotera&quot;,lastActiveDate:new
Date().toDateString()};</span></p>

<p class=MsoNormal><span lang=EN-US>          setState(n); save(n);</span></p>

<p class=MsoNormal><span lang=EN-US>        }}
style={{marginTop:24,padding:&quot;14px
40px&quot;,background:&quot;linear-gradient(90deg,#00b4d8,#00e5ff)&quot;,border:&quot;none&quot;,borderRadius:50,color:&quot;#0a1628&quot;,fontWeight:800,fontSize:&quot;1rem&quot;,cursor:&quot;pointer&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          ¡Comenzar aventura!</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>    );</span></p>

<p class=MsoNormal><span lang=EN-US>  }</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  if (state.screen === &quot;death&quot;) {</span></p>

<p class=MsoNormal><span lang=EN-US>    return (</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div
style={{minHeight:&quot;100vh&quot;,background:&quot;linear-gradient(135deg,#1a0000,#2d0000)&quot;,display:&quot;flex&quot;,flexDirection:&quot;column&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,fontFamily:&quot;'Trebuchet
MS',sans-serif&quot;,padding:24}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{fontSize:&quot;5rem&quot;,marginBottom:16}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128128;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;h2
style={{color:&quot;#ff4444&quot;,fontSize:&quot;2rem&quot;,textAlign:&quot;center&quot;}}&gt;Tu
lagartija murió...&lt;/h2&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;p
style={{color:&quot;#ff9999&quot;,textAlign:&quot;center&quot;,maxWidth:300,marginBottom:8}}&gt;Perdiste
tu racha y &lt;strong&gt;{state.lizardName}&lt;/strong&gt; no
sobrevivió.&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        </span>&lt;p
style={{color:&quot;#ff7777&quot;,textAlign:&quot;center&quot;,maxWidth:300,marginBottom:40,fontSize:&quot;0.9rem&quot;}}&gt;El
agua que no ahorraste desapareció con ella. <span lang=EN-US>Pero puedes volver
a empezar.&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;button onClick={resetGame}
style={{padding:&quot;16px
40px&quot;,background:&quot;linear-gradient(90deg,#ff4444,#ff6666)&quot;,border:&quot;none&quot;,borderRadius:50,color:&quot;#fff&quot;,fontWeight:800,fontSize:&quot;1rem&quot;,cursor:&quot;pointer&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          </span>Comenzar de nuevo <span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128260;</span></p>

<p class=MsoNormal>        &lt;/button&gt;</p>

<p class=MsoNormal>      &lt;/div&gt;</p>

<p class=MsoNormal>    );</p>

<p class=MsoNormal>  }</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>  // &#9472;&#9472; MAIN SCREEN
&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;</p>

<p class=MsoNormal>  const todayDone = getTodayMissions();</p>

<p class=MsoNormal>  <span lang=EN-US>const missionsDoneToday =
todayDone.length;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>  return (</span></p>

<p class=MsoNormal><span lang=EN-US>    &lt;div
style={{minHeight:&quot;100vh&quot;,background:&quot;linear-gradient(180deg,#0d2137
0%,#0a3d2e 100%)&quot;,fontFamily:&quot;'Trebuchet
MS',sans-serif&quot;,color:&quot;#fff&quot;,maxWidth:480,margin:&quot;0
auto&quot;,position:&quot;relative&quot;,overflow:&quot;hidden&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;style&gt;{`</span></p>

<p class=MsoNormal><span lang=EN-US>        @keyframes
float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}</span></p>

<p class=MsoNormal><span lang=EN-US>        @keyframes
pop{0%{transform:scale(0.5);opacity:0}70%{transform:scale(1.15)}100%{transform:scale(1);opacity:1}}</span></p>

<p class=MsoNormal><span lang=EN-US>        @keyframes
slide-up{from{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}</span></p>

<p class=MsoNormal><span lang=EN-US>        @keyframes
bounce{0%,100%{transform:scale(1)}50%{transform:scale(1.3) rotate(10deg)}}</span></p>

<p class=MsoNormal><span lang=EN-US>        @keyframes
coinfly{0%{transform:translateY(0);opacity:1}100%{transform:translateY(-80px);opacity:0}}</span></p>

<p class=MsoNormal><span lang=EN-US>        @keyframes
wiggle{0%,100%{transform:rotate(0deg)}25%{transform:rotate(-15deg)}75%{transform:rotate(15deg)}}</span></p>

<p class=MsoNormal><span lang=EN-US>       
.tab-btn:hover{background:rgba(0,229,255,0.15)!important}</span></p>

<p class=MsoNormal><span lang=EN-US>       
.mission-card:hover{transform:translateY(-2px);box-shadow:0 8px 20px
rgba(0,229,255,0.2)!important}</span></p>

<p class=MsoNormal><span lang=EN-US>       
.shop-card:hover{transform:translateY(-2px);box-shadow:0 8px 20px
rgba(0,229,255,0.3)!important}</span></p>

<p class=MsoNormal><span lang=EN-US>      `}&lt;/style&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* Notification */}</span></p>

<p class=MsoNormal><span lang=EN-US>      {notification &amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{position:&quot;fixed&quot;,top:20,left:&quot;50%&quot;,transform:&quot;translateX(-50%)&quot;,background:notification.type===&quot;error&quot;?&quot;#c62828&quot;:&quot;#1b5e20&quot;,border:`1px
solid ${notification.type===&quot;error&quot;?&quot;#f44336&quot;:&quot;#4caf50&quot;}`,borderRadius:12,padding:&quot;12px
24px&quot;,color:&quot;#fff&quot;,fontWeight:700,zIndex:999,animation:&quot;slide-up
0.3s ease&quot;,boxShadow:&quot;0 8px 32px rgba(0,0,0,0.4)&quot;,whiteSpace:&quot;nowrap&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {notification.msg}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      )}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* Reward popup */}</span></p>

<p class=MsoNormal><span lang=EN-US>      {reward &amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{position:&quot;fixed&quot;,top:&quot;38%&quot;,left:&quot;50%&quot;,transform:&quot;translate(-50%,-50%)&quot;,background:&quot;rgba(10,22,40,0.96)&quot;,border:`2px
solid ${reward.type===&quot;penalty&quot;?&quot;#f44336&quot;:reward.type===&quot;bonus&quot;&amp;&amp;reward.bonus&gt;0?&quot;#ffd700&quot;:&quot;#4caf50&quot;}`,borderRadius:20,padding:&quot;24px
32px&quot;,textAlign:&quot;center&quot;,zIndex:998,animation:&quot;pop 0.4s
ease&quot;,minWidth:220}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {reward.type ===
&quot;penalty&quot; ? (</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{fontSize:&quot;2.5rem&quot;}}&gt;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128531;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#ff6b6b&quot;,fontSize:&quot;1.1rem&quot;,fontWeight:900,margin:&quot;8px
0 4px&quot;}}&gt;+{reward.amount} </span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#ff9999&quot;,fontSize:&quot;0.85rem&quot;,margin:&quot;0 0
4px&quot;}}&gt;¡Te pasaste del tiempo!&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#ffaaaa&quot;,fontSize:&quot;0.8rem&quot;,margin:0}}&gt;-{reward.penalty}
felicidad </span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128148;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          ) : reward.type ===
&quot;bonus&quot; &amp;&amp; reward.bonus &gt; 0 ? (</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{fontSize:&quot;2.5rem&quot;,animation:&quot;coinfly 1.5s ease
forwards&quot;}}&gt;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#11088;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#ffd700&quot;,fontSize:&quot;1.4rem&quot;,fontWeight:900,margin:&quot;8px
0 2px&quot;}}&gt;+{reward.amount} </span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#a8e6cf&quot;,fontSize:&quot;0.8rem&quot;,margin:&quot;0 0
2px&quot;}}&gt;Base: {reward.amount - reward.bonus} + Bonus:
{reward.bonus}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#ffd700&quot;,fontSize:&quot;0.8rem&quot;,margin:0}}&gt;¡Ahorraste
{Math.floor(reward.secondsSaved/60)}:{String(reward.secondsSaved%60).padStart(2,&quot;0&quot;)}
min! </span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          ) : (</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{fontSize:&quot;2.5rem&quot;,animation:&quot;coinfly 1.5s ease
forwards&quot;}}&gt;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#ffd700&quot;,fontSize:&quot;1.5rem&quot;,fontWeight:900,margin:&quot;8px
0 4px&quot;}}&gt;+{reward.amount}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#a8e6cf&quot;,fontSize:&quot;0.85rem&quot;}}&gt;¡{reward.mission}
completada!&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          )}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      )}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* Header */}</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div style={{padding:&quot;16px
20px
8px&quot;,display:&quot;flex&quot;,justifyContent:&quot;space-between&quot;,alignItems:&quot;center&quot;,background:&quot;rgba(0,0,0,0.2)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;h1
style={{margin:0,fontSize:&quot;1.5rem&quot;,fontWeight:900,color:&quot;#00e5ff&quot;,letterSpacing:2}}&gt;GANRRO&lt;/h1&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          </span>&lt;p
style={{margin:0,fontSize:&quot;0.75rem&quot;,color:&quot;#7ec8e3&quot;}}&gt;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span> Ahorra agua,
salva el mundo&lt;/p&gt;</p>

<p class=MsoNormal>        <span lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{display:&quot;flex&quot;,gap:12,alignItems:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{background:&quot;rgba(255,215,0,0.15)&quot;,border:&quot;1px solid
#ffd700&quot;,borderRadius:20,padding:&quot;6px
12px&quot;,display:&quot;flex&quot;,gap:6,alignItems:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&lt;/span&gt;&lt;span
style={{color:&quot;#ffd700&quot;,fontWeight:800}}&gt;{state.coins}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{background:&quot;rgba(255,100,0,0.15)&quot;,border:&quot;1px solid
#ff6400&quot;,borderRadius:20,padding:&quot;6px
12px&quot;,display:&quot;flex&quot;,gap:6,alignItems:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128293;</span><span
lang=EN-US>&lt;/span&gt;&lt;span
style={{color:&quot;#ff8c42&quot;,fontWeight:800}}&gt;{state.streak}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {state.streakShields &gt; 0
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{background:&quot;rgba(0,229,255,0.15)&quot;,border:&quot;1px solid
#00e5ff&quot;,borderRadius:20,padding:&quot;6px
10px&quot;,display:&quot;flex&quot;,gap:4,alignItems:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128737;&#65039;</span><span
lang=EN-US>&lt;/span&gt;&lt;span
style={{color:&quot;#00e5ff&quot;,fontWeight:800}}&gt;{state.streakShields}&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          )}</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* Tab Navigation */}</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div
style={{display:&quot;flex&quot;,background:&quot;rgba(0,0,0,0.3)&quot;,borderBottom:&quot;1px
solid rgba(0,229,255,0.2)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        {[[&quot;home&quot;,&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127968;</span><span
lang=EN-US>&quot;,&quot;Inicio&quot;],[&quot;missions&quot;,&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128203;</span><span
lang=EN-US>&quot;,&quot;Misiones&quot;],[&quot;shop&quot;,&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127978;</span><span
lang=EN-US>&quot;,&quot;Tienda&quot;],[&quot;snake&quot;,&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127918;</span><span
lang=EN-US>&quot;,&quot;Jugar&quot;]].map(([tab,icon,label])=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;button key={tab}
className=&quot;tab-btn&quot; onClick={()=&gt;setActiveTab(tab)}
style={{flex:1,padding:&quot;10px
4px&quot;,background:activeTab===tab?&quot;rgba(0,229,255,0.15)&quot;:&quot;transparent&quot;,border:&quot;none&quot;,borderBottom:activeTab===tab?&quot;2px
solid #00e5ff&quot;:&quot;2px solid
transparent&quot;,color:activeTab===tab?&quot;#00e5ff&quot;:&quot;#7ec8e3&quot;,cursor:&quot;pointer&quot;,fontSize:&quot;0.7rem&quot;,transition:&quot;all
0.2s&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{fontSize:&quot;1.1rem&quot;}}&gt;{icon}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{fontWeight:activeTab===tab?700:400}}&gt;{label}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        ))}</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* HOME TAB */}</span></p>

<p class=MsoNormal><span lang=EN-US>      {activeTab === &quot;home&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div style={{padding:&quot;20px
16px&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Pet area */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{background:&quot;linear-gradient(135deg,rgba(10,61,46,0.8),rgba(13,33,55,0.8))&quot;,borderRadius:20,padding:24,border:&quot;1px
solid
rgba(0,229,255,0.2)&quot;,marginBottom:16,textAlign:&quot;center&quot;,position:&quot;relative&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Nest decorations */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{position:&quot;absolute&quot;,bottom:16,left:12,fontSize:&quot;1.3rem&quot;,opacity:0.7,display:&quot;flex&quot;,gap:2,flexWrap:&quot;wrap&quot;,maxWidth:80}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>             
{state.owned.includes(&quot;nest1&quot;)&amp;&amp;&lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127811;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>             
{state.owned.includes(&quot;nest2&quot;)&amp;&amp;&lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129704;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>             
{state.owned.includes(&quot;nest3&quot;)&amp;&amp;&lt;span&gt;</span><span
lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#9970;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>             
{state.owned.includes(&quot;nest4&quot;)&amp;&amp;&lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127807;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>             
{state.owned.includes(&quot;nest5&quot;)&amp;&amp;&lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129717;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>             
{state.owned.includes(&quot;nest6&quot;)&amp;&amp;&lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128166;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>             
{state.owned.includes(&quot;nest7&quot;)&amp;&amp;&lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127802;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>             
{state.owned.includes(&quot;nest8&quot;)&amp;&amp;&lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128142;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>             
{state.owned.includes(&quot;nest9&quot;)&amp;&amp;&lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128294;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>             
{state.owned.includes(&quot;nest10&quot;)&amp;&amp;&lt;span&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129722;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;p
style={{color:&quot;#7ec8e3&quot;,fontSize:&quot;0.8rem&quot;,margin:&quot;0 0
4px&quot;,letterSpacing:1}}&gt;{EVO_SPRITES[state.evoLevel].name}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* SVG Pet with clothing
overlay */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{position:&quot;relative&quot;,display:&quot;inline-block&quot;}}
onClick={()=&gt;{setPetAnim(true);setTimeout(()=&gt;setPetAnim(false),600);}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;PetSprite
level={state.evoLevel} owned={state.owned} anim={petAnim}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              {/* Clothing overlays -
positioned relative to sprite */}</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{position:&quot;absolute&quot;,top:0,left:0,right:0,bottom:0,pointerEvents:&quot;none&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>               
{state.owned.includes(&quot;crown&quot;)&amp;&amp;&lt;span
style={{position:&quot;absolute&quot;,top:-8,left:&quot;50%&quot;,transform:&quot;translateX(-50%)&quot;,fontSize:&quot;1.6rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128081;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>               
{state.owned.includes(&quot;hat&quot;)&amp;&amp;!state.owned.includes(&quot;crown&quot;)&amp;&amp;&lt;span
style={{position:&quot;absolute&quot;,top:-4,left:&quot;50%&quot;,transform:&quot;translateX(-50%)&quot;,fontSize:&quot;1.5rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127913;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>               
{state.owned.includes(&quot;bow&quot;)&amp;&amp;&lt;span
style={{position:&quot;absolute&quot;,top:6,right:4,fontSize:&quot;1.2rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127872;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>               
{state.owned.includes(&quot;glasses&quot;)&amp;&amp;&lt;span
style={{position:&quot;absolute&quot;,top:&quot;28%&quot;,left:&quot;50%&quot;,transform:&quot;translateX(-50%)&quot;,fontSize:&quot;1.1rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128374;&#65039;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>               
{state.owned.includes(&quot;scarf&quot;)&amp;&amp;&lt;span
style={{position:&quot;absolute&quot;,top:&quot;48%&quot;,left:&quot;50%&quot;,transform:&quot;translateX(-50%)&quot;,fontSize:&quot;1.1rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129507;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>               
{state.owned.includes(&quot;tshirt&quot;)&amp;&amp;&lt;span
style={{position:&quot;absolute&quot;,top:&quot;55%&quot;,left:&quot;50%&quot;,transform:&quot;translateX(-50%)&quot;,fontSize:&quot;1.1rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128085;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>               
{state.owned.includes(&quot;cape&quot;)&amp;&amp;&lt;span
style={{position:&quot;absolute&quot;,top:&quot;40%&quot;,right:0,fontSize:&quot;1.3rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129464;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>               
{state.owned.includes(&quot;backpack&quot;)&amp;&amp;&lt;span
style={{position:&quot;absolute&quot;,top:&quot;40%&quot;,left:0,fontSize:&quot;1.2rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127890;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>               
{state.owned.includes(&quot;boots&quot;)&amp;&amp;&lt;span
style={{position:&quot;absolute&quot;,bottom:4,left:&quot;50%&quot;,transform:&quot;translateX(-50%)&quot;,fontSize:&quot;1.1rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129406;</span><span
lang=EN-US>&lt;/span&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;h3
style={{color:&quot;#fff&quot;,margin:&quot;8px 0
4px&quot;,fontSize:&quot;1.4rem&quot;}}&gt;{state.lizardName}&lt;/h3&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {/* Happiness bar */}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{marginTop:12}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{display:&quot;flex&quot;,justifyContent:&quot;space-between&quot;,marginBottom:4}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;span
style={{color:&quot;#a8e6cf&quot;,fontSize:&quot;0.75rem&quot;}}&gt;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span><span
lang=EN-US> Felicidad&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;span
style={{color:&quot;#a8e6cf&quot;,fontSize:&quot;0.75rem&quot;}}&gt;{state.happiness}%&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{background:&quot;rgba(0,0,0,0.3)&quot;,borderRadius:50,height:8,overflow:&quot;hidden&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{height:&quot;100%&quot;,width:`${state.happiness}%`,background:`linear-gradient(90deg,#4caf50,#8bc34a)`,borderRadius:50,transition:&quot;width
0.5s ease&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {state.evoLevel &lt; 4
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#ffd700&quot;,fontSize:&quot;0.75rem&quot;,marginTop:12}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                </span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128161;</span> Completa
misiones y compra la evolución en la tienda para que {state.lizardName} crezca</p>

<p class=MsoNormal>              &lt;/p&gt;</p>

<p class=MsoNormal>            )}</p>

<p class=MsoNormal>            {state.evoLevel === 4 &amp;&amp; &lt;p
style={{color:&quot;#00e5ff&quot;,fontSize:&quot;0.85rem&quot;,marginTop:8}}&gt;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#11088;</span>
¡{state.lizardName} alcanzó su forma máxima!&lt;/p&gt;}</p>

<p class=MsoNormal>          <span lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Stats */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{display:&quot;grid&quot;,gridTemplateColumns:&quot;1fr 1fr
1fr&quot;,gap:10,marginBottom:16}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {[</span></p>

<p class=MsoNormal><span lang=EN-US>              [&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128293;</span><span
lang=EN-US>&quot;,&quot;Racha&quot;,`${state.streak} días`],</span></p>

<p class=MsoNormal><span lang=EN-US>              [&quot;</span><span
lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#9989;</span><span
lang=EN-US>&quot;,&quot;Hoy&quot;,`${missionsDoneToday}/${MISSIONS.length}`],</span></p>

<p class=MsoNormal><span lang=EN-US>              [&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128737;&#65039;</span><span
lang=EN-US>&quot;,&quot;Escudos&quot;,state.streakShields],</span></p>

<p class=MsoNormal><span lang=EN-US>            ].map(([icon,label,val])=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div key={label}
style={{background:&quot;rgba(0,0,0,0.3)&quot;,borderRadius:12,padding:&quot;12px
8px&quot;,textAlign:&quot;center&quot;,border:&quot;1px solid
rgba(0,229,255,0.1)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{fontSize:&quot;1.5rem&quot;}}&gt;{icon}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{color:&quot;#00e5ff&quot;,fontWeight:800,fontSize:&quot;1rem&quot;}}&gt;{val}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{color:&quot;#7ec8e3&quot;,fontSize:&quot;0.7rem&quot;}}&gt;{label}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            ))}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Today's progress */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{background:&quot;rgba(0,0,0,0.2)&quot;,borderRadius:16,padding:16,border:&quot;1px
solid rgba(0,229,255,0.1)&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            </span>&lt;h4
style={{margin:&quot;0 0
12px&quot;,color:&quot;#00e5ff&quot;,fontSize:&quot;0.9rem&quot;}}&gt;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128197;</span> Misiones de
hoy&lt;/h4&gt;</p>

<p class=MsoNormal>            <span lang=EN-US>&lt;div
style={{display:&quot;flex&quot;,gap:6,flexWrap:&quot;wrap&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              {MISSIONS.map(m=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div key={m.id}
style={{padding:&quot;6px
10px&quot;,borderRadius:20,background:isMissionDone(m.id)?&quot;rgba(76,175,80,0.3)&quot;:&quot;rgba(0,0,0,0.3)&quot;,border:`1px
solid ${isMissionDone(m.id)?&quot;#4caf50&quot;:&quot;rgba(255,255,255,0.1)&quot;}`,fontSize:&quot;0.75rem&quot;,color:isMissionDone(m.id)?&quot;#a5d6a7&quot;:&quot;#7ec8e3&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                 
{isMissionDone(m.id)?&quot;</span><span lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#9989;</span><span
lang=EN-US>&quot;:&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#11093;</span><span
lang=EN-US>&quot;} {m.icon}</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              ))}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{marginTop:12,background:&quot;rgba(0,0,0,0.3)&quot;,borderRadius:50,height:6,overflow:&quot;hidden&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{height:&quot;100%&quot;,width:`${(missionsDoneToday/MISSIONS.length)*100}%`,background:&quot;linear-gradient(90deg,#00b4d8,#00e5ff)&quot;,borderRadius:50,transition:&quot;width
0.5s ease&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      )}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* MISSIONS TAB */}</span></p>

<p class=MsoNormal><span lang=EN-US>      {activeTab === &quot;missions&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{padding:&quot;16px&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          </span>&lt;h3
style={{color:&quot;#00e5ff&quot;,margin:&quot;0 0 4px&quot;}}&gt;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128203;</span> Misiones de
ahorro&lt;/h3&gt;</p>

<p class=MsoNormal>          &lt;p
style={{color:&quot;#7ec8e3&quot;,fontSize:&quot;0.8rem&quot;,margin:&quot;0 0
16px&quot;}}&gt;Completa misiones en la vida real para ganar monedas <span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span>&lt;/p&gt;</p>

<p class=MsoNormal>          <span lang=EN-US>&lt;div
style={{display:&quot;flex&quot;,flexDirection:&quot;column&quot;,gap:10}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {MISSIONS.map(mission=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>              const done =
isMissionDone(mission.id);</span></p>

<p class=MsoNormal><span lang=EN-US>              return (</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div key={mission.id}
className=&quot;mission-card&quot;
style={{background:done?&quot;rgba(76,175,80,0.15)&quot;:&quot;rgba(0,0,0,0.3)&quot;,border:`1px
solid
${done?&quot;#4caf50&quot;:&quot;rgba(0,229,255,0.2)&quot;}`,borderRadius:16,padding:&quot;14px
16px&quot;,display:&quot;flex&quot;,alignItems:&quot;center&quot;,gap:14,cursor:done?&quot;default&quot;:&quot;pointer&quot;,transition:&quot;all
0.2s&quot;,boxShadow:&quot;0 4px 12px rgba(0,0,0,0.2)&quot;}}
onClick={()=&gt;!done&amp;&amp;startMission(mission)}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;div
style={{fontSize:&quot;2rem&quot;,flexShrink:0}}&gt;{mission.icon}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;div
style={{flex:1,minWidth:0}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;p
style={{margin:0,fontWeight:700,color:done?&quot;#a5d6a7&quot;:&quot;#fff&quot;,fontSize:&quot;0.9rem&quot;}}&gt;{mission.title}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;p
style={{margin:&quot;2px 0
0&quot;,fontSize:&quot;0.75rem&quot;,color:&quot;#7ec8e3&quot;}}&gt;{mission.desc}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;div
style={{flexShrink:0,textAlign:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    {done ? (</span></p>

<p class=MsoNormal><span lang=EN-US>                      &lt;span
style={{fontSize:&quot;1.5rem&quot;}}&gt;</span><span lang=EN-US
style='font-family:"Segoe UI Emoji",sans-serif'>&#9989;</span><span lang=EN-US>&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    ) : (</span></p>

<p class=MsoNormal><span lang=EN-US>                      &lt;div
style={{background:&quot;rgba(255,215,0,0.15)&quot;,border:&quot;1px solid
#ffd700&quot;,borderRadius:20,padding:&quot;4px
10px&quot;,color:&quot;#ffd700&quot;,fontSize:&quot;0.8rem&quot;,fontWeight:700}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                        +{mission.reward}</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span></p>

<p class=MsoNormal><span lang=EN-US>                      &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    )}</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              );</span></p>

<p class=MsoNormal><span lang=EN-US>            })}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      )}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* SHOP TAB */}</span></p>

<p class=MsoNormal><span lang=EN-US>      {activeTab === &quot;shop&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{padding:&quot;16px&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{display:&quot;flex&quot;,justifyContent:&quot;space-between&quot;,alignItems:&quot;center&quot;,marginBottom:12}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            </span>&lt;h3
style={{color:&quot;#00e5ff&quot;,margin:0}}&gt;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#127978;</span>
Tienda&lt;/h3&gt;</p>

<p class=MsoNormal>            <span lang=EN-US>&lt;div
style={{background:&quot;rgba(255,215,0,0.15)&quot;,border:&quot;1px solid
#ffd700&quot;,borderRadius:20,padding:&quot;6px
14px&quot;,color:&quot;#ffd700&quot;,fontWeight:800}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              </span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US> {state.coins}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{display:&quot;flex&quot;,gap:6,marginBottom:16,overflowX:&quot;auto&quot;,paddingBottom:4}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {[[&quot;evolution&quot;,&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#11014;&#65039;</span><span
lang=EN-US> Evolución&quot;],[&quot;clothes&quot;,&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128087;</span><span
lang=EN-US> Ropa&quot;],[&quot;food&quot;,&quot;</span><span style='font-family:
"Segoe UI Emoji",sans-serif'>&#127822;</span><span lang=EN-US>
Comida&quot;],[&quot;nest&quot;,&quot;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#127969;</span><span
lang=EN-US> Nido&quot;]].map(([cat,label])=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;button key={cat}
onClick={()=&gt;setShopCategory(cat)} style={{padding:&quot;8px
14px&quot;,borderRadius:20,border:`1px solid
${shopCategory===cat?&quot;#00e5ff&quot;:&quot;rgba(0,229,255,0.2)&quot;}`,background:shopCategory===cat?&quot;rgba(0,229,255,0.15)&quot;:&quot;transparent&quot;,color:shopCategory===cat?&quot;#00e5ff&quot;:&quot;#7ec8e3&quot;,cursor:&quot;pointer&quot;,whiteSpace:&quot;nowrap&quot;,fontSize:&quot;0.8rem&quot;,fontWeight:shopCategory===cat?700:400}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                {label}</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            ))}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{display:&quot;flex&quot;,flexDirection:&quot;column&quot;,gap:10}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>           
{SHOP_ITEMS.filter(i=&gt;i.category===shopCategory).map(item=&gt;{</span></p>

<p class=MsoNormal><span lang=EN-US>              const owned =
state.owned.includes(item.id);</span></p>

<p class=MsoNormal><span lang=EN-US>              const canBuy = state.coins
&gt;= item.price &amp;&amp; !owned;</span></p>

<p class=MsoNormal><span lang=EN-US>              const isNextEvo =
item.category===&quot;evolution&quot; &amp;&amp; item.evoLevel ===
state.evoLevel + 1;</span></p>

<p class=MsoNormal><span lang=EN-US>              const isLockedEvo =
item.category===&quot;evolution&quot; &amp;&amp; item.evoLevel &gt;
state.evoLevel + 1;</span></p>

<p class=MsoNormal><span lang=EN-US>              return (</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div key={item.id}
className=&quot;shop-card&quot;
style={{background:owned?&quot;rgba(76,175,80,0.1)&quot;:isLockedEvo?&quot;rgba(0,0,0,0.2)&quot;:&quot;rgba(0,0,0,0.3)&quot;,border:`1px
solid ${owned?&quot;#4caf50&quot;:isNextEvo?&quot;#ffd700&quot;:&quot;rgba(0,229,255,0.15)&quot;}`,borderRadius:16,padding:&quot;14px
16px&quot;,display:&quot;flex&quot;,alignItems:&quot;center&quot;,gap:14,transition:&quot;all
0.2s&quot;,boxShadow:&quot;0 4px 12px rgba(0,0,0,0.2)&quot;,opacity:isLockedEvo?0.5:1}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;div
style={{fontSize:&quot;2rem&quot;,flexShrink:0}}&gt;{item.icon}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;div
style={{flex:1}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;p
style={{margin:0,fontWeight:700,color:owned?&quot;#a5d6a7&quot;:&quot;#fff&quot;,fontSize:&quot;0.9rem&quot;}}&gt;{item.name}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;p
style={{margin:&quot;2px 0
0&quot;,fontSize:&quot;0.75rem&quot;,color:&quot;#7ec8e3&quot;}}&gt;{item.desc}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    </span>{isNextEvo
&amp;&amp; &lt;p style={{margin:&quot;4px 0
0&quot;,fontSize:&quot;0.7rem&quot;,color:&quot;#ffd700&quot;}}&gt;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#11088;</span> Siguiente
evolución disponible&lt;/p&gt;}</p>

<p class=MsoNormal>                    {isLockedEvo &amp;&amp; &lt;p
style={{margin:&quot;4px 0
0&quot;,fontSize:&quot;0.7rem&quot;,color:&quot;#ff8c42&quot;}}&gt;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128274;</span> Evoluciona
primero&lt;/p&gt;}</p>

<p class=MsoNormal>                  <span lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  {owned ? (</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;span
style={{fontSize:&quot;1.2rem&quot;}}&gt;</span><span lang=EN-US
style='font-family:"Segoe UI Emoji",sans-serif'>&#9989;</span><span lang=EN-US>&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  ) : (</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;button
onClick={()=&gt;buyItem(item)} disabled={!canBuy&amp;&amp;!isLockedEvo}
style={{padding:&quot;8px
14px&quot;,background:canBuy?&quot;linear-gradient(90deg,#00b4d8,#00e5ff)&quot;:isLockedEvo?&quot;rgba(100,100,100,0.3)&quot;:&quot;rgba(100,100,100,0.3)&quot;,border:&quot;none&quot;,borderRadius:12,color:canBuy?&quot;#0a1628&quot;:&quot;#666&quot;,fontWeight:700,cursor:canBuy?&quot;pointer&quot;:&quot;not-allowed&quot;,fontSize:&quot;0.8rem&quot;,flexShrink:0,whiteSpace:&quot;nowrap&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                      {isLockedEvo?&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128274;</span><span
lang=EN-US>&quot;:`</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>${item.price}`}</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  )}</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              );</span></p>

<p class=MsoNormal><span lang=EN-US>            })}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      )}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* GAMES TAB */}</span></p>

<p class=MsoNormal><span lang=EN-US>      {activeTab === &quot;snake&quot;
&amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div style={{padding:&quot;16px
14px&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;h3
style={{color:&quot;#00e5ff&quot;,margin:&quot;0 0
2px&quot;,fontSize:&quot;1.1rem&quot;}}&gt;</span><span style='font-family:
"Segoe UI Emoji",sans-serif'>&#127918;</span><span lang=EN-US> Juegos con
{state.lizardName}&lt;/h3&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          </span>&lt;p
style={{color:&quot;#7ec8e3&quot;,fontSize:&quot;0.78rem&quot;,margin:&quot;0 0
14px&quot;}}&gt;Interactúa con tu lagartija y gana recompensas&lt;/p&gt;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>          <span lang=EN-US>{/* Pou-style interactive games
*/}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;p
style={{color:&quot;#e91e63&quot;,fontWeight:700,fontSize:&quot;0.78rem&quot;,margin:&quot;0
0 8px&quot;,letterSpacing:1}}&gt;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128150;</span><span
lang=EN-US> INTERACTIVOS&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{display:&quot;grid&quot;,gridTemplateColumns:&quot;1fr
1fr&quot;,gap:10,marginBottom:14}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            </span>{[</p>

<p class=MsoNormal>              {label:&quot;Mimar&quot;,icon:&quot;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128150;</span>&quot;,desc:&quot;Toca
a tu
lagartija&quot;,color:&quot;#e91e63&quot;,bg:&quot;rgba(233,30,99,0.12)&quot;,border:&quot;#e91e63&quot;,fn:()=&gt;setShowCuddle(true)},</p>

<p class=MsoNormal>              {label:&quot;Bañar&quot;,icon:&quot;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128705;</span>&quot;,desc:&quot;Frota
y
limpia&quot;,color:&quot;#29b6f6&quot;,bg:&quot;rgba(41,182,246,0.12)&quot;,border:&quot;#29b6f6&quot;,fn:()=&gt;setShowBath(true)},</p>

<p class=MsoNormal>              {label:&quot;Alimentar&quot;,icon:&quot;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127869;&#65039;</span>&quot;,desc:&quot;Arrastra
comida&quot;,color:&quot;#ff9800&quot;,bg:&quot;rgba(255,152,0,0.12)&quot;,border:&quot;#ff9800&quot;,fn:()=&gt;setShowFeed(true)},</p>

<p class=MsoNormal>              {label:&quot;Gotitas&quot;,icon:&quot;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128167;</span>&quot;,desc:&quot;Toca
las
gotas&quot;,color:&quot;#00e5ff&quot;,bg:&quot;rgba(0,229,255,0.12)&quot;,border:&quot;#00e5ff&quot;,fn:()=&gt;setShowBubble(true)},</p>

<p class=MsoNormal>            ].map(g=&gt;(</p>

<p class=MsoNormal>              &lt;button key={g.label} onClick={g.fn}
style={{background:g.bg,border:`1.5px solid
${g.border}`,borderRadius:16,padding:&quot;14px
10px&quot;,cursor:&quot;pointer&quot;,textAlign:&quot;center&quot;,transition:&quot;transform
0.15s&quot;}}&gt;</p>

<p class=MsoNormal>                <span lang=EN-US>&lt;div
style={{fontSize:&quot;2rem&quot;,marginBottom:4}}&gt;{g.icon}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{color:g.color,fontWeight:800,fontSize:&quot;0.88rem&quot;}}&gt;{g.label}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{color:&quot;#7ec8e3&quot;,fontSize:&quot;0.68rem&quot;,marginTop:2}}&gt;{g.desc}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            ))}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Action games */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;p
style={{color:&quot;#ffd700&quot;,fontWeight:700,fontSize:&quot;0.78rem&quot;,margin:&quot;0
0 8px&quot;,letterSpacing:1}}&gt;</span><span lang=EN-US style='font-family:
"Segoe UI Emoji",sans-serif'>&#9876;&#65039;</span><span lang=EN-US> DE
ACCIÓN&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{display:&quot;grid&quot;,gridTemplateColumns:&quot;1fr
1fr&quot;,gap:10,marginBottom:14}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            </span>{[</p>

<p class=MsoNormal>              {label:&quot;Aventura&quot;,icon:&quot;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#127939;</span>&quot;,desc:&quot;Plataformas
Mario&quot;,color:&quot;#ffd700&quot;,bg:&quot;rgba(255,215,0,0.1)&quot;,border:&quot;#ffd700&quot;,fn:()=&gt;setShowMario(true)},</p>

<p class=MsoNormal>              <span lang=EN-US>{label:&quot;Snake&quot;,icon:&quot;</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128013;</span><span
lang=EN-US>&quot;,desc:&quot;Recoge 5
gotas&quot;,color:&quot;#4caf50&quot;,bg:&quot;rgba(76,175,80,0.1)&quot;,border:&quot;#4caf50&quot;,fn:()=&gt;setShowSnake(true)},</span></p>

<p class=MsoNormal><span lang=EN-US>            ].map(g=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;button key={g.label}
onClick={g.fn} style={{background:g.bg,border:`1.5px solid
${g.border}`,borderRadius:16,padding:&quot;14px
10px&quot;,cursor:&quot;pointer&quot;,textAlign:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{fontSize:&quot;2rem&quot;,marginBottom:4}}&gt;{g.icon}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{color:g.color,fontWeight:800,fontSize:&quot;0.88rem&quot;}}&gt;{g.label}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                &lt;div
style={{color:&quot;#7ec8e3&quot;,fontSize:&quot;0.68rem&quot;,marginTop:2}}&gt;{g.desc}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            ))}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>          {/* Shields status */}</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{background:&quot;rgba(0,0,0,0.2)&quot;,borderRadius:14,padding:&quot;10px
14px&quot;,border:&quot;1px solid
rgba(0,229,255,0.1)&quot;,display:&quot;flex&quot;,gap:10,alignItems:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;span
style={{fontSize:&quot;1.4rem&quot;}}&gt;</span><span style='font-family:"Segoe UI Emoji",sans-serif'>&#128737;&#65039;</span><span
lang=EN-US>&lt;/span&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#00e5ff&quot;,fontWeight:700,margin:0,fontSize:&quot;0.82rem&quot;}}&gt;Escudos:
{state.streakShields}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              </span>&lt;p
style={{color:&quot;#7ec8e3&quot;,fontSize:&quot;0.7rem&quot;,margin:0}}&gt;Snake
da escudos para proteger tu racha.&lt;/p&gt;</p>

<p class=MsoNormal>            <span lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>      )}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* Bottom padding */}</span></p>

<p class=MsoNormal><span lang=EN-US>      &lt;div style={{height:20}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>      {/* MISSION MODAL */}</span></p>

<p class=MsoNormal><span lang=EN-US>      {missionModal &amp;&amp;
!confirmModal &amp;&amp; (</span></p>

<p class=MsoNormal><span lang=EN-US>        &lt;div
style={{position:&quot;fixed&quot;,inset:0,background:&quot;rgba(0,0,0,0.8)&quot;,display:&quot;flex&quot;,alignItems:&quot;flex-end&quot;,justifyContent:&quot;center&quot;,zIndex:100}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>          &lt;div
style={{background:&quot;linear-gradient(135deg,#0d2137,#0a3d2e)&quot;,borderRadius:&quot;20px
20px 0 0&quot;,padding:28,width:&quot;100%&quot;,maxWidth:480,border:&quot;1px
solid rgba(0,229,255,0.3)&quot;,animation:&quot;slide-up 0.3s ease&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;div
style={{textAlign:&quot;center&quot;,marginBottom:20}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{fontSize:&quot;3rem&quot;}}&gt;{missionModal.icon}&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;h3
style={{color:&quot;#00e5ff&quot;,margin:&quot;8px 0
4px&quot;}}&gt;{missionModal.title}&lt;/h3&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#a8e6cf&quot;,fontSize:&quot;0.9rem&quot;,margin:0}}&gt;{missionModal.desc}&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;p
style={{color:&quot;#ffd700&quot;,fontSize:&quot;0.85rem&quot;,margin:&quot;8px
0 0&quot;}}&gt;Recompensa: +{missionModal.reward} </span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            {missionModal.type ===
&quot;timer&quot; ? (</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;div
style={{textAlign:&quot;center&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                {timerActive ? (</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    {/* Time display —
switches to red overflow counter when done */}</span></p>

<p class=MsoNormal><span lang=EN-US>                    {!timerFinished ? (</span></p>

<p class=MsoNormal><span lang=EN-US>                      &lt;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                        &lt;div
style={{fontSize:&quot;3.5rem&quot;,fontWeight:900,color: timerLeft &lt;= 60 ?
&quot;#ff6b6b&quot; : timerLeft &lt;= 120 ? &quot;#ffb347&quot; :
&quot;#00e5ff&quot;,fontFamily:&quot;monospace&quot;,margin:&quot;12px 0&quot;,transition:&quot;color
0.5s&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                         
{Math.floor(timerLeft/60).toString().padStart(2,&quot;0&quot;)}:{(timerLeft%60).toString().padStart(2,&quot;0&quot;)}</span></p>

<p class=MsoNormal><span lang=EN-US>                        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                        {/* Progress bar —
turns red as time runs out */}</span></p>

<p class=MsoNormal><span lang=EN-US>                        &lt;div
style={{background:&quot;rgba(0,0,0,0.3)&quot;,borderRadius:50,height:10,marginBottom:8,overflow:&quot;hidden&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                          &lt;div
style={{height:&quot;100%&quot;,width:`${((missionModal.duration-timerLeft)/missionModal.duration)*100}%`,background:
timerLeft &lt;= 60 ? &quot;linear-gradient(90deg,#f44336,#ff6b6b)&quot; :
timerLeft &lt;= 120 ? &quot;linear-gradient(90deg,#ff8c00,#ffb347)&quot; :
&quot;linear-gradient(90deg,#00b4d8,#00e5ff)&quot;,borderRadius:50,transition:&quot;width
1s linear, background 0.5s&quot;}}/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                        {/* Bonus indicator
*/}</span></p>

<p class=MsoNormal><span lang=EN-US>                        &lt;div
style={{display:&quot;flex&quot;,justifyContent:&quot;center&quot;,gap:8,marginBottom:14,flexWrap:&quot;wrap&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                         
{[{secs:120,bonus:20,label:&quot;2+ min &#8594; +20</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&quot;},{secs:60,bonus:12,label:&quot;1+ min &#8594; +12</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&quot;},{secs:30,bonus:6,label:&quot;30s+ &#8594; +6</span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US>&quot;}].map(b=&gt;(</span></p>

<p class=MsoNormal><span lang=EN-US>                            &lt;div
key={b.secs} style={{padding:&quot;3px
10px&quot;,borderRadius:20,fontSize:&quot;0.7rem&quot;,background: timerLeft
&gt;= b.secs ? &quot;rgba(76,175,80,0.25)&quot; :
&quot;rgba(255,255,255,0.07)&quot;,border:`1px solid ${timerLeft &gt;= b.secs ?
&quot;#4caf50&quot; : &quot;rgba(255,255,255,0.15)&quot;}`,color: timerLeft
&gt;= b.secs ? &quot;#a5d6a7&quot; : &quot;#555&quot;,transition:&quot;all
0.4s&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                              {b.label}</span></p>

<p class=MsoNormal><span lang=EN-US>                            &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                          ))}</span></p>

<p class=MsoNormal><span lang=EN-US>                        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                        {timerLeft &lt;= 60
&amp;&amp; &lt;p
style={{color:&quot;#ff6b6b&quot;,fontSize:&quot;0.8rem&quot;,margin:&quot;0 0
12px&quot;,animation:&quot;shimmer 1s ease-in-out infinite&quot;}}&gt;</span><span
lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#9888;&#65039;</span><span
lang=EN-US> ¡Casi se acaba el tiempo!&lt;/p&gt;}</span></p>

<p class=MsoNormal><span lang=EN-US>                      &lt;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    ) : (</span></p>

<p class=MsoNormal><span lang=EN-US>                      &lt;&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                        {/* OVERTIME
display */}</span></p>

<p class=MsoNormal><span lang=EN-US>                        &lt;div
style={{fontSize:&quot;3rem&quot;,fontWeight:900,color:&quot;#f44336&quot;,fontFamily:&quot;monospace&quot;,margin:&quot;12px
0&quot;,animation:&quot;pulse 0.8s ease-in-out infinite&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                         
+{Math.floor(timerOverflow/60).toString().padStart(2,&quot;0&quot;)}:{(timerOverflow%60).toString().padStart(2,&quot;0&quot;)}</span></p>

<p class=MsoNormal><span lang=EN-US>                        &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                        &lt;p
style={{color:&quot;#ff6b6b&quot;,fontSize:&quot;0.9rem&quot;,margin:&quot;0 0
6px&quot;,fontWeight:700}}&gt;</span><span lang=EN-US style='font-family:"Segoe UI Emoji",sans-serif'>&#9200;</span><span
lang=EN-US> </span><span lang=EN-US>¡</span><span lang=EN-US>Tiempo
superado!&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                        {/* Penalty warning
*/}</span></p>

<p class=MsoNormal><span lang=EN-US>                        &lt;div
style={{background:&quot;rgba(244,67,54,0.15)&quot;,border:&quot;1px solid
#f44336&quot;,borderRadius:12,padding:&quot;10px
14px&quot;,marginBottom:12}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                          </span>&lt;p
style={{color:&quot;#ffaaaa&quot;,fontSize:&quot;0.8rem&quot;,margin:&quot;0 0
4px&quot;}}&gt;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#128148;</span>
Penalización de felicidad activa&lt;/p&gt;</p>

<p class=MsoNormal>                          <span lang=EN-US>&lt;p
style={{color:&quot;#ff6b6b&quot;,fontWeight:800,margin:0,fontSize:&quot;0.85rem&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                            </span>-{Math.min(30,
Math.floor(timerOverflow/15)*5+5)} felicidad y contando...</p>

<p class=MsoNormal>                          &lt;/p&gt;</p>

<p class=MsoNormal>                        &lt;/div&gt;</p>

<p class=MsoNormal>                        &lt;p
style={{color:&quot;#ffcccc&quot;,fontSize:&quot;0.75rem&quot;,margin:&quot;0 0
14px&quot;,opacity:0.8}}&gt;Toca &quot;¡Listo!&quot; para detener la
penalización <span style='font-family:"Segoe UI Emoji",sans-serif'>&#128703;</span>&lt;/p&gt;</p>

<p class=MsoNormal>                      <span lang=EN-US>&lt;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    )}</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>                    {/* LISTO BUTTON */}</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;button
onClick={finishShowerEarly} style={{padding:&quot;15px 40px&quot;,background:
timerFinished ? &quot;linear-gradient(90deg,#f44336,#ff6b6b)&quot; : timerLeft
&gt; 0 ? &quot;linear-gradient(90deg,#4caf50,#8bc34a)&quot; : &quot;linear-gradient(90deg,#00b4d8,#00e5ff)&quot;,border:&quot;none&quot;,borderRadius:50,color:&quot;#fff&quot;,fontWeight:900,fontSize:&quot;1.05rem&quot;,cursor:&quot;pointer&quot;,width:&quot;100%&quot;,boxShadow:
timerFinished ? &quot;0 0 20px rgba(244,67,54,0.5)&quot; : &quot;0 0 20px
rgba(76,175,80,0.4)&quot;,animation: timerFinished ? &quot;pulse 0.8s
ease-in-out infinite&quot; : &quot;none&quot;,letterSpacing:0.5}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                      </span>{timerFinished
? &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#128721;</span>
¡Listo! (detener penalización)&quot; : timerLeft &gt; 0 ? &quot;<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#9989;</span> ¡Listo! Terminé
antes&quot; : &quot;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#9989;</span>
¡Listo!&quot;}</p>

<p class=MsoNormal>                    &lt;/button&gt;</p>

<p class=MsoNormal>                    &lt;p
style={{color:&quot;#7ec8e3&quot;,fontSize:&quot;0.72rem&quot;,marginTop:8,opacity:0.7}}&gt;</p>

<p class=MsoNormal>                      {timerLeft &gt; 0 ? `<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128161;</span> Terminar antes
= monedas extra <span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span>`
: &quot;Toca Listo para finalizar&quot;}</p>

<p class=MsoNormal>                    &lt;/p&gt;</p>

<p class=MsoNormal>                  &lt;/&gt;</p>

<p class=MsoNormal>                ) : (</p>

<p class=MsoNormal>                  &lt;&gt;</p>

<p class=MsoNormal>                    &lt;p
style={{color:&quot;#a8e6cf&quot;,margin:&quot;0 0 8px&quot;}}&gt;Inicia el
temporizador cuando entres a la ducha.&lt;/p&gt;</p>

<p class=MsoNormal>                    <span lang=EN-US>&lt;div
style={{background:&quot;rgba(0,229,255,0.08)&quot;,border:&quot;1px solid
rgba(0,229,255,0.2)&quot;,borderRadius:12,padding:&quot;10px
14px&quot;,marginBottom:18,fontSize:&quot;0.78rem&quot;,color:&quot;#7ec8e3&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                      </span>&lt;p
style={{margin:&quot;0 0
4px&quot;,fontWeight:700,color:&quot;#00e5ff&quot;}}&gt;<span style='font-family:
"Segoe UI Emoji",sans-serif'>&#128161;</span> Sistema de
bonificación:&lt;/p&gt;</p>

<p class=MsoNormal>                      &lt;p style={{margin:&quot;0 0
2px&quot;}}&gt;Termina 2+ min antes &#8594; +20 <span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span>
extra&lt;/p&gt;</p>

<p class=MsoNormal>                      &lt;p style={{margin:&quot;0 0
2px&quot;}}&gt;Termina 1+ min antes &#8594; +12 <span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span>
extra&lt;/p&gt;</p>

<p class=MsoNormal>                      <span lang=EN-US>&lt;p
style={{margin:&quot;0 0 4px&quot;}}&gt;Termina 30s antes &#8594; +6 </span><span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span><span
lang=EN-US> extra&lt;/p&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                      </span>&lt;p
style={{margin:0,color:&quot;#ff9999&quot;}}&gt;<span style='font-family:"Segoe UI Emoji",sans-serif'>&#9888;&#65039;</span>
Pasarte del tiempo &#8594; pierde felicidad <span style='font-family:"Segoe UI Emoji",sans-serif'>&#128148;</span>&lt;/p&gt;</p>

<p class=MsoNormal>                    <span lang=EN-US>&lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;button
onClick={startTimer} style={{padding:&quot;14px
40px&quot;,background:&quot;linear-gradient(90deg,#00b4d8,#00e5ff)&quot;,border:&quot;none&quot;,borderRadius:50,color:&quot;#0a1628&quot;,fontWeight:800,fontSize:&quot;1rem&quot;,cursor:&quot;pointer&quot;,width:&quot;100%&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                      </span><span
lang=EN-US style='font-family:"Segoe UI Symbol",sans-serif'>&#9201;</span><span
lang=EN-US> Iniciar temporizador</span></p>

<p class=MsoNormal><span lang=EN-US>                    &lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                  &lt;/&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                )}</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/div&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            ) : (</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;button
onClick={()=&gt;setConfirmModal(missionModal)} style={{padding:&quot;14px
40px&quot;,background:&quot;linear-gradient(90deg,#00b4d8,#00e5ff)&quot;,border:&quot;none&quot;,borderRadius:50,color:&quot;#0a1628&quot;,fontWeight:800,fontSize:&quot;1rem&quot;,cursor:&quot;pointer&quot;,width:&quot;100%&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>                </span><span lang=EN-US
style='font-family:"Segoe UI Emoji",sans-serif'>&#9989;</span><span lang=EN-US>
</span><span lang=EN-US>¡</span><span lang=EN-US>Misi</span><span lang=EN-US>ó</span><span
lang=EN-US>n completada!</span></p>

<p class=MsoNormal><span lang=EN-US>              &lt;/button&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>            )}</span></p>

<p class=MsoNormal><span lang=EN-US>            &lt;button
onClick={()=&gt;{setMissionModal(null);setTimerActive(false);setTimerFinished(false);setTimerOverflow(0);setTimerLeft(0);clearInterval(timerRef.current);}}
style={{marginTop:12,padding:&quot;12px&quot;,background:&quot;transparent&quot;,border:&quot;1px
solid
rgba(255,255,255,0.2)&quot;,borderRadius:12,color:&quot;#7ec8e3&quot;,cursor:&quot;pointer&quot;,width:&quot;100%&quot;,fontSize:&quot;0.9rem&quot;}}&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>              </span>Cancelar</p>

<p class=MsoNormal>            &lt;/button&gt;</p>

<p class=MsoNormal>          &lt;/div&gt;</p>

<p class=MsoNormal>        &lt;/div&gt;</p>

<p class=MsoNormal>      )}</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>      {/* CONFIRM MODAL */}</p>

<p class=MsoNormal>      {confirmModal &amp;&amp; (</p>

<p class=MsoNormal>        &lt;div
style={{position:&quot;fixed&quot;,inset:0,background:&quot;rgba(0,0,0,0.85)&quot;,display:&quot;flex&quot;,alignItems:&quot;center&quot;,justifyContent:&quot;center&quot;,zIndex:200,padding:24}}&gt;</p>

<p class=MsoNormal>          &lt;div
style={{background:&quot;linear-gradient(135deg,#0d2137,#0a3d2e)&quot;,borderRadius:20,padding:28,maxWidth:340,width:&quot;100%&quot;,border:&quot;2px
solid #ffd700&quot;,animation:&quot;pop 0.3s
ease&quot;,textAlign:&quot;center&quot;}}&gt;</p>

<p class=MsoNormal>            &lt;div
style={{fontSize:&quot;3rem&quot;,marginBottom:12}}&gt;<span style='font-family:
"Segoe UI Emoji",sans-serif'>&#9888;&#65039;</span>&lt;/div&gt;</p>

<p class=MsoNormal>            &lt;h3
style={{color:&quot;#ffd700&quot;,margin:&quot;0 0 12px&quot;}}&gt;¿Completaste
la misión?&lt;/h3&gt;</p>

<p class=MsoNormal>            &lt;p
style={{color:&quot;#a8e6cf&quot;,fontSize:&quot;0.9rem&quot;,margin:&quot;0 0
8px&quot;}}&gt;&quot;{confirmModal.title}&quot;&lt;/p&gt;</p>

<p class=MsoNormal>            &lt;p
style={{color:&quot;#ff8c42&quot;,fontSize:&quot;0.8rem&quot;,margin:&quot;0 0
24px&quot;}}&gt;De lo contrario, tu progreso podría perderse. <span
style='font-family:"Segoe UI Emoji",sans-serif'>&#129422;</span>&lt;/p&gt;</p>

<p class=MsoNormal>            &lt;div
style={{display:&quot;flex&quot;,gap:10}}&gt;</p>

<p class=MsoNormal>              &lt;button
onClick={()=&gt;{setConfirmModal(null);setMissionModal(null);}}
style={{flex:1,padding:&quot;12px&quot;,background:&quot;rgba(255,68,68,0.2)&quot;,border:&quot;1px
solid #f44336&quot;,borderRadius:12,color:&quot;#ff8080&quot;,cursor:&quot;pointer&quot;,fontWeight:700}}&gt;</p>

<p class=MsoNormal>                No, aún no</p>

<p class=MsoNormal>              &lt;/button&gt;</p>

<p class=MsoNormal>              &lt;button
onClick={()=&gt;completeMission(confirmModal)}
style={{flex:1,padding:&quot;12px&quot;,background:&quot;linear-gradient(90deg,#4caf50,#8bc34a)&quot;,border:&quot;none&quot;,borderRadius:12,color:&quot;#fff&quot;,cursor:&quot;pointer&quot;,fontWeight:700}}&gt;</p>

<p class=MsoNormal>                ¡Sí, lo hice! <span style='font-family:"Segoe UI Emoji",sans-serif'>&#127881;</span></p>

<p class=MsoNormal>              &lt;/button&gt;</p>

<p class=MsoNormal>            &lt;/div&gt;</p>

<p class=MsoNormal>          &lt;/div&gt;</p>

<p class=MsoNormal>        &lt;/div&gt;</p>

<p class=MsoNormal>      )}</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>      {/* SNAKE GAME */}</p>

<p class=MsoNormal>      {showSnake &amp;&amp; (</p>

<p class=MsoNormal>        &lt;SnakeGame</p>

<p class=MsoNormal>         
onWin={()=&gt;{setShowSnake(false);update({streakShields:state.streakShields+1});showNotif(&quot;¡Ganaste
un <span style='font-family:"Segoe UI Emoji",sans-serif'>&#128737;&#65039;</span>
Protector de racha!&quot;);}}</p>

<p class=MsoNormal>          onClose={()=&gt;setShowSnake(false)}</p>

<p class=MsoNormal>        /&gt;</p>

<p class=MsoNormal>      )}</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>      {/* MARIO GAME */}</p>

<p class=MsoNormal>      {showMario &amp;&amp; (</p>

<p class=MsoNormal>        &lt;MarioGame</p>

<p class=MsoNormal>          onFinish={(coins, happiness)=&gt;{</p>

<p class=MsoNormal>            setShowMario(false);</p>

<p class=MsoNormal>            update({coins: state.coins + coins, happiness:
Math.min(100, state.happiness + happiness)});</p>

<p class=MsoNormal>            showNotif(`¡+${coins}<span style='font-family:
"Segoe UI Emoji",sans-serif'>&#129689;</span> y +${happiness}<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span> ganados!`);</p>

<p class=MsoNormal>            setPetAnim(true);
setTimeout(()=&gt;setPetAnim(false),1000);</p>

<p class=MsoNormal>          }}</p>

<p class=MsoNormal>          onClose={()=&gt;setShowMario(false)}</p>

<p class=MsoNormal>        /&gt;</p>

<p class=MsoNormal>      )}</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>      {/* BUBBLE POP */}</p>

<p class=MsoNormal>      {showBubble &amp;&amp; (</p>

<p class=MsoNormal>        &lt;BubblePopGame</p>

<p class=MsoNormal>          evoLevel={state.evoLevel}
lizardName={state.lizardName}</p>

<p class=MsoNormal>          onFinish={(coins,happiness)=&gt;{</p>

<p class=MsoNormal>            setShowBubble(false);</p>

<p class=MsoNormal>           
update({coins:state.coins+coins,happiness:Math.min(100,state.happiness+happiness)});</p>

<p class=MsoNormal>            showNotif(`¡+${coins}<span style='font-family:
"Segoe UI Emoji",sans-serif'>&#129689;</span> y +${happiness}<span
style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span>!`);</p>

<p class=MsoNormal>           
setPetAnim(true);setTimeout(()=&gt;setPetAnim(false),1000);</p>

<p class=MsoNormal>          }}</p>

<p class=MsoNormal>          onClose={()=&gt;setShowBubble(false)}</p>

<p class=MsoNormal>        /&gt;</p>

<p class=MsoNormal>      )}</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>      {/* FEED GAME */}</p>

<p class=MsoNormal>      {showFeed &amp;&amp; (</p>

<p class=MsoNormal>        &lt;FeedGame</p>

<p class=MsoNormal>          evoLevel={state.evoLevel}
lizardName={state.lizardName} owned={state.owned}</p>

<p class=MsoNormal>          onFinish={(coins,happiness)=&gt;{</p>

<p class=MsoNormal>            setShowFeed(false);</p>

<p class=MsoNormal>           
update({coins:state.coins+coins,happiness:Math.min(100,state.happiness+happiness)});</p>

<p class=MsoNormal>            showNotif(`¡${state.lizardName} comió bien!
+${coins}<span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span>
+${happiness}<span style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span>`);</p>

<p class=MsoNormal>           
setPetAnim(true);setTimeout(()=&gt;setPetAnim(false),1000);</p>

<p class=MsoNormal>          }}</p>

<p class=MsoNormal>          onClose={()=&gt;setShowFeed(false)}</p>

<p class=MsoNormal>        /&gt;</p>

<p class=MsoNormal>      )}</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>      {/* BATH GAME */}</p>

<p class=MsoNormal>      {showBath &amp;&amp; (</p>

<p class=MsoNormal>        &lt;BathGame</p>

<p class=MsoNormal>          evoLevel={state.evoLevel}
lizardName={state.lizardName}</p>

<p class=MsoNormal>          onFinish={(coins,happiness)=&gt;{</p>

<p class=MsoNormal>            setShowBath(false);</p>

<p class=MsoNormal>           
update({coins:state.coins+coins,happiness:Math.min(100,state.happiness+happiness)});</p>

<p class=MsoNormal>            showNotif(`¡${state.lizardName} quedó limpia!
+${coins}<span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span>
+${happiness}<span style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span>`);</p>

<p class=MsoNormal>           
setPetAnim(true);setTimeout(()=&gt;setPetAnim(false),1000);</p>

<p class=MsoNormal>          }}</p>

<p class=MsoNormal>          onClose={()=&gt;setShowBath(false)}</p>

<p class=MsoNormal>        /&gt;</p>

<p class=MsoNormal>      )}</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>      {/* CUDDLE GAME */}</p>

<p class=MsoNormal>      {showCuddle &amp;&amp; (</p>

<p class=MsoNormal>        &lt;CuddleGame</p>

<p class=MsoNormal>          evoLevel={state.evoLevel}
lizardName={state.lizardName}</p>

<p class=MsoNormal>          onFinish={(coins,happiness)=&gt;{</p>

<p class=MsoNormal>            setShowCuddle(false);</p>

<p class=MsoNormal>           
update({coins:state.coins+coins,happiness:Math.min(100,state.happiness+happiness)});</p>

<p class=MsoNormal>            showNotif(`¡${state.lizardName} te quiere!
+${coins}<span style='font-family:"Segoe UI Emoji",sans-serif'>&#129689;</span>
+${happiness}<span style='font-family:"Segoe UI Emoji",sans-serif'>&#128522;</span>`);</p>

<p class=MsoNormal>           
setPetAnim(true);setTimeout(()=&gt;setPetAnim(false),1000);</p>

<p class=MsoNormal>          }}</p>

<p class=MsoNormal>          onClose={()=&gt;setShowCuddle(false)}</p>

<p class=MsoNormal>        /&gt;</p>

<p class=MsoNormal>      )}</p>

<p class=MsoNormal>    &lt;/div&gt;</p>

<p class=MsoNormal>  );</p>

<p class=MsoNormal>}</p>

</div>

</body>

</html>
